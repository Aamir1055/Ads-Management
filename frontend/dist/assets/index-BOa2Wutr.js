function Cy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function eg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ic={exports:{}},ii={},zc={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function Ey(){if(Qh)return je;Qh=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function _(E,U,A){this.props=E,this.context=U,this.refs=j,this.updater=A||w}_.prototype.isReactComponent={},_.prototype.setState=function(E,U){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,U,"setState")},_.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function R(){}R.prototype=_.prototype;function k(E,U,A){this.props=E,this.context=U,this.refs=j,this.updater=A||w}var D=k.prototype=new R;D.constructor=k,N(D,_.prototype),D.isPureReactComponent=!0;var T=Array.isArray,L=Object.prototype.hasOwnProperty,V={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function q(E,U,A){var H,ae={},xe=null,Ce=null;if(U!=null)for(H in U.ref!==void 0&&(Ce=U.ref),U.key!==void 0&&(xe=""+U.key),U)L.call(U,H)&&!z.hasOwnProperty(H)&&(ae[H]=U[H]);var Z=arguments.length-2;if(Z===1)ae.children=A;else if(1<Z){for(var ge=Array(Z),Re=0;Re<Z;Re++)ge[Re]=arguments[Re+2];ae.children=ge}if(E&&E.defaultProps)for(H in Z=E.defaultProps,Z)ae[H]===void 0&&(ae[H]=Z[H]);return{$$typeof:t,type:E,key:xe,ref:Ce,props:ae,_owner:V.current}}function Y(E,U){return{$$typeof:t,type:E.type,key:U,ref:E.ref,props:E.props,_owner:E._owner}}function se(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function re(E){var U={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(A){return U[A]})}var F=/\/+/g;function X(E,U){return typeof E=="object"&&E!==null&&E.key!=null?re(""+E.key):U.toString(36)}function ne(E,U,A,H,ae){var xe=typeof E;(xe==="undefined"||xe==="boolean")&&(E=null);var Ce=!1;if(E===null)Ce=!0;else switch(xe){case"string":case"number":Ce=!0;break;case"object":switch(E.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=E,ae=ae(Ce),E=H===""?"."+X(Ce,0):H,T(ae)?(A="",E!=null&&(A=E.replace(F,"$&/")+"/"),ne(ae,U,A,"",function(Re){return Re})):ae!=null&&(se(ae)&&(ae=Y(ae,A+(!ae.key||Ce&&Ce.key===ae.key?"":(""+ae.key).replace(F,"$&/")+"/")+E)),U.push(ae)),1;if(Ce=0,H=H===""?".":H+":",T(E))for(var Z=0;Z<E.length;Z++){xe=E[Z];var ge=H+X(xe,Z);Ce+=ne(xe,U,A,ge,ae)}else if(ge=b(E),typeof ge=="function")for(E=ge.call(E),Z=0;!(xe=E.next()).done;)xe=xe.value,ge=H+X(xe,Z++),Ce+=ne(xe,U,A,ge,ae);else if(xe==="object")throw U=String(E),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ce(E,U,A){if(E==null)return E;var H=[],ae=0;return ne(E,H,"","",function(xe){return U.call(A,xe,ae++)}),H}function me(E){if(E._status===-1){var U=E._result;U=U(),U.then(function(A){(E._status===0||E._status===-1)&&(E._status=1,E._result=A)},function(A){(E._status===0||E._status===-1)&&(E._status=2,E._result=A)}),E._status===-1&&(E._status=0,E._result=U)}if(E._status===1)return E._result.default;throw E._result}var ue={current:null},G={transition:null},te={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:G,ReactCurrentOwner:V};function P(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ce,forEach:function(E,U,A){ce(E,function(){U.apply(this,arguments)},A)},count:function(E){var U=0;return ce(E,function(){U++}),U},toArray:function(E){return ce(E,function(U){return U})||[]},only:function(E){if(!se(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},je.Component=_,je.Fragment=n,je.Profiler=o,je.PureComponent=k,je.StrictMode=r,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,je.act=P,je.cloneElement=function(E,U,A){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var H=N({},E.props),ae=E.key,xe=E.ref,Ce=E._owner;if(U!=null){if(U.ref!==void 0&&(xe=U.ref,Ce=V.current),U.key!==void 0&&(ae=""+U.key),E.type&&E.type.defaultProps)var Z=E.type.defaultProps;for(ge in U)L.call(U,ge)&&!z.hasOwnProperty(ge)&&(H[ge]=U[ge]===void 0&&Z!==void 0?Z[ge]:U[ge])}var ge=arguments.length-2;if(ge===1)H.children=A;else if(1<ge){Z=Array(ge);for(var Re=0;Re<ge;Re++)Z[Re]=arguments[Re+2];H.children=Z}return{$$typeof:t,type:E.type,key:ae,ref:xe,props:H,_owner:Ce}},je.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:a,_context:E},E.Consumer=E},je.createElement=q,je.createFactory=function(E){var U=q.bind(null,E);return U.type=E,U},je.createRef=function(){return{current:null}},je.forwardRef=function(E){return{$$typeof:d,render:E}},je.isValidElement=se,je.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:me}},je.memo=function(E,U){return{$$typeof:m,type:E,compare:U===void 0?null:U}},je.startTransition=function(E){var U=G.transition;G.transition={};try{E()}finally{G.transition=U}},je.unstable_act=P,je.useCallback=function(E,U){return ue.current.useCallback(E,U)},je.useContext=function(E){return ue.current.useContext(E)},je.useDebugValue=function(){},je.useDeferredValue=function(E){return ue.current.useDeferredValue(E)},je.useEffect=function(E,U){return ue.current.useEffect(E,U)},je.useId=function(){return ue.current.useId()},je.useImperativeHandle=function(E,U,A){return ue.current.useImperativeHandle(E,U,A)},je.useInsertionEffect=function(E,U){return ue.current.useInsertionEffect(E,U)},je.useLayoutEffect=function(E,U){return ue.current.useLayoutEffect(E,U)},je.useMemo=function(E,U){return ue.current.useMemo(E,U)},je.useReducer=function(E,U,A){return ue.current.useReducer(E,U,A)},je.useRef=function(E){return ue.current.useRef(E)},je.useState=function(E){return ue.current.useState(E)},je.useSyncExternalStore=function(E,U,A){return ue.current.useSyncExternalStore(E,U,A)},je.useTransition=function(){return ue.current.useTransition()},je.version="18.3.1",je}var Gh;function Ru(){return Gh||(Gh=1,zc.exports=Ey()),zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function Py(){if(Jh)return ii;Jh=1;var t=Ru(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var g,y={},b=null,w=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:b,ref:w,props:y,_owner:o.current}}return ii.Fragment=n,ii.jsx=u,ii.jsxs=u,ii}var Zh;function Ry(){return Zh||(Zh=1,Ic.exports=Py()),Ic.exports}var l=Ry(),S=Ru();const Tu=eg(S),Ty=Cy({__proto__:null,default:Tu},[S]);var Vo={},Bc={exports:{}},_t={},Uc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function My(){return em||(em=1,(function(t){function e(G,te){var P=G.length;G.push(te);e:for(;0<P;){var E=P-1>>>1,U=G[E];if(0<o(U,te))G[E]=te,G[P]=U,P=E;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],P=G.pop();if(P!==te){G[0]=P;e:for(var E=0,U=G.length,A=U>>>1;E<A;){var H=2*(E+1)-1,ae=G[H],xe=H+1,Ce=G[xe];if(0>o(ae,P))xe<U&&0>o(Ce,ae)?(G[E]=Ce,G[xe]=P,E=xe):(G[E]=ae,G[H]=P,E=H);else if(xe<U&&0>o(Ce,P))G[E]=Ce,G[xe]=P,E=xe;else break e}}return te}function o(G,te){var P=G.sortIndex-te.sortIndex;return P!==0?P:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,b=3,w=!1,N=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(G){for(var te=n(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=G)r(m),te.sortIndex=te.expirationTime,e(h,te);else break;te=n(m)}}function T(G){if(j=!1,D(G),!N)if(n(h)!==null)N=!0,me(L);else{var te=n(m);te!==null&&ue(T,te.startTime-G)}}function L(G,te){N=!1,j&&(j=!1,R(q),q=-1),w=!0;var P=b;try{for(D(te),y=n(h);y!==null&&(!(y.expirationTime>te)||G&&!re());){var E=y.callback;if(typeof E=="function"){y.callback=null,b=y.priorityLevel;var U=E(y.expirationTime<=te);te=t.unstable_now(),typeof U=="function"?y.callback=U:y===n(h)&&r(h),D(te)}else r(h);y=n(h)}if(y!==null)var A=!0;else{var H=n(m);H!==null&&ue(T,H.startTime-te),A=!1}return A}finally{y=null,b=P,w=!1}}var V=!1,z=null,q=-1,Y=5,se=-1;function re(){return!(t.unstable_now()-se<Y)}function F(){if(z!==null){var G=t.unstable_now();se=G;var te=!0;try{te=z(!0,G)}finally{te?X():(V=!1,z=null)}}else V=!1}var X;if(typeof k=="function")X=function(){k(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ce=ne.port2;ne.port1.onmessage=F,X=function(){ce.postMessage(null)}}else X=function(){_(F,0)};function me(G){z=G,V||(V=!0,X())}function ue(G,te){q=_(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){N||w||(N=!0,me(L))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(G){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var P=b;b=te;try{return G()}finally{b=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var P=b;b=G;try{return te()}finally{b=P}},t.unstable_scheduleCallback=function(G,te,P){var E=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?E+P:E):P=E,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=P+U,G={id:g++,callback:te,priorityLevel:G,startTime:P,expirationTime:U,sortIndex:-1},P>E?(G.sortIndex=P,e(m,G),n(h)===null&&G===n(m)&&(j?(R(q),q=-1):j=!0,ue(T,P-E))):(G.sortIndex=U,e(h,G),N||w||(N=!0,me(L))),G},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(G){var te=b;return function(){var P=b;b=te;try{return G.apply(this,arguments)}finally{b=P}}}})($c)),$c}var tm;function Dy(){return tm||(tm=1,Uc.exports=My()),Uc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Ay(){if(nm)return _t;nm=1;var t=Ru(),e=Dy();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function b(s){return h.call(y,s)?!0:h.call(g,s)?!1:m.test(s)?y[s]=!0:(g[s]=!0,!1)}function w(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,i,c,f){if(i===null||typeof i>"u"||w(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(s,i,c,f,p,x,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=v}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];_[i]=new j(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(R,k);_[i]=new j(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(R,k);_[i]=new j(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(R,k);_[i]=new j(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function D(s,i,c,f){var p=_.hasOwnProperty(i)?_[i]:null;(p!==null?p.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,c,p,f)&&(c=null),f||p===null?b(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,f=p.attributeNamespace,c===null?s.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),re=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var P=Object.assign,E;function U(s){if(E===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);E=i&&i[1]||""}return`
`+E+s}var A=!1;function H(s,i){if(!s||A)return"";A=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var f=$}Reflect.construct(s,[],i)}else{try{i.call()}catch($){f=$}s.call(i.prototype)}else{try{throw Error()}catch($){f=$}s()}}catch($){if($&&f&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),x=f.stack.split(`
`),v=p.length-1,C=x.length-1;1<=v&&0<=C&&p[v]!==x[C];)C--;for(;1<=v&&0<=C;v--,C--)if(p[v]!==x[C]){if(v!==1||C!==1)do if(v--,C--,0>C||p[v]!==x[C]){var M=`
`+p[v].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=v&&0<=C);break}}}finally{A=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?U(s):""}function ae(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=H(s.type,!1),s;case 11:return s=H(s.type.render,!1),s;case 1:return s=H(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case V:return"Portal";case Y:return"Profiler";case q:return"StrictMode";case X:return"Suspense";case ne:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case se:return(s._context.displayName||"Context")+".Provider";case F:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ce:return i=s.displayName||null,i!==null?i:xe(s.type)||"Memo";case me:i=s._payload,s=s._init;try{return xe(s(i))}catch{}}return null}function Ce(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Z(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ge(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Re(s){var i=ge(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,x=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(v){f=""+v,x.call(this,v)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(v){f=""+v},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function pe(s){s._valueTracker||(s._valueTracker=Re(s))}function ze(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=ge(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function Oi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Va(s,i){var c=i.checked;return P({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function nd(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=Z(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function sd(s,i){i=i.checked,i!=null&&D(s,"checked",i,!1)}function qa(s,i){sd(s,i);var c=Z(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Ya(s,i.type,c):i.hasOwnProperty("defaultValue")&&Ya(s,i.type,Z(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function rd(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ya(s,i,c){(i!=="number"||Oi(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var vr=Array.isArray;function Ps(s,i,c,f){if(s=s.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=i.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Z(c),i=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,f&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Ka(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function id(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(vr(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:Z(c)}}function od(s,i){var c=Z(i.value),f=Z(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function ad(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function ld(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xa(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?ld(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Li,cd=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,p){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Li.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function wr(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tx=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(s){Tx.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),_r[i]=_r[s]})});function ud(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||_r.hasOwnProperty(s)&&_r[s]?(""+i).trim():i+"px"}function dd(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,p=ud(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,p):s[c]=p}}var Mx=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(s,i){if(i){if(Mx[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ga(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function Za(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var el=null,Rs=null,Ts=null;function fd(s){if(s=Wr(s)){if(typeof el!="function")throw Error(n(280));var i=s.stateNode;i&&(i=io(i),el(s.stateNode,s.type,i))}}function hd(s){Rs?Ts?Ts.push(s):Ts=[s]:Rs=s}function md(){if(Rs){var s=Rs,i=Ts;if(Ts=Rs=null,fd(s),i)for(s=0;s<i.length;s++)fd(i[s])}}function pd(s,i){return s(i)}function gd(){}var tl=!1;function xd(s,i,c){if(tl)return s(i,c);tl=!0;try{return pd(s,i,c)}finally{tl=!1,(Rs!==null||Ts!==null)&&(gd(),md())}}function jr(s,i){var c=s.stateNode;if(c===null)return null;var f=io(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var nl=!1;if(d)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{nl=!1}function Dx(s,i,c,f,p,x,v,C,M){var $=Array.prototype.slice.call(arguments,3);try{i.apply(c,$)}catch(Q){this.onError(Q)}}var kr=!1,Fi=null,Ii=!1,sl=null,Ax={onError:function(s){kr=!0,Fi=s}};function Ox(s,i,c,f,p,x,v,C,M){kr=!1,Fi=null,Dx.apply(Ax,arguments)}function Lx(s,i,c,f,p,x,v,C,M){if(Ox.apply(this,arguments),kr){if(kr){var $=Fi;kr=!1,Fi=null}else throw Error(n(198));Ii||(Ii=!0,sl=$)}}function es(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function yd(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function bd(s){if(es(s)!==s)throw Error(n(188))}function Fx(s){var i=s.alternate;if(!i){if(i=es(s),i===null)throw Error(n(188));return i!==s?null:s}for(var c=s,f=i;;){var p=c.return;if(p===null)break;var x=p.alternate;if(x===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===c)return bd(p),s;if(x===f)return bd(p),i;x=x.sibling}throw Error(n(188))}if(c.return!==f.return)c=p,f=x;else{for(var v=!1,C=p.child;C;){if(C===c){v=!0,c=p,f=x;break}if(C===f){v=!0,f=p,c=x;break}C=C.sibling}if(!v){for(C=x.child;C;){if(C===c){v=!0,c=x,f=p;break}if(C===f){v=!0,f=x,c=p;break}C=C.sibling}if(!v)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:i}function vd(s){return s=Fx(s),s!==null?wd(s):null}function wd(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=wd(s);if(i!==null)return i;s=s.sibling}return null}var _d=e.unstable_scheduleCallback,jd=e.unstable_cancelCallback,Ix=e.unstable_shouldYield,zx=e.unstable_requestPaint,Ve=e.unstable_now,Bx=e.unstable_getCurrentPriorityLevel,rl=e.unstable_ImmediatePriority,Nd=e.unstable_UserBlockingPriority,zi=e.unstable_NormalPriority,Ux=e.unstable_LowPriority,kd=e.unstable_IdlePriority,Bi=null,Jt=null;function $x(s){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Bi,s,void 0,(s.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Vx,Hx=Math.log,Wx=Math.LN2;function Vx(s){return s>>>=0,s===0?32:31-(Hx(s)/Wx|0)|0}var Ui=64,$i=4194304;function Sr(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Hi(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,p=s.suspendedLanes,x=s.pingedLanes,v=c&268435455;if(v!==0){var C=v&~p;C!==0?f=Sr(C):(x&=v,x!==0&&(f=Sr(x)))}else v=c&~p,v!==0?f=Sr(v):x!==0&&(f=Sr(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&p)===0&&(p=f&-f,x=i&-i,p>=x||p===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-Wt(i),p=1<<c,f|=s[c],i&=~p;return f}function qx(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yx(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes;0<x;){var v=31-Wt(x),C=1<<v,M=p[v];M===-1?((C&c)===0||(C&f)!==0)&&(p[v]=qx(C,i)):M<=i&&(s.expiredLanes|=C),x&=~C}}function il(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Sd(){var s=Ui;return Ui<<=1,(Ui&4194240)===0&&(Ui=64),s}function ol(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function Cr(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Wt(i),s[i]=c}function Kx(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-Wt(c),x=1<<p;i[p]=0,f[p]=-1,s[p]=-1,c&=~x}}function al(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-Wt(c),p=1<<f;p&i|s[f]&i&&(s[f]|=i),c&=~p}}var Te=0;function Cd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ed,ll,Pd,Rd,Td,cl=!1,Wi=[],Sn=null,Cn=null,En=null,Er=new Map,Pr=new Map,Pn=[],Xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(s,i){switch(s){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Er.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(i.pointerId)}}function Rr(s,i,c,f,p,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[p]},i!==null&&(i=Wr(i),i!==null&&ll(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Qx(s,i,c,f,p){switch(i){case"focusin":return Sn=Rr(Sn,s,i,c,f,p),!0;case"dragenter":return Cn=Rr(Cn,s,i,c,f,p),!0;case"mouseover":return En=Rr(En,s,i,c,f,p),!0;case"pointerover":var x=p.pointerId;return Er.set(x,Rr(Er.get(x)||null,s,i,c,f,p)),!0;case"gotpointercapture":return x=p.pointerId,Pr.set(x,Rr(Pr.get(x)||null,s,i,c,f,p)),!0}return!1}function Dd(s){var i=ts(s.target);if(i!==null){var c=es(i);if(c!==null){if(i=c.tag,i===13){if(i=yd(c),i!==null){s.blockedOn=i,Td(s.priority,function(){Pd(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vi(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=dl(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Ja=f,c.target.dispatchEvent(f),Ja=null}else return i=Wr(c),i!==null&&ll(i),s.blockedOn=c,!1;i.shift()}return!0}function Ad(s,i,c){Vi(s)&&c.delete(i)}function Gx(){cl=!1,Sn!==null&&Vi(Sn)&&(Sn=null),Cn!==null&&Vi(Cn)&&(Cn=null),En!==null&&Vi(En)&&(En=null),Er.forEach(Ad),Pr.forEach(Ad)}function Tr(s,i){s.blockedOn===i&&(s.blockedOn=null,cl||(cl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gx)))}function Mr(s){function i(p){return Tr(p,s)}if(0<Wi.length){Tr(Wi[0],s);for(var c=1;c<Wi.length;c++){var f=Wi[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Sn!==null&&Tr(Sn,s),Cn!==null&&Tr(Cn,s),En!==null&&Tr(En,s),Er.forEach(i),Pr.forEach(i),c=0;c<Pn.length;c++)f=Pn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Pn.length&&(c=Pn[0],c.blockedOn===null);)Dd(c),c.blockedOn===null&&Pn.shift()}var Ms=T.ReactCurrentBatchConfig,qi=!0;function Jx(s,i,c,f){var p=Te,x=Ms.transition;Ms.transition=null;try{Te=1,ul(s,i,c,f)}finally{Te=p,Ms.transition=x}}function Zx(s,i,c,f){var p=Te,x=Ms.transition;Ms.transition=null;try{Te=4,ul(s,i,c,f)}finally{Te=p,Ms.transition=x}}function ul(s,i,c,f){if(qi){var p=dl(s,i,c,f);if(p===null)El(s,i,f,Yi,c),Md(s,f);else if(Qx(p,s,i,c,f))f.stopPropagation();else if(Md(s,f),i&4&&-1<Xx.indexOf(s)){for(;p!==null;){var x=Wr(p);if(x!==null&&Ed(x),x=dl(s,i,c,f),x===null&&El(s,i,f,Yi,c),x===p)break;p=x}p!==null&&f.stopPropagation()}else El(s,i,f,null,c)}}var Yi=null;function dl(s,i,c,f){if(Yi=null,s=Za(f),s=ts(s),s!==null)if(i=es(s),i===null)s=null;else if(c=i.tag,c===13){if(s=yd(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Yi=s,null}function Od(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bx()){case rl:return 1;case Nd:return 4;case zi:case Ux:return 16;case kd:return 536870912;default:return 16}default:return 16}}var Rn=null,fl=null,Ki=null;function Ld(){if(Ki)return Ki;var s,i=fl,c=i.length,f,p="value"in Rn?Rn.value:Rn.textContent,x=p.length;for(s=0;s<c&&i[s]===p[s];s++);var v=c-s;for(f=1;f<=v&&i[c-f]===p[x-f];f++);return Ki=p.slice(s,1<f?1-f:void 0)}function Xi(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Qi(){return!0}function Fd(){return!1}function Pt(s){function i(c,f,p,x,v){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=x,this.target=v,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Qi:Fd,this.isPropagationStopped=Fd,this}return P(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=Pt(Ds),Dr=P({},Ds,{view:0,detail:0}),e0=Pt(Dr),ml,pl,Ar,Gi=P({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ar&&(Ar&&s.type==="mousemove"?(ml=s.screenX-Ar.screenX,pl=s.screenY-Ar.screenY):pl=ml=0,Ar=s),ml)},movementY:function(s){return"movementY"in s?s.movementY:pl}}),Id=Pt(Gi),t0=P({},Gi,{dataTransfer:0}),n0=Pt(t0),s0=P({},Dr,{relatedTarget:0}),gl=Pt(s0),r0=P({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),i0=Pt(r0),o0=P({},Ds,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),a0=Pt(o0),l0=P({},Ds,{data:0}),zd=Pt(l0),c0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=d0[s])?!!i[s]:!1}function xl(){return f0}var h0=P({},Dr,{key:function(s){if(s.key){var i=c0[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Xi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?u0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(s){return s.type==="keypress"?Xi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),m0=Pt(h0),p0=P({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Pt(p0),g0=P({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),x0=Pt(g0),y0=P({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=Pt(y0),v0=P({},Gi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),w0=Pt(v0),_0=[9,13,27,32],yl=d&&"CompositionEvent"in window,Or=null;d&&"documentMode"in document&&(Or=document.documentMode);var j0=d&&"TextEvent"in window&&!Or,Ud=d&&(!yl||Or&&8<Or&&11>=Or),$d=" ",Hd=!1;function Wd(s,i){switch(s){case"keyup":return _0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var As=!1;function N0(s,i){switch(s){case"compositionend":return Vd(i);case"keypress":return i.which!==32?null:(Hd=!0,$d);case"textInput":return s=i.data,s===$d&&Hd?null:s;default:return null}}function k0(s,i){if(As)return s==="compositionend"||!yl&&Wd(s,i)?(s=Ld(),Ki=fl=Rn=null,As=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ud&&i.locale!=="ko"?null:i.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!S0[s.type]:i==="textarea"}function Yd(s,i,c,f){hd(f),i=no(i,"onChange"),0<i.length&&(c=new hl("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var Lr=null,Fr=null;function C0(s){ff(s,0)}function Ji(s){var i=zs(s);if(ze(i))return s}function E0(s,i){if(s==="change")return i}var Kd=!1;if(d){var bl;if(d){var vl="oninput"in document;if(!vl){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),vl=typeof Xd.oninput=="function"}bl=vl}else bl=!1;Kd=bl&&(!document.documentMode||9<document.documentMode)}function Qd(){Lr&&(Lr.detachEvent("onpropertychange",Gd),Fr=Lr=null)}function Gd(s){if(s.propertyName==="value"&&Ji(Fr)){var i=[];Yd(i,Fr,s,Za(s)),xd(C0,i)}}function P0(s,i,c){s==="focusin"?(Qd(),Lr=i,Fr=c,Lr.attachEvent("onpropertychange",Gd)):s==="focusout"&&Qd()}function R0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ji(Fr)}function T0(s,i){if(s==="click")return Ji(i)}function M0(s,i){if(s==="input"||s==="change")return Ji(i)}function D0(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Vt=typeof Object.is=="function"?Object.is:D0;function Ir(s,i){if(Vt(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!h.call(i,p)||!Vt(s[p],i[p]))return!1}return!0}function Jd(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Zd(s,i){var c=Jd(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Jd(c)}}function ef(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?ef(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function tf(){for(var s=window,i=Oi();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=Oi(s.document)}return i}function wl(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function A0(s){var i=tf(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&ef(c.ownerDocument.documentElement,c)){if(f!==null&&wl(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,x=Math.min(f.start,p);f=f.end===void 0?x:Math.min(f.end,p),!s.extend&&x>f&&(p=f,f=x,x=p),p=Zd(c,x);var v=Zd(c,f);p&&v&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),x>f?(s.addRange(i),s.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var O0=d&&"documentMode"in document&&11>=document.documentMode,Os=null,_l=null,zr=null,jl=!1;function nf(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jl||Os==null||Os!==Oi(f)||(f=Os,"selectionStart"in f&&wl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),zr&&Ir(zr,f)||(zr=f,f=no(_l,"onSelect"),0<f.length&&(i=new hl("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=Os)))}function Zi(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Ls={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Nl={},sf={};d&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function eo(s){if(Nl[s])return Nl[s];if(!Ls[s])return s;var i=Ls[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in sf)return Nl[s]=i[c];return s}var rf=eo("animationend"),of=eo("animationiteration"),af=eo("animationstart"),lf=eo("transitionend"),cf=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(s,i){cf.set(s,i),a(i,[s])}for(var kl=0;kl<uf.length;kl++){var Sl=uf[kl],L0=Sl.toLowerCase(),F0=Sl[0].toUpperCase()+Sl.slice(1);Tn(L0,"on"+F0)}Tn(rf,"onAnimationEnd"),Tn(of,"onAnimationIteration"),Tn(af,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(lf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function df(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,Lx(f,i,void 0,s),s.currentTarget=null}function ff(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],p=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var v=f.length-1;0<=v;v--){var C=f[v],M=C.instance,$=C.currentTarget;if(C=C.listener,M!==x&&p.isPropagationStopped())break e;df(p,C,$),x=M}else for(v=0;v<f.length;v++){if(C=f[v],M=C.instance,$=C.currentTarget,C=C.listener,M!==x&&p.isPropagationStopped())break e;df(p,C,$),x=M}}}if(Ii)throw s=sl,Ii=!1,sl=null,s}function Oe(s,i){var c=i[Al];c===void 0&&(c=i[Al]=new Set);var f=s+"__bubble";c.has(f)||(hf(i,s,2,!1),c.add(f))}function Cl(s,i,c){var f=0;i&&(f|=4),hf(c,s,f,i)}var to="_reactListening"+Math.random().toString(36).slice(2);function Ur(s){if(!s[to]){s[to]=!0,r.forEach(function(c){c!=="selectionchange"&&(I0.has(c)||Cl(c,!1,s),Cl(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[to]||(i[to]=!0,Cl("selectionchange",!1,i))}}function hf(s,i,c,f){switch(Od(i)){case 1:var p=Jx;break;case 4:p=Zx;break;default:p=ul}c=p.bind(null,i,c,s),p=void 0,!nl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),f?p!==void 0?s.addEventListener(i,c,{capture:!0,passive:p}):s.addEventListener(i,c,!0):p!==void 0?s.addEventListener(i,c,{passive:p}):s.addEventListener(i,c,!1)}function El(s,i,c,f,p){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var v=f.tag;if(v===3||v===4){var C=f.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(v===4)for(v=f.return;v!==null;){var M=v.tag;if((M===3||M===4)&&(M=v.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;v=v.return}for(;C!==null;){if(v=ts(C),v===null)return;if(M=v.tag,M===5||M===6){f=x=v;continue e}C=C.parentNode}}f=f.return}xd(function(){var $=x,Q=Za(c),J=[];e:{var K=cf.get(s);if(K!==void 0){var oe=hl,de=s;switch(s){case"keypress":if(Xi(c)===0)break e;case"keydown":case"keyup":oe=m0;break;case"focusin":de="focus",oe=gl;break;case"focusout":de="blur",oe=gl;break;case"beforeblur":case"afterblur":oe=gl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=n0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=x0;break;case rf:case of:case af:oe=i0;break;case lf:oe=b0;break;case"scroll":oe=e0;break;case"wheel":oe=w0;break;case"copy":case"cut":case"paste":oe=a0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Bd}var fe=(i&4)!==0,qe=!fe&&s==="scroll",I=fe?K!==null?K+"Capture":null:K;fe=[];for(var O=$,B;O!==null;){B=O;var ee=B.stateNode;if(B.tag===5&&ee!==null&&(B=ee,I!==null&&(ee=jr(O,I),ee!=null&&fe.push($r(O,ee,B)))),qe)break;O=O.return}0<fe.length&&(K=new oe(K,de,null,c,Q),J.push({event:K,listeners:fe}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",oe=s==="mouseout"||s==="pointerout",K&&c!==Ja&&(de=c.relatedTarget||c.fromElement)&&(ts(de)||de[un]))break e;if((oe||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,oe?(de=c.relatedTarget||c.toElement,oe=$,de=de?ts(de):null,de!==null&&(qe=es(de),de!==qe||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=$),oe!==de)){if(fe=Id,ee="onMouseLeave",I="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(fe=Bd,ee="onPointerLeave",I="onPointerEnter",O="pointer"),qe=oe==null?K:zs(oe),B=de==null?K:zs(de),K=new fe(ee,O+"leave",oe,c,Q),K.target=qe,K.relatedTarget=B,ee=null,ts(Q)===$&&(fe=new fe(I,O+"enter",de,c,Q),fe.target=B,fe.relatedTarget=qe,ee=fe),qe=ee,oe&&de)t:{for(fe=oe,I=de,O=0,B=fe;B;B=Fs(B))O++;for(B=0,ee=I;ee;ee=Fs(ee))B++;for(;0<O-B;)fe=Fs(fe),O--;for(;0<B-O;)I=Fs(I),B--;for(;O--;){if(fe===I||I!==null&&fe===I.alternate)break t;fe=Fs(fe),I=Fs(I)}fe=null}else fe=null;oe!==null&&mf(J,K,oe,fe,!1),de!==null&&qe!==null&&mf(J,qe,de,fe,!0)}}e:{if(K=$?zs($):window,oe=K.nodeName&&K.nodeName.toLowerCase(),oe==="select"||oe==="input"&&K.type==="file")var he=E0;else if(qd(K))if(Kd)he=M0;else{he=R0;var ye=P0}else(oe=K.nodeName)&&oe.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(he=T0);if(he&&(he=he(s,$))){Yd(J,he,c,Q);break e}ye&&ye(s,K,$),s==="focusout"&&(ye=K._wrapperState)&&ye.controlled&&K.type==="number"&&Ya(K,"number",K.value)}switch(ye=$?zs($):window,s){case"focusin":(qd(ye)||ye.contentEditable==="true")&&(Os=ye,_l=$,zr=null);break;case"focusout":zr=_l=Os=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,nf(J,c,Q);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":nf(J,c,Q)}var be;if(yl)e:{switch(s){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else As?Wd(s,c)&&(ve="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ve="onCompositionStart");ve&&(Ud&&c.locale!=="ko"&&(As||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&As&&(be=Ld()):(Rn=Q,fl="value"in Rn?Rn.value:Rn.textContent,As=!0)),ye=no($,ve),0<ye.length&&(ve=new zd(ve,s,null,c,Q),J.push({event:ve,listeners:ye}),be?ve.data=be:(be=Vd(c),be!==null&&(ve.data=be)))),(be=j0?N0(s,c):k0(s,c))&&($=no($,"onBeforeInput"),0<$.length&&(Q=new zd("onBeforeInput","beforeinput",null,c,Q),J.push({event:Q,listeners:$}),Q.data=be))}ff(J,i)})}function $r(s,i,c){return{instance:s,listener:i,currentTarget:c}}function no(s,i){for(var c=i+"Capture",f=[];s!==null;){var p=s,x=p.stateNode;p.tag===5&&x!==null&&(p=x,x=jr(s,c),x!=null&&f.unshift($r(s,x,p)),x=jr(s,i),x!=null&&f.push($r(s,x,p))),s=s.return}return f}function Fs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function mf(s,i,c,f,p){for(var x=i._reactName,v=[];c!==null&&c!==f;){var C=c,M=C.alternate,$=C.stateNode;if(M!==null&&M===f)break;C.tag===5&&$!==null&&(C=$,p?(M=jr(c,x),M!=null&&v.unshift($r(c,M,C))):p||(M=jr(c,x),M!=null&&v.push($r(c,M,C)))),c=c.return}v.length!==0&&s.push({event:i,listeners:v})}var z0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function pf(s){return(typeof s=="string"?s:""+s).replace(z0,`
`).replace(B0,"")}function so(s,i,c){if(i=pf(i),pf(s)!==i&&c)throw Error(n(425))}function ro(){}var Pl=null,Rl=null;function Tl(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(s){return gf.resolve(null).then(s).catch(H0)}:Ml;function H0(s){setTimeout(function(){throw s})}function Dl(s,i){var c=i,f=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(f===0){s.removeChild(p),Mr(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=p}while(c);Mr(i)}function Mn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function xf(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Is,Hr="__reactProps$"+Is,un="__reactContainer$"+Is,Al="__reactEvents$"+Is,W0="__reactListeners$"+Is,V0="__reactHandles$"+Is;function ts(s){var i=s[Zt];if(i)return i;for(var c=s.parentNode;c;){if(i=c[un]||c[Zt]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=xf(s);s!==null;){if(c=s[Zt])return c;s=xf(s)}return i}s=c,c=s.parentNode}return null}function Wr(s){return s=s[Zt]||s[un],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function zs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function io(s){return s[Hr]||null}var Ol=[],Bs=-1;function Dn(s){return{current:s}}function Le(s){0>Bs||(s.current=Ol[Bs],Ol[Bs]=null,Bs--)}function Ae(s,i){Bs++,Ol[Bs]=s.current,s.current=i}var An={},ot=Dn(An),xt=Dn(!1),ns=An;function Us(s,i){var c=s.type.contextTypes;if(!c)return An;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var p={},x;for(x in c)p[x]=i[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function yt(s){return s=s.childContextTypes,s!=null}function oo(){Le(xt),Le(ot)}function yf(s,i,c){if(ot.current!==An)throw Error(n(168));Ae(ot,i),Ae(xt,c)}function bf(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var p in f)if(!(p in i))throw Error(n(108,Ce(s)||"Unknown",p));return P({},c,f)}function ao(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||An,ns=ot.current,Ae(ot,s),Ae(xt,xt.current),!0}function vf(s,i,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=bf(s,i,ns),f.__reactInternalMemoizedMergedChildContext=s,Le(xt),Le(ot),Ae(ot,s)):Le(xt),Ae(xt,c)}var dn=null,lo=!1,Ll=!1;function wf(s){dn===null?dn=[s]:dn.push(s)}function q0(s){lo=!0,wf(s)}function On(){if(!Ll&&dn!==null){Ll=!0;var s=0,i=Te;try{var c=dn;for(Te=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}dn=null,lo=!1}catch(p){throw dn!==null&&(dn=dn.slice(s+1)),_d(rl,On),p}finally{Te=i,Ll=!1}}return null}var $s=[],Hs=0,co=null,uo=0,Ot=[],Lt=0,ss=null,fn=1,hn="";function rs(s,i){$s[Hs++]=uo,$s[Hs++]=co,co=s,uo=i}function _f(s,i,c){Ot[Lt++]=fn,Ot[Lt++]=hn,Ot[Lt++]=ss,ss=s;var f=fn;s=hn;var p=32-Wt(f)-1;f&=~(1<<p),c+=1;var x=32-Wt(i)+p;if(30<x){var v=p-p%5;x=(f&(1<<v)-1).toString(32),f>>=v,p-=v,fn=1<<32-Wt(i)+p|c<<p|f,hn=x+s}else fn=1<<x|c<<p|f,hn=s}function Fl(s){s.return!==null&&(rs(s,1),_f(s,1,0))}function Il(s){for(;s===co;)co=$s[--Hs],$s[Hs]=null,uo=$s[--Hs],$s[Hs]=null;for(;s===ss;)ss=Ot[--Lt],Ot[Lt]=null,hn=Ot[--Lt],Ot[Lt]=null,fn=Ot[--Lt],Ot[Lt]=null}var Rt=null,Tt=null,Ie=!1,qt=null;function jf(s,i){var c=Bt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function Nf(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Rt=s,Tt=Mn(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Rt=s,Tt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=ss!==null?{id:fn,overflow:hn}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Bt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,Rt=s,Tt=null,!0):!1;default:return!1}}function zl(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bl(s){if(Ie){var i=Tt;if(i){var c=i;if(!Nf(s,i)){if(zl(s))throw Error(n(418));i=Mn(c.nextSibling);var f=Rt;i&&Nf(s,i)?jf(f,c):(s.flags=s.flags&-4097|2,Ie=!1,Rt=s)}}else{if(zl(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ie=!1,Rt=s}}}function kf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rt=s}function fo(s){if(s!==Rt)return!1;if(!Ie)return kf(s),Ie=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Tl(s.type,s.memoizedProps)),i&&(i=Tt)){if(zl(s))throw Sf(),Error(n(418));for(;i;)jf(s,i),i=Mn(i.nextSibling)}if(kf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Tt=Mn(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Tt=null}}else Tt=Rt?Mn(s.stateNode.nextSibling):null;return!0}function Sf(){for(var s=Tt;s;)s=Mn(s.nextSibling)}function Ws(){Tt=Rt=null,Ie=!1}function Ul(s){qt===null?qt=[s]:qt.push(s)}var Y0=T.ReactCurrentBatchConfig;function Vr(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var p=f,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(v){var C=p.refs;v===null?delete C[x]:C[x]=v},i._stringRef=x,i)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function ho(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Cf(s){var i=s._init;return i(s._payload)}function Ef(s){function i(I,O){if(s){var B=I.deletions;B===null?(I.deletions=[O],I.flags|=16):B.push(O)}}function c(I,O){if(!s)return null;for(;O!==null;)i(I,O),O=O.sibling;return null}function f(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function p(I,O){return I=Hn(I,O),I.index=0,I.sibling=null,I}function x(I,O,B){return I.index=B,s?(B=I.alternate,B!==null?(B=B.index,B<O?(I.flags|=2,O):B):(I.flags|=2,O)):(I.flags|=1048576,O)}function v(I){return s&&I.alternate===null&&(I.flags|=2),I}function C(I,O,B,ee){return O===null||O.tag!==6?(O=Mc(B,I.mode,ee),O.return=I,O):(O=p(O,B),O.return=I,O)}function M(I,O,B,ee){var he=B.type;return he===z?Q(I,O,B.props.children,ee,B.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===me&&Cf(he)===O.type)?(ee=p(O,B.props),ee.ref=Vr(I,O,B),ee.return=I,ee):(ee=Fo(B.type,B.key,B.props,null,I.mode,ee),ee.ref=Vr(I,O,B),ee.return=I,ee)}function $(I,O,B,ee){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Dc(B,I.mode,ee),O.return=I,O):(O=p(O,B.children||[]),O.return=I,O)}function Q(I,O,B,ee,he){return O===null||O.tag!==7?(O=fs(B,I.mode,ee,he),O.return=I,O):(O=p(O,B),O.return=I,O)}function J(I,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Mc(""+O,I.mode,B),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return B=Fo(O.type,O.key,O.props,null,I.mode,B),B.ref=Vr(I,null,O),B.return=I,B;case V:return O=Dc(O,I.mode,B),O.return=I,O;case me:var ee=O._init;return J(I,ee(O._payload),B)}if(vr(O)||te(O))return O=fs(O,I.mode,B,null),O.return=I,O;ho(I,O)}return null}function K(I,O,B,ee){var he=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return he!==null?null:C(I,O,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===he?M(I,O,B,ee):null;case V:return B.key===he?$(I,O,B,ee):null;case me:return he=B._init,K(I,O,he(B._payload),ee)}if(vr(B)||te(B))return he!==null?null:Q(I,O,B,ee,null);ho(I,B)}return null}function oe(I,O,B,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return I=I.get(B)||null,C(O,I,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return I=I.get(ee.key===null?B:ee.key)||null,M(O,I,ee,he);case V:return I=I.get(ee.key===null?B:ee.key)||null,$(O,I,ee,he);case me:var ye=ee._init;return oe(I,O,B,ye(ee._payload),he)}if(vr(ee)||te(ee))return I=I.get(B)||null,Q(O,I,ee,he,null);ho(O,ee)}return null}function de(I,O,B,ee){for(var he=null,ye=null,be=O,ve=O=0,tt=null;be!==null&&ve<B.length;ve++){be.index>ve?(tt=be,be=null):tt=be.sibling;var Pe=K(I,be,B[ve],ee);if(Pe===null){be===null&&(be=tt);break}s&&be&&Pe.alternate===null&&i(I,be),O=x(Pe,O,ve),ye===null?he=Pe:ye.sibling=Pe,ye=Pe,be=tt}if(ve===B.length)return c(I,be),Ie&&rs(I,ve),he;if(be===null){for(;ve<B.length;ve++)be=J(I,B[ve],ee),be!==null&&(O=x(be,O,ve),ye===null?he=be:ye.sibling=be,ye=be);return Ie&&rs(I,ve),he}for(be=f(I,be);ve<B.length;ve++)tt=oe(be,I,ve,B[ve],ee),tt!==null&&(s&&tt.alternate!==null&&be.delete(tt.key===null?ve:tt.key),O=x(tt,O,ve),ye===null?he=tt:ye.sibling=tt,ye=tt);return s&&be.forEach(function(Wn){return i(I,Wn)}),Ie&&rs(I,ve),he}function fe(I,O,B,ee){var he=te(B);if(typeof he!="function")throw Error(n(150));if(B=he.call(B),B==null)throw Error(n(151));for(var ye=he=null,be=O,ve=O=0,tt=null,Pe=B.next();be!==null&&!Pe.done;ve++,Pe=B.next()){be.index>ve?(tt=be,be=null):tt=be.sibling;var Wn=K(I,be,Pe.value,ee);if(Wn===null){be===null&&(be=tt);break}s&&be&&Wn.alternate===null&&i(I,be),O=x(Wn,O,ve),ye===null?he=Wn:ye.sibling=Wn,ye=Wn,be=tt}if(Pe.done)return c(I,be),Ie&&rs(I,ve),he;if(be===null){for(;!Pe.done;ve++,Pe=B.next())Pe=J(I,Pe.value,ee),Pe!==null&&(O=x(Pe,O,ve),ye===null?he=Pe:ye.sibling=Pe,ye=Pe);return Ie&&rs(I,ve),he}for(be=f(I,be);!Pe.done;ve++,Pe=B.next())Pe=oe(be,I,ve,Pe.value,ee),Pe!==null&&(s&&Pe.alternate!==null&&be.delete(Pe.key===null?ve:Pe.key),O=x(Pe,O,ve),ye===null?he=Pe:ye.sibling=Pe,ye=Pe);return s&&be.forEach(function(Sy){return i(I,Sy)}),Ie&&rs(I,ve),he}function qe(I,O,B,ee){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var he=B.key,ye=O;ye!==null;){if(ye.key===he){if(he=B.type,he===z){if(ye.tag===7){c(I,ye.sibling),O=p(ye,B.props.children),O.return=I,I=O;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===me&&Cf(he)===ye.type){c(I,ye.sibling),O=p(ye,B.props),O.ref=Vr(I,ye,B),O.return=I,I=O;break e}c(I,ye);break}else i(I,ye);ye=ye.sibling}B.type===z?(O=fs(B.props.children,I.mode,ee,B.key),O.return=I,I=O):(ee=Fo(B.type,B.key,B.props,null,I.mode,ee),ee.ref=Vr(I,O,B),ee.return=I,I=ee)}return v(I);case V:e:{for(ye=B.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){c(I,O.sibling),O=p(O,B.children||[]),O.return=I,I=O;break e}else{c(I,O);break}else i(I,O);O=O.sibling}O=Dc(B,I.mode,ee),O.return=I,I=O}return v(I);case me:return ye=B._init,qe(I,O,ye(B._payload),ee)}if(vr(B))return de(I,O,B,ee);if(te(B))return fe(I,O,B,ee);ho(I,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(c(I,O.sibling),O=p(O,B),O.return=I,I=O):(c(I,O),O=Mc(B,I.mode,ee),O.return=I,I=O),v(I)):c(I,O)}return qe}var Vs=Ef(!0),Pf=Ef(!1),mo=Dn(null),po=null,qs=null,$l=null;function Hl(){$l=qs=po=null}function Wl(s){var i=mo.current;Le(mo),s._currentValue=i}function Vl(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function Ys(s,i){po=s,$l=qs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(bt=!0),s.firstContext=null)}function Ft(s){var i=s._currentValue;if($l!==s)if(s={context:s,memoizedValue:i,next:null},qs===null){if(po===null)throw Error(n(308));qs=s,po.dependencies={lanes:0,firstContext:s}}else qs=qs.next=s;return i}var is=null;function ql(s){is===null?is=[s]:is.push(s)}function Rf(s,i,c,f){var p=i.interleaved;return p===null?(c.next=c,ql(i)):(c.next=p.next,p.next=c),i.interleaved=c,mn(s,f)}function mn(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ln=!1;function Yl(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tf(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function pn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Fn(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ee&2)!==0){var p=f.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),f.pending=i,mn(s,c)}return p=f.interleaved,p===null?(i.next=i,ql(f)):(i.next=p.next,p.next=i),f.interleaved=i,mn(s,c)}function go(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,al(s,c)}}function Mf(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var v={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?p=x=v:x=x.next=v,c=c.next}while(c!==null);x===null?p=x=i:x=x.next=i}else p=x=i;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function xo(s,i,c,f){var p=s.updateQueue;Ln=!1;var x=p.firstBaseUpdate,v=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var M=C,$=M.next;M.next=null,v===null?x=$:v.next=$,v=M;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==v&&(C===null?Q.firstBaseUpdate=$:C.next=$,Q.lastBaseUpdate=M))}if(x!==null){var J=p.baseState;v=0,Q=$=M=null,C=x;do{var K=C.lane,oe=C.eventTime;if((f&K)===K){Q!==null&&(Q=Q.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var de=s,fe=C;switch(K=i,oe=c,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){J=de.call(oe,J,K);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,K=typeof de=="function"?de.call(oe,J,K):de,K==null)break e;J=P({},J,K);break e;case 2:Ln=!0}}C.callback!==null&&C.lane!==0&&(s.flags|=64,K=p.effects,K===null?p.effects=[C]:K.push(C))}else oe={eventTime:oe,lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?($=Q=oe,M=J):Q=Q.next=oe,v|=K;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;K=C,C=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);if(Q===null&&(M=J),p.baseState=M,p.firstBaseUpdate=$,p.lastBaseUpdate=Q,i=p.shared.interleaved,i!==null){p=i;do v|=p.lane,p=p.next;while(p!==i)}else x===null&&(p.shared.lanes=0);ls|=v,s.lanes=v,s.memoizedState=J}}function Df(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],p=f.callback;if(p!==null){if(f.callback=null,f=c,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var qr={},en=Dn(qr),Yr=Dn(qr),Kr=Dn(qr);function os(s){if(s===qr)throw Error(n(174));return s}function Kl(s,i){switch(Ae(Kr,i),Ae(Yr,s),Ae(en,qr),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Xa(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Xa(i,s)}Le(en),Ae(en,i)}function Ks(){Le(en),Le(Yr),Le(Kr)}function Af(s){os(Kr.current);var i=os(en.current),c=Xa(i,s.type);i!==c&&(Ae(Yr,s),Ae(en,c))}function Xl(s){Yr.current===s&&(Le(en),Le(Yr))}var Be=Dn(0);function yo(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ql=[];function Gl(){for(var s=0;s<Ql.length;s++)Ql[s]._workInProgressVersionPrimary=null;Ql.length=0}var bo=T.ReactCurrentDispatcher,Jl=T.ReactCurrentBatchConfig,as=0,Ue=null,Qe=null,Ze=null,vo=!1,Xr=!1,Qr=0,K0=0;function at(){throw Error(n(321))}function Zl(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!Vt(s[c],i[c]))return!1;return!0}function ec(s,i,c,f,p,x){if(as=x,Ue=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,bo.current=s===null||s.memoizedState===null?J0:Z0,s=c(f,p),Xr){x=0;do{if(Xr=!1,Qr=0,25<=x)throw Error(n(301));x+=1,Ze=Qe=null,i.updateQueue=null,bo.current=ey,s=c(f,p)}while(Xr)}if(bo.current=jo,i=Qe!==null&&Qe.next!==null,as=0,Ze=Qe=Ue=null,vo=!1,i)throw Error(n(300));return s}function tc(){var s=Qr!==0;return Qr=0,s}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ue.memoizedState=Ze=s:Ze=Ze.next=s,Ze}function It(){if(Qe===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=Qe.next;var i=Ze===null?Ue.memoizedState:Ze.next;if(i!==null)Ze=i,Qe=s;else{if(s===null)throw Error(n(310));Qe=s,s={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ze===null?Ue.memoizedState=Ze=s:Ze=Ze.next=s}return Ze}function Gr(s,i){return typeof i=="function"?i(s):i}function nc(s){var i=It(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=Qe,p=f.baseQueue,x=c.pending;if(x!==null){if(p!==null){var v=p.next;p.next=x.next,x.next=v}f.baseQueue=p=x,c.pending=null}if(p!==null){x=p.next,f=f.baseState;var C=v=null,M=null,$=x;do{var Q=$.lane;if((as&Q)===Q)M!==null&&(M=M.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),f=$.hasEagerState?$.eagerState:s(f,$.action);else{var J={lane:Q,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};M===null?(C=M=J,v=f):M=M.next=J,Ue.lanes|=Q,ls|=Q}$=$.next}while($!==null&&$!==x);M===null?v=f:M.next=C,Vt(f,i.memoizedState)||(bt=!0),i.memoizedState=f,i.baseState=v,i.baseQueue=M,c.lastRenderedState=f}if(s=c.interleaved,s!==null){p=s;do x=p.lane,Ue.lanes|=x,ls|=x,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function sc(s){var i=It(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,p=c.pending,x=i.memoizedState;if(p!==null){c.pending=null;var v=p=p.next;do x=s(x,v.action),v=v.next;while(v!==p);Vt(x,i.memoizedState)||(bt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,f]}function Of(){}function Lf(s,i){var c=Ue,f=It(),p=i(),x=!Vt(f.memoizedState,p);if(x&&(f.memoizedState=p,bt=!0),f=f.queue,rc(zf.bind(null,c,f,s),[s]),f.getSnapshot!==i||x||Ze!==null&&Ze.memoizedState.tag&1){if(c.flags|=2048,Jr(9,If.bind(null,c,f,p,i),void 0,null),et===null)throw Error(n(349));(as&30)!==0||Ff(c,i,p)}return p}function Ff(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Ue.updateQueue,i===null?(i={lastEffect:null,stores:null},Ue.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function If(s,i,c,f){i.value=c,i.getSnapshot=f,Bf(i)&&Uf(s)}function zf(s,i,c){return c(function(){Bf(i)&&Uf(s)})}function Bf(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!Vt(s,c)}catch{return!0}}function Uf(s){var i=mn(s,1);i!==null&&Qt(i,s,1,-1)}function $f(s){var i=tn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:s},i.queue=s,s=s.dispatch=G0.bind(null,Ue,s),[i.memoizedState,s]}function Jr(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=Ue.updateQueue,i===null?(i={lastEffect:null,stores:null},Ue.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function Hf(){return It().memoizedState}function wo(s,i,c,f){var p=tn();Ue.flags|=s,p.memoizedState=Jr(1|i,c,void 0,f===void 0?null:f)}function _o(s,i,c,f){var p=It();f=f===void 0?null:f;var x=void 0;if(Qe!==null){var v=Qe.memoizedState;if(x=v.destroy,f!==null&&Zl(f,v.deps)){p.memoizedState=Jr(i,c,x,f);return}}Ue.flags|=s,p.memoizedState=Jr(1|i,c,x,f)}function Wf(s,i){return wo(8390656,8,s,i)}function rc(s,i){return _o(2048,8,s,i)}function Vf(s,i){return _o(4,2,s,i)}function qf(s,i){return _o(4,4,s,i)}function Yf(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Kf(s,i,c){return c=c!=null?c.concat([s]):null,_o(4,4,Yf.bind(null,i,s),c)}function ic(){}function Xf(s,i){var c=It();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Zl(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function Qf(s,i){var c=It();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Zl(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function Gf(s,i,c){return(as&21)===0?(s.baseState&&(s.baseState=!1,bt=!0),s.memoizedState=c):(Vt(c,i)||(c=Sd(),Ue.lanes|=c,ls|=c,s.baseState=!0),i)}function X0(s,i){var c=Te;Te=c!==0&&4>c?c:4,s(!0);var f=Jl.transition;Jl.transition={};try{s(!1),i()}finally{Te=c,Jl.transition=f}}function Jf(){return It().memoizedState}function Q0(s,i,c){var f=Un(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Zf(s))eh(i,c);else if(c=Rf(s,i,c,f),c!==null){var p=gt();Qt(c,s,f,p),th(c,i,f)}}function G0(s,i,c){var f=Un(s),p={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zf(s))eh(i,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var v=i.lastRenderedState,C=x(v,c);if(p.hasEagerState=!0,p.eagerState=C,Vt(C,v)){var M=i.interleaved;M===null?(p.next=p,ql(i)):(p.next=M.next,M.next=p),i.interleaved=p;return}}catch{}finally{}c=Rf(s,i,p,f),c!==null&&(p=gt(),Qt(c,s,f,p),th(c,i,f))}}function Zf(s){var i=s.alternate;return s===Ue||i!==null&&i===Ue}function eh(s,i){Xr=vo=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function th(s,i,c){if((c&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,al(s,c)}}var jo={readContext:Ft,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},J0={readContext:Ft,useCallback:function(s,i){return tn().memoizedState=[s,i===void 0?null:i],s},useContext:Ft,useEffect:Wf,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,wo(4194308,4,Yf.bind(null,i,s),c)},useLayoutEffect:function(s,i){return wo(4194308,4,s,i)},useInsertionEffect:function(s,i){return wo(4,2,s,i)},useMemo:function(s,i){var c=tn();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=tn();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=Q0.bind(null,Ue,s),[f.memoizedState,s]},useRef:function(s){var i=tn();return s={current:s},i.memoizedState=s},useState:$f,useDebugValue:ic,useDeferredValue:function(s){return tn().memoizedState=s},useTransition:function(){var s=$f(!1),i=s[0];return s=X0.bind(null,s[1]),tn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=Ue,p=tn();if(Ie){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),et===null)throw Error(n(349));(as&30)!==0||Ff(f,i,c)}p.memoizedState=c;var x={value:c,getSnapshot:i};return p.queue=x,Wf(zf.bind(null,f,x,s),[s]),f.flags|=2048,Jr(9,If.bind(null,f,x,c,i),void 0,null),c},useId:function(){var s=tn(),i=et.identifierPrefix;if(Ie){var c=hn,f=fn;c=(f&~(1<<32-Wt(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=Qr++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=K0++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Z0={readContext:Ft,useCallback:Xf,useContext:Ft,useEffect:rc,useImperativeHandle:Kf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Qf,useReducer:nc,useRef:Hf,useState:function(){return nc(Gr)},useDebugValue:ic,useDeferredValue:function(s){var i=It();return Gf(i,Qe.memoizedState,s)},useTransition:function(){var s=nc(Gr)[0],i=It().memoizedState;return[s,i]},useMutableSource:Of,useSyncExternalStore:Lf,useId:Jf,unstable_isNewReconciler:!1},ey={readContext:Ft,useCallback:Xf,useContext:Ft,useEffect:rc,useImperativeHandle:Kf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Qf,useReducer:sc,useRef:Hf,useState:function(){return sc(Gr)},useDebugValue:ic,useDeferredValue:function(s){var i=It();return Qe===null?i.memoizedState=s:Gf(i,Qe.memoizedState,s)},useTransition:function(){var s=sc(Gr)[0],i=It().memoizedState;return[s,i]},useMutableSource:Of,useSyncExternalStore:Lf,useId:Jf,unstable_isNewReconciler:!1};function Yt(s,i){if(s&&s.defaultProps){i=P({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function oc(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:P({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var No={isMounted:function(s){return(s=s._reactInternals)?es(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=gt(),p=Un(s),x=pn(f,p);x.payload=i,c!=null&&(x.callback=c),i=Fn(s,x,p),i!==null&&(Qt(i,s,p,f),go(i,s,p))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=gt(),p=Un(s),x=pn(f,p);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Fn(s,x,p),i!==null&&(Qt(i,s,p,f),go(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=gt(),f=Un(s),p=pn(c,f);p.tag=2,i!=null&&(p.callback=i),i=Fn(s,p,f),i!==null&&(Qt(i,s,f,c),go(i,s,f))}};function nh(s,i,c,f,p,x,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,v):i.prototype&&i.prototype.isPureReactComponent?!Ir(c,f)||!Ir(p,x):!0}function sh(s,i,c){var f=!1,p=An,x=i.contextType;return typeof x=="object"&&x!==null?x=Ft(x):(p=yt(i)?ns:ot.current,f=i.contextTypes,x=(f=f!=null)?Us(s,p):An),i=new i(c,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=No,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=x),i}function rh(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&No.enqueueReplaceState(i,i.state,null)}function ac(s,i,c,f){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs={},Yl(s);var x=i.contextType;typeof x=="object"&&x!==null?p.context=Ft(x):(x=yt(i)?ns:ot.current,p.context=Us(s,x)),p.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(oc(s,i,x,c),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&No.enqueueReplaceState(p,p.state,null),xo(s,c,p,f),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Xs(s,i){try{var c="",f=i;do c+=ae(f),f=f.return;while(f);var p=c}catch(x){p=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:p,digest:null}}function lc(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function cc(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var ty=typeof WeakMap=="function"?WeakMap:Map;function ih(s,i,c){c=pn(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){To||(To=!0,Nc=f),cc(s,i)},c}function oh(s,i,c){c=pn(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=i.value;c.payload=function(){return f(p)},c.callback=function(){cc(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){cc(s,i),typeof f!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),c}function ah(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new ty;var p=new Set;f.set(i,p)}else p=f.get(i),p===void 0&&(p=new Set,f.set(i,p));p.has(c)||(p.add(c),s=py.bind(null,s,i,c),i.then(s,s))}function lh(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function ch(s,i,c,f,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=pn(-1,1),i.tag=2,Fn(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var ny=T.ReactCurrentOwner,bt=!1;function pt(s,i,c,f){i.child=s===null?Pf(i,null,c,f):Vs(i,s.child,c,f)}function uh(s,i,c,f,p){c=c.render;var x=i.ref;return Ys(i,p),f=ec(s,i,c,f,x,p),c=tc(),s!==null&&!bt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,gn(s,i,p)):(Ie&&c&&Fl(i),i.flags|=1,pt(s,i,f,p),i.child)}function dh(s,i,c,f,p){if(s===null){var x=c.type;return typeof x=="function"&&!Tc(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,fh(s,i,x,f,p)):(s=Fo(c.type,null,f,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&p)===0){var v=x.memoizedProps;if(c=c.compare,c=c!==null?c:Ir,c(v,f)&&s.ref===i.ref)return gn(s,i,p)}return i.flags|=1,s=Hn(x,f),s.ref=i.ref,s.return=i,i.child=s}function fh(s,i,c,f,p){if(s!==null){var x=s.memoizedProps;if(Ir(x,f)&&s.ref===i.ref)if(bt=!1,i.pendingProps=f=x,(s.lanes&p)!==0)(s.flags&131072)!==0&&(bt=!0);else return i.lanes=s.lanes,gn(s,i,p)}return uc(s,i,c,f,p)}function hh(s,i,c){var f=i.pendingProps,p=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Gs,Mt),Mt|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ae(Gs,Mt),Mt|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,Ae(Gs,Mt),Mt|=f}else x!==null?(f=x.baseLanes|c,i.memoizedState=null):f=c,Ae(Gs,Mt),Mt|=f;return pt(s,i,p,c),i.child}function mh(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function uc(s,i,c,f,p){var x=yt(c)?ns:ot.current;return x=Us(i,x),Ys(i,p),c=ec(s,i,c,f,x,p),f=tc(),s!==null&&!bt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,gn(s,i,p)):(Ie&&f&&Fl(i),i.flags|=1,pt(s,i,c,p),i.child)}function ph(s,i,c,f,p){if(yt(c)){var x=!0;ao(i)}else x=!1;if(Ys(i,p),i.stateNode===null)So(s,i),sh(i,c,f),ac(i,c,f,p),f=!0;else if(s===null){var v=i.stateNode,C=i.memoizedProps;v.props=C;var M=v.context,$=c.contextType;typeof $=="object"&&$!==null?$=Ft($):($=yt(c)?ns:ot.current,$=Us(i,$));var Q=c.getDerivedStateFromProps,J=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==f||M!==$)&&rh(i,v,f,$),Ln=!1;var K=i.memoizedState;v.state=K,xo(i,f,v,p),M=i.memoizedState,C!==f||K!==M||xt.current||Ln?(typeof Q=="function"&&(oc(i,c,Q,f),M=i.memoizedState),(C=Ln||nh(i,c,C,f,K,M,$))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=M),v.props=f,v.state=M,v.context=$,f=C):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{v=i.stateNode,Tf(s,i),C=i.memoizedProps,$=i.type===i.elementType?C:Yt(i.type,C),v.props=$,J=i.pendingProps,K=v.context,M=c.contextType,typeof M=="object"&&M!==null?M=Ft(M):(M=yt(c)?ns:ot.current,M=Us(i,M));var oe=c.getDerivedStateFromProps;(Q=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==J||K!==M)&&rh(i,v,f,M),Ln=!1,K=i.memoizedState,v.state=K,xo(i,f,v,p);var de=i.memoizedState;C!==J||K!==de||xt.current||Ln?(typeof oe=="function"&&(oc(i,c,oe,f),de=i.memoizedState),($=Ln||nh(i,c,$,f,K,de,M)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,de,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,de,M)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=de),v.props=f,v.state=de,v.context=M,f=$):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),f=!1)}return dc(s,i,c,f,x,p)}function dc(s,i,c,f,p,x){mh(s,i);var v=(i.flags&128)!==0;if(!f&&!v)return p&&vf(i,c,!1),gn(s,i,x);f=i.stateNode,ny.current=i;var C=v&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&v?(i.child=Vs(i,s.child,null,x),i.child=Vs(i,null,C,x)):pt(s,i,C,x),i.memoizedState=f.state,p&&vf(i,c,!0),i.child}function gh(s){var i=s.stateNode;i.pendingContext?yf(s,i.pendingContext,i.pendingContext!==i.context):i.context&&yf(s,i.context,!1),Kl(s,i.containerInfo)}function xh(s,i,c,f,p){return Ws(),Ul(p),i.flags|=256,pt(s,i,c,f),i.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function hc(s){return{baseLanes:s,cachePool:null,transitions:null}}function yh(s,i,c){var f=i.pendingProps,p=Be.current,x=!1,v=(i.flags&128)!==0,C;if((C=v)||(C=s!==null&&s.memoizedState===null?!1:(p&2)!==0),C?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ae(Be,p&1),s===null)return Bl(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=f.children,s=f.fallback,x?(f=i.mode,x=i.child,v={mode:"hidden",children:v},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=v):x=Io(v,f,0,null),s=fs(s,f,c,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=hc(c),i.memoizedState=fc,s):mc(i,v));if(p=s.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return sy(s,i,v,f,C,p,c);if(x){x=f.fallback,v=i.mode,p=s.child,C=p.sibling;var M={mode:"hidden",children:f.children};return(v&1)===0&&i.child!==p?(f=i.child,f.childLanes=0,f.pendingProps=M,i.deletions=null):(f=Hn(p,M),f.subtreeFlags=p.subtreeFlags&14680064),C!==null?x=Hn(C,x):(x=fs(x,v,c,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,v=s.child.memoizedState,v=v===null?hc(c):{baseLanes:v.baseLanes|c,cachePool:null,transitions:v.transitions},x.memoizedState=v,x.childLanes=s.childLanes&~c,i.memoizedState=fc,f}return x=s.child,s=x.sibling,f=Hn(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function mc(s,i){return i=Io({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function ko(s,i,c,f){return f!==null&&Ul(f),Vs(i,s.child,null,c),s=mc(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function sy(s,i,c,f,p,x,v){if(c)return i.flags&256?(i.flags&=-257,f=lc(Error(n(422))),ko(s,i,v,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=f.fallback,p=i.mode,f=Io({mode:"visible",children:f.children},p,0,null),x=fs(x,p,v,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Vs(i,s.child,null,v),i.child.memoizedState=hc(v),i.memoizedState=fc,x);if((i.mode&1)===0)return ko(s,i,v,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var C=f.dgst;return f=C,x=Error(n(419)),f=lc(x,f,void 0),ko(s,i,v,f)}if(C=(v&s.childLanes)!==0,bt||C){if(f=et,f!==null){switch(v&-v){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(f.suspendedLanes|v))!==0?0:p,p!==0&&p!==x.retryLane&&(x.retryLane=p,mn(s,p),Qt(f,s,p,-1))}return Rc(),f=lc(Error(n(421))),ko(s,i,v,f)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=gy.bind(null,s),p._reactRetry=i,null):(s=x.treeContext,Tt=Mn(p.nextSibling),Rt=i,Ie=!0,qt=null,s!==null&&(Ot[Lt++]=fn,Ot[Lt++]=hn,Ot[Lt++]=ss,fn=s.id,hn=s.overflow,ss=i),i=mc(i,f.children),i.flags|=4096,i)}function bh(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),Vl(s.return,i,c)}function pc(s,i,c,f,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=p)}function vh(s,i,c){var f=i.pendingProps,p=f.revealOrder,x=f.tail;if(pt(s,i,f.children,c),f=Be.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bh(s,c,i);else if(s.tag===19)bh(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Ae(Be,f),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)s=c.alternate,s!==null&&yo(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),pc(i,!1,p,c,x);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&yo(s)===null){i.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}pc(i,!0,c,null,x);break;case"together":pc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function So(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function gn(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),ls|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,c=Hn(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=Hn(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function ry(s,i,c){switch(i.tag){case 3:gh(i),Ws();break;case 5:Af(i);break;case 1:yt(i.type)&&ao(i);break;case 4:Kl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,p=i.memoizedProps.value;Ae(mo,f._currentValue),f._currentValue=p;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Ae(Be,Be.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?yh(s,i,c):(Ae(Be,Be.current&1),s=gn(s,i,c),s!==null?s.sibling:null);Ae(Be,Be.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(s.flags&128)!==0){if(f)return vh(s,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ae(Be,Be.current),f)break;return null;case 22:case 23:return i.lanes=0,hh(s,i,c)}return gn(s,i,c)}var wh,gc,_h,jh;wh=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},gc=function(){},_h=function(s,i,c,f){var p=s.memoizedProps;if(p!==f){s=i.stateNode,os(en.current);var x=null;switch(c){case"input":p=Va(s,p),f=Va(s,f),x=[];break;case"select":p=P({},p,{value:void 0}),f=P({},f,{value:void 0}),x=[];break;case"textarea":p=Ka(s,p),f=Ka(s,f),x=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=ro)}Qa(c,f);var v;c=null;for($ in p)if(!f.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var C=p[$];for(v in C)C.hasOwnProperty(v)&&(c||(c={}),c[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?x||(x=[]):(x=x||[]).push($,null));for($ in f){var M=f[$];if(C=p?.[$],f.hasOwnProperty($)&&M!==C&&(M!=null||C!=null))if($==="style")if(C){for(v in C)!C.hasOwnProperty(v)||M&&M.hasOwnProperty(v)||(c||(c={}),c[v]="");for(v in M)M.hasOwnProperty(v)&&C[v]!==M[v]&&(c||(c={}),c[v]=M[v])}else c||(x||(x=[]),x.push($,c)),c=M;else $==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(x=x||[]).push($,M)):$==="children"?typeof M!="string"&&typeof M!="number"||(x=x||[]).push($,""+M):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(M!=null&&$==="onScroll"&&Oe("scroll",s),x||C===M||(x=[])):(x=x||[]).push($,M))}c&&(x=x||[]).push("style",c);var $=x;(i.updateQueue=$)&&(i.flags|=4)}},jh=function(s,i,c,f){c!==f&&(i.flags|=4)};function Zr(s,i){if(!Ie)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function lt(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function iy(s,i,c){var f=i.pendingProps;switch(Il(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return yt(i.type)&&oo(),lt(i),null;case 3:return f=i.stateNode,Ks(),Le(xt),Le(ot),Gl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(fo(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qt!==null&&(Cc(qt),qt=null))),gc(s,i),lt(i),null;case 5:Xl(i);var p=os(Kr.current);if(c=i.type,s!==null&&i.stateNode!=null)_h(s,i,c,f,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return lt(i),null}if(s=os(en.current),fo(i)){f=i.stateNode,c=i.type;var x=i.memoizedProps;switch(f[Zt]=i,f[Hr]=x,s=(i.mode&1)!==0,c){case"dialog":Oe("cancel",f),Oe("close",f);break;case"iframe":case"object":case"embed":Oe("load",f);break;case"video":case"audio":for(p=0;p<Br.length;p++)Oe(Br[p],f);break;case"source":Oe("error",f);break;case"img":case"image":case"link":Oe("error",f),Oe("load",f);break;case"details":Oe("toggle",f);break;case"input":nd(f,x),Oe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},Oe("invalid",f);break;case"textarea":id(f,x),Oe("invalid",f)}Qa(c,x),p=null;for(var v in x)if(x.hasOwnProperty(v)){var C=x[v];v==="children"?typeof C=="string"?f.textContent!==C&&(x.suppressHydrationWarning!==!0&&so(f.textContent,C,s),p=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(x.suppressHydrationWarning!==!0&&so(f.textContent,C,s),p=["children",""+C]):o.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&Oe("scroll",f)}switch(c){case"input":pe(f),rd(f,x,!0);break;case"textarea":pe(f),ad(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=ro)}f=p,i.updateQueue=f,f!==null&&(i.flags|=4)}else{v=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ld(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=v.createElement(c,{is:f.is}):(s=v.createElement(c),c==="select"&&(v=s,f.multiple?v.multiple=!0:f.size&&(v.size=f.size))):s=v.createElementNS(s,c),s[Zt]=i,s[Hr]=f,wh(s,i,!1,!1),i.stateNode=s;e:{switch(v=Ga(c,f),c){case"dialog":Oe("cancel",s),Oe("close",s),p=f;break;case"iframe":case"object":case"embed":Oe("load",s),p=f;break;case"video":case"audio":for(p=0;p<Br.length;p++)Oe(Br[p],s);p=f;break;case"source":Oe("error",s),p=f;break;case"img":case"image":case"link":Oe("error",s),Oe("load",s),p=f;break;case"details":Oe("toggle",s),p=f;break;case"input":nd(s,f),p=Va(s,f),Oe("invalid",s);break;case"option":p=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},p=P({},f,{value:void 0}),Oe("invalid",s);break;case"textarea":id(s,f),p=Ka(s,f),Oe("invalid",s);break;default:p=f}Qa(c,p),C=p;for(x in C)if(C.hasOwnProperty(x)){var M=C[x];x==="style"?dd(s,M):x==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&cd(s,M)):x==="children"?typeof M=="string"?(c!=="textarea"||M!=="")&&wr(s,M):typeof M=="number"&&wr(s,""+M):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?M!=null&&x==="onScroll"&&Oe("scroll",s):M!=null&&D(s,x,M,v))}switch(c){case"input":pe(s),rd(s,f,!1);break;case"textarea":pe(s),ad(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Z(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?Ps(s,!!f.multiple,x,!1):f.defaultValue!=null&&Ps(s,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=ro)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return lt(i),null;case 6:if(s&&i.stateNode!=null)jh(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(c=os(Kr.current),os(en.current),fo(i)){if(f=i.stateNode,c=i.memoizedProps,f[Zt]=i,(x=f.nodeValue!==c)&&(s=Rt,s!==null))switch(s.tag){case 3:so(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&so(f.nodeValue,c,(s.mode&1)!==0)}x&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Zt]=i,i.stateNode=f}return lt(i),null;case 13:if(Le(Be),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ie&&Tt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Sf(),Ws(),i.flags|=98560,x=!1;else if(x=fo(i),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Zt]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),x=!1}else qt!==null&&(Cc(qt),qt=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Be.current&1)!==0?Ge===0&&(Ge=3):Rc())),i.updateQueue!==null&&(i.flags|=4),lt(i),null);case 4:return Ks(),gc(s,i),s===null&&Ur(i.stateNode.containerInfo),lt(i),null;case 10:return Wl(i.type._context),lt(i),null;case 17:return yt(i.type)&&oo(),lt(i),null;case 19:if(Le(Be),x=i.memoizedState,x===null)return lt(i),null;if(f=(i.flags&128)!==0,v=x.rendering,v===null)if(f)Zr(x,!1);else{if(Ge!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=yo(s),v!==null){for(i.flags|=128,Zr(x,!1),f=v.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)x=c,s=f,x.flags&=14680066,v=x.alternate,v===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=v.childLanes,x.lanes=v.lanes,x.child=v.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=v.memoizedProps,x.memoizedState=v.memoizedState,x.updateQueue=v.updateQueue,x.type=v.type,s=v.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ae(Be,Be.current&1|2),i.child}s=s.sibling}x.tail!==null&&Ve()>Js&&(i.flags|=128,f=!0,Zr(x,!1),i.lanes=4194304)}else{if(!f)if(s=yo(v),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Zr(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!Ie)return lt(i),null}else 2*Ve()-x.renderingStartTime>Js&&c!==1073741824&&(i.flags|=128,f=!0,Zr(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(c=x.last,c!==null?c.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Ve(),i.sibling=null,c=Be.current,Ae(Be,f?c&1|2:c&1),i):(lt(i),null);case 22:case 23:return Pc(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Mt&1073741824)!==0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function oy(s,i){switch(Il(i),i.tag){case 1:return yt(i.type)&&oo(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ks(),Le(xt),Le(ot),Gl(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Xl(i),null;case 13:if(Le(Be),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ws()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Le(Be),null;case 4:return Ks(),null;case 10:return Wl(i.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var Co=!1,ct=!1,ay=typeof WeakSet=="function"?WeakSet:Set,le=null;function Qs(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){He(s,i,f)}else c.current=null}function xc(s,i,c){try{c()}catch(f){He(s,i,f)}}var Nh=!1;function ly(s,i){if(Pl=qi,s=tf(),wl(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var v=0,C=-1,M=-1,$=0,Q=0,J=s,K=null;t:for(;;){for(var oe;J!==c||p!==0&&J.nodeType!==3||(C=v+p),J!==x||f!==0&&J.nodeType!==3||(M=v+f),J.nodeType===3&&(v+=J.nodeValue.length),(oe=J.firstChild)!==null;)K=J,J=oe;for(;;){if(J===s)break t;if(K===c&&++$===p&&(C=v),K===x&&++Q===f&&(M=v),(oe=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=oe}c=C===-1||M===-1?null:{start:C,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(Rl={focusedElem:s,selectionRange:c},qi=!1,le=i;le!==null;)if(i=le,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,le=s;else for(;le!==null;){i=le;try{var de=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,qe=de.memoizedState,I=i.stateNode,O=I.getSnapshotBeforeUpdate(i.elementType===i.type?fe:Yt(i.type,fe),qe);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){He(i,i.return,ee)}if(s=i.sibling,s!==null){s.return=i.return,le=s;break}le=i.return}return de=Nh,Nh=!1,de}function ei(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&s)===s){var x=p.destroy;p.destroy=void 0,x!==void 0&&xc(i,c,x)}p=p.next}while(p!==f)}}function Eo(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function yc(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function kh(s){var i=s.alternate;i!==null&&(s.alternate=null,kh(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Zt],delete i[Hr],delete i[Al],delete i[W0],delete i[V0])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Sh(s){return s.tag===5||s.tag===3||s.tag===4}function Ch(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function bc(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=ro));else if(f!==4&&(s=s.child,s!==null))for(bc(s,i,c),s=s.sibling;s!==null;)bc(s,i,c),s=s.sibling}function vc(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(vc(s,i,c),s=s.sibling;s!==null;)vc(s,i,c),s=s.sibling}var st=null,Kt=!1;function In(s,i,c){for(c=c.child;c!==null;)Eh(s,i,c),c=c.sibling}function Eh(s,i,c){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Bi,c)}catch{}switch(c.tag){case 5:ct||Qs(c,i);case 6:var f=st,p=Kt;st=null,In(s,i,c),st=f,Kt=p,st!==null&&(Kt?(s=st,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):st.removeChild(c.stateNode));break;case 18:st!==null&&(Kt?(s=st,c=c.stateNode,s.nodeType===8?Dl(s.parentNode,c):s.nodeType===1&&Dl(s,c),Mr(s)):Dl(st,c.stateNode));break;case 4:f=st,p=Kt,st=c.stateNode.containerInfo,Kt=!0,In(s,i,c),st=f,Kt=p;break;case 0:case 11:case 14:case 15:if(!ct&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var x=p,v=x.destroy;x=x.tag,v!==void 0&&((x&2)!==0||(x&4)!==0)&&xc(c,i,v),p=p.next}while(p!==f)}In(s,i,c);break;case 1:if(!ct&&(Qs(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(C){He(c,i,C)}In(s,i,c);break;case 21:In(s,i,c);break;case 22:c.mode&1?(ct=(f=ct)||c.memoizedState!==null,In(s,i,c),ct=f):In(s,i,c);break;default:In(s,i,c)}}function Ph(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new ay),i.forEach(function(f){var p=xy.bind(null,s,f);c.has(f)||(c.add(f),f.then(p,p))})}}function Xt(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];try{var x=s,v=i,C=v;e:for(;C!==null;){switch(C.tag){case 5:st=C.stateNode,Kt=!1;break e;case 3:st=C.stateNode.containerInfo,Kt=!0;break e;case 4:st=C.stateNode.containerInfo,Kt=!0;break e}C=C.return}if(st===null)throw Error(n(160));Eh(x,v,p),st=null,Kt=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch($){He(p,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Rh(i,s),i=i.sibling}function Rh(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xt(i,s),nn(s),f&4){try{ei(3,s,s.return),Eo(3,s)}catch(fe){He(s,s.return,fe)}try{ei(5,s,s.return)}catch(fe){He(s,s.return,fe)}}break;case 1:Xt(i,s),nn(s),f&512&&c!==null&&Qs(c,c.return);break;case 5:if(Xt(i,s),nn(s),f&512&&c!==null&&Qs(c,c.return),s.flags&32){var p=s.stateNode;try{wr(p,"")}catch(fe){He(s,s.return,fe)}}if(f&4&&(p=s.stateNode,p!=null)){var x=s.memoizedProps,v=c!==null?c.memoizedProps:x,C=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{C==="input"&&x.type==="radio"&&x.name!=null&&sd(p,x),Ga(C,v);var $=Ga(C,x);for(v=0;v<M.length;v+=2){var Q=M[v],J=M[v+1];Q==="style"?dd(p,J):Q==="dangerouslySetInnerHTML"?cd(p,J):Q==="children"?wr(p,J):D(p,Q,J,$)}switch(C){case"input":qa(p,x);break;case"textarea":od(p,x);break;case"select":var K=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!x.multiple;var oe=x.value;oe!=null?Ps(p,!!x.multiple,oe,!1):K!==!!x.multiple&&(x.defaultValue!=null?Ps(p,!!x.multiple,x.defaultValue,!0):Ps(p,!!x.multiple,x.multiple?[]:"",!1))}p[Hr]=x}catch(fe){He(s,s.return,fe)}}break;case 6:if(Xt(i,s),nn(s),f&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,x=s.memoizedProps;try{p.nodeValue=x}catch(fe){He(s,s.return,fe)}}break;case 3:if(Xt(i,s),nn(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Mr(i.containerInfo)}catch(fe){He(s,s.return,fe)}break;case 4:Xt(i,s),nn(s);break;case 13:Xt(i,s),nn(s),p=s.child,p.flags&8192&&(x=p.memoizedState!==null,p.stateNode.isHidden=x,!x||p.alternate!==null&&p.alternate.memoizedState!==null||(jc=Ve())),f&4&&Ph(s);break;case 22:if(Q=c!==null&&c.memoizedState!==null,s.mode&1?(ct=($=ct)||Q,Xt(i,s),ct=$):Xt(i,s),nn(s),f&8192){if($=s.memoizedState!==null,(s.stateNode.isHidden=$)&&!Q&&(s.mode&1)!==0)for(le=s,Q=s.child;Q!==null;){for(J=le=Q;le!==null;){switch(K=le,oe=K.child,K.tag){case 0:case 11:case 14:case 15:ei(4,K,K.return);break;case 1:Qs(K,K.return);var de=K.stateNode;if(typeof de.componentWillUnmount=="function"){f=K,c=K.return;try{i=f,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(fe){He(f,c,fe)}}break;case 5:Qs(K,K.return);break;case 22:if(K.memoizedState!==null){Dh(J);continue}}oe!==null?(oe.return=K,le=oe):Dh(J)}Q=Q.sibling}e:for(Q=null,J=s;;){if(J.tag===5){if(Q===null){Q=J;try{p=J.stateNode,$?(x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(C=J.stateNode,M=J.memoizedProps.style,v=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=ud("display",v))}catch(fe){He(s,s.return,fe)}}}else if(J.tag===6){if(Q===null)try{J.stateNode.nodeValue=$?"":J.memoizedProps}catch(fe){He(s,s.return,fe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===s)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===s)break e;for(;J.sibling===null;){if(J.return===null||J.return===s)break e;Q===J&&(Q=null),J=J.return}Q===J&&(Q=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Xt(i,s),nn(s),f&4&&Ph(s);break;case 21:break;default:Xt(i,s),nn(s)}}function nn(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(Sh(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(wr(p,""),f.flags&=-33);var x=Ch(s);vc(s,x,p);break;case 3:case 4:var v=f.stateNode.containerInfo,C=Ch(s);bc(s,C,v);break;default:throw Error(n(161))}}catch(M){He(s,s.return,M)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function cy(s,i,c){le=s,Th(s)}function Th(s,i,c){for(var f=(s.mode&1)!==0;le!==null;){var p=le,x=p.child;if(p.tag===22&&f){var v=p.memoizedState!==null||Co;if(!v){var C=p.alternate,M=C!==null&&C.memoizedState!==null||ct;C=Co;var $=ct;if(Co=v,(ct=M)&&!$)for(le=p;le!==null;)v=le,M=v.child,v.tag===22&&v.memoizedState!==null?Ah(p):M!==null?(M.return=v,le=M):Ah(p);for(;x!==null;)le=x,Th(x),x=x.sibling;le=p,Co=C,ct=$}Mh(s)}else(p.subtreeFlags&8772)!==0&&x!==null?(x.return=p,le=x):Mh(s)}}function Mh(s){for(;le!==null;){var i=le;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ct||Eo(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!ct)if(c===null)f.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:Yt(i.type,c.memoizedProps);f.componentDidUpdate(p,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Df(i,x,f);break;case 3:var v=i.updateQueue;if(v!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Df(i,v,c)}break;case 5:var C=i.stateNode;if(c===null&&i.flags&4){c=C;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&c.focus();break;case"img":M.src&&(c.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var Q=$.memoizedState;if(Q!==null){var J=Q.dehydrated;J!==null&&Mr(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ct||i.flags&512&&yc(i)}catch(K){He(i,i.return,K)}}if(i===s){le=null;break}if(c=i.sibling,c!==null){c.return=i.return,le=c;break}le=i.return}}function Dh(s){for(;le!==null;){var i=le;if(i===s){le=null;break}var c=i.sibling;if(c!==null){c.return=i.return,le=c;break}le=i.return}}function Ah(s){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Eo(4,i)}catch(M){He(i,c,M)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var p=i.return;try{f.componentDidMount()}catch(M){He(i,p,M)}}var x=i.return;try{yc(i)}catch(M){He(i,x,M)}break;case 5:var v=i.return;try{yc(i)}catch(M){He(i,v,M)}}}catch(M){He(i,i.return,M)}if(i===s){le=null;break}var C=i.sibling;if(C!==null){C.return=i.return,le=C;break}le=i.return}}var uy=Math.ceil,Po=T.ReactCurrentDispatcher,wc=T.ReactCurrentOwner,zt=T.ReactCurrentBatchConfig,Ee=0,et=null,Xe=null,rt=0,Mt=0,Gs=Dn(0),Ge=0,ti=null,ls=0,Ro=0,_c=0,ni=null,vt=null,jc=0,Js=1/0,xn=null,To=!1,Nc=null,zn=null,Mo=!1,Bn=null,Do=0,si=0,kc=null,Ao=-1,Oo=0;function gt(){return(Ee&6)!==0?Ve():Ao!==-1?Ao:Ao=Ve()}function Un(s){return(s.mode&1)===0?1:(Ee&2)!==0&&rt!==0?rt&-rt:Y0.transition!==null?(Oo===0&&(Oo=Sd()),Oo):(s=Te,s!==0||(s=window.event,s=s===void 0?16:Od(s.type)),s)}function Qt(s,i,c,f){if(50<si)throw si=0,kc=null,Error(n(185));Cr(s,c,f),((Ee&2)===0||s!==et)&&(s===et&&((Ee&2)===0&&(Ro|=c),Ge===4&&$n(s,rt)),wt(s,f),c===1&&Ee===0&&(i.mode&1)===0&&(Js=Ve()+500,lo&&On()))}function wt(s,i){var c=s.callbackNode;Yx(s,i);var f=Hi(s,s===et?rt:0);if(f===0)c!==null&&jd(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&jd(c),i===1)s.tag===0?q0(Lh.bind(null,s)):wf(Lh.bind(null,s)),$0(function(){(Ee&6)===0&&On()}),c=null;else{switch(Cd(f)){case 1:c=rl;break;case 4:c=Nd;break;case 16:c=zi;break;case 536870912:c=kd;break;default:c=zi}c=Wh(c,Oh.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function Oh(s,i){if(Ao=-1,Oo=0,(Ee&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Zs()&&s.callbackNode!==c)return null;var f=Hi(s,s===et?rt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=Lo(s,f);else{i=f;var p=Ee;Ee|=2;var x=Ih();(et!==s||rt!==i)&&(xn=null,Js=Ve()+500,us(s,i));do try{hy();break}catch(C){Fh(s,C)}while(!0);Hl(),Po.current=x,Ee=p,Xe!==null?i=0:(et=null,rt=0,i=Ge)}if(i!==0){if(i===2&&(p=il(s),p!==0&&(f=p,i=Sc(s,p))),i===1)throw c=ti,us(s,0),$n(s,f),wt(s,Ve()),c;if(i===6)$n(s,f);else{if(p=s.current.alternate,(f&30)===0&&!dy(p)&&(i=Lo(s,f),i===2&&(x=il(s),x!==0&&(f=x,i=Sc(s,x))),i===1))throw c=ti,us(s,0),$n(s,f),wt(s,Ve()),c;switch(s.finishedWork=p,s.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:ds(s,vt,xn);break;case 3:if($n(s,f),(f&130023424)===f&&(i=jc+500-Ve(),10<i)){if(Hi(s,0)!==0)break;if(p=s.suspendedLanes,(p&f)!==f){gt(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Ml(ds.bind(null,s,vt,xn),i);break}ds(s,vt,xn);break;case 4:if($n(s,f),(f&4194240)===f)break;for(i=s.eventTimes,p=-1;0<f;){var v=31-Wt(f);x=1<<v,v=i[v],v>p&&(p=v),f&=~x}if(f=p,f=Ve()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*uy(f/1960))-f,10<f){s.timeoutHandle=Ml(ds.bind(null,s,vt,xn),f);break}ds(s,vt,xn);break;case 5:ds(s,vt,xn);break;default:throw Error(n(329))}}}return wt(s,Ve()),s.callbackNode===c?Oh.bind(null,s):null}function Sc(s,i){var c=ni;return s.current.memoizedState.isDehydrated&&(us(s,i).flags|=256),s=Lo(s,i),s!==2&&(i=vt,vt=c,i!==null&&Cc(i)),s}function Cc(s){vt===null?vt=s:vt.push.apply(vt,s)}function dy(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var p=c[f],x=p.getSnapshot;p=p.value;try{if(!Vt(x(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $n(s,i){for(i&=~_c,i&=~Ro,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-Wt(i),f=1<<c;s[c]=-1,i&=~f}}function Lh(s){if((Ee&6)!==0)throw Error(n(327));Zs();var i=Hi(s,0);if((i&1)===0)return wt(s,Ve()),null;var c=Lo(s,i);if(s.tag!==0&&c===2){var f=il(s);f!==0&&(i=f,c=Sc(s,f))}if(c===1)throw c=ti,us(s,0),$n(s,i),wt(s,Ve()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ds(s,vt,xn),wt(s,Ve()),null}function Ec(s,i){var c=Ee;Ee|=1;try{return s(i)}finally{Ee=c,Ee===0&&(Js=Ve()+500,lo&&On())}}function cs(s){Bn!==null&&Bn.tag===0&&(Ee&6)===0&&Zs();var i=Ee;Ee|=1;var c=zt.transition,f=Te;try{if(zt.transition=null,Te=1,s)return s()}finally{Te=f,zt.transition=c,Ee=i,(Ee&6)===0&&On()}}function Pc(){Mt=Gs.current,Le(Gs)}function us(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,U0(c)),Xe!==null)for(c=Xe.return;c!==null;){var f=c;switch(Il(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&oo();break;case 3:Ks(),Le(xt),Le(ot),Gl();break;case 5:Xl(f);break;case 4:Ks();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:Wl(f.type._context);break;case 22:case 23:Pc()}c=c.return}if(et=s,Xe=s=Hn(s.current,null),rt=Mt=i,Ge=0,ti=null,_c=Ro=ls=0,vt=ni=null,is!==null){for(i=0;i<is.length;i++)if(c=is[i],f=c.interleaved,f!==null){c.interleaved=null;var p=f.next,x=c.pending;if(x!==null){var v=x.next;x.next=p,f.next=v}c.pending=f}is=null}return s}function Fh(s,i){do{var c=Xe;try{if(Hl(),bo.current=jo,vo){for(var f=Ue.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}vo=!1}if(as=0,Ze=Qe=Ue=null,Xr=!1,Qr=0,wc.current=null,c===null||c.return===null){Ge=1,ti=i,Xe=null;break}e:{var x=s,v=c.return,C=c,M=i;if(i=rt,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var $=M,Q=C,J=Q.tag;if((Q.mode&1)===0&&(J===0||J===11||J===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var oe=lh(v);if(oe!==null){oe.flags&=-257,ch(oe,v,C,x,i),oe.mode&1&&ah(x,$,i),i=oe,M=$;var de=i.updateQueue;if(de===null){var fe=new Set;fe.add(M),i.updateQueue=fe}else de.add(M);break e}else{if((i&1)===0){ah(x,$,i),Rc();break e}M=Error(n(426))}}else if(Ie&&C.mode&1){var qe=lh(v);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),ch(qe,v,C,x,i),Ul(Xs(M,C));break e}}x=M=Xs(M,C),Ge!==4&&(Ge=2),ni===null?ni=[x]:ni.push(x),x=v;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var I=ih(x,M,i);Mf(x,I);break e;case 1:C=M;var O=x.type,B=x.stateNode;if((x.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(zn===null||!zn.has(B)))){x.flags|=65536,i&=-i,x.lanes|=i;var ee=oh(x,C,i);Mf(x,ee);break e}}x=x.return}while(x!==null)}Bh(c)}catch(he){i=he,Xe===c&&c!==null&&(Xe=c=c.return);continue}break}while(!0)}function Ih(){var s=Po.current;return Po.current=jo,s===null?jo:s}function Rc(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||(ls&268435455)===0&&(Ro&268435455)===0||$n(et,rt)}function Lo(s,i){var c=Ee;Ee|=2;var f=Ih();(et!==s||rt!==i)&&(xn=null,us(s,i));do try{fy();break}catch(p){Fh(s,p)}while(!0);if(Hl(),Ee=c,Po.current=f,Xe!==null)throw Error(n(261));return et=null,rt=0,Ge}function fy(){for(;Xe!==null;)zh(Xe)}function hy(){for(;Xe!==null&&!Ix();)zh(Xe)}function zh(s){var i=Hh(s.alternate,s,Mt);s.memoizedProps=s.pendingProps,i===null?Bh(s):Xe=i,wc.current=null}function Bh(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=iy(c,i,Mt),c!==null){Xe=c;return}}else{if(c=oy(c,i),c!==null){c.flags&=32767,Xe=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ge=6,Xe=null;return}}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=s}while(i!==null);Ge===0&&(Ge=5)}function ds(s,i,c){var f=Te,p=zt.transition;try{zt.transition=null,Te=1,my(s,i,c,f)}finally{zt.transition=p,Te=f}return null}function my(s,i,c,f){do Zs();while(Bn!==null);if((Ee&6)!==0)throw Error(n(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Kx(s,x),s===et&&(Xe=et=null,rt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Mo||(Mo=!0,Wh(zi,function(){return Zs(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=zt.transition,zt.transition=null;var v=Te;Te=1;var C=Ee;Ee|=4,wc.current=null,ly(s,c),Rh(c,s),A0(Rl),qi=!!Pl,Rl=Pl=null,s.current=c,cy(c),zx(),Ee=C,Te=v,zt.transition=x}else s.current=c;if(Mo&&(Mo=!1,Bn=s,Do=p),x=s.pendingLanes,x===0&&(zn=null),$x(c.stateNode),wt(s,Ve()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)p=i[c],f(p.value,{componentStack:p.stack,digest:p.digest});if(To)throw To=!1,s=Nc,Nc=null,s;return(Do&1)!==0&&s.tag!==0&&Zs(),x=s.pendingLanes,(x&1)!==0?s===kc?si++:(si=0,kc=s):si=0,On(),null}function Zs(){if(Bn!==null){var s=Cd(Do),i=zt.transition,c=Te;try{if(zt.transition=null,Te=16>s?16:s,Bn===null)var f=!1;else{if(s=Bn,Bn=null,Do=0,(Ee&6)!==0)throw Error(n(331));var p=Ee;for(Ee|=4,le=s.current;le!==null;){var x=le,v=x.child;if((le.flags&16)!==0){var C=x.deletions;if(C!==null){for(var M=0;M<C.length;M++){var $=C[M];for(le=$;le!==null;){var Q=le;switch(Q.tag){case 0:case 11:case 15:ei(8,Q,x)}var J=Q.child;if(J!==null)J.return=Q,le=J;else for(;le!==null;){Q=le;var K=Q.sibling,oe=Q.return;if(kh(Q),Q===$){le=null;break}if(K!==null){K.return=oe,le=K;break}le=oe}}}var de=x.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var qe=fe.sibling;fe.sibling=null,fe=qe}while(fe!==null)}}le=x}}if((x.subtreeFlags&2064)!==0&&v!==null)v.return=x,le=v;else e:for(;le!==null;){if(x=le,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ei(9,x,x.return)}var I=x.sibling;if(I!==null){I.return=x.return,le=I;break e}le=x.return}}var O=s.current;for(le=O;le!==null;){v=le;var B=v.child;if((v.subtreeFlags&2064)!==0&&B!==null)B.return=v,le=B;else e:for(v=O;le!==null;){if(C=le,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Eo(9,C)}}catch(he){He(C,C.return,he)}if(C===v){le=null;break e}var ee=C.sibling;if(ee!==null){ee.return=C.return,le=ee;break e}le=C.return}}if(Ee=p,On(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Bi,s)}catch{}f=!0}return f}finally{Te=c,zt.transition=i}}return!1}function Uh(s,i,c){i=Xs(c,i),i=ih(s,i,1),s=Fn(s,i,1),i=gt(),s!==null&&(Cr(s,1,i),wt(s,i))}function He(s,i,c){if(s.tag===3)Uh(s,s,c);else for(;i!==null;){if(i.tag===3){Uh(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zn===null||!zn.has(f))){s=Xs(c,s),s=oh(i,s,1),i=Fn(i,s,1),s=gt(),i!==null&&(Cr(i,1,s),wt(i,s));break}}i=i.return}}function py(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=gt(),s.pingedLanes|=s.suspendedLanes&c,et===s&&(rt&c)===c&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>Ve()-jc?us(s,0):_c|=c),wt(s,i)}function $h(s,i){i===0&&((s.mode&1)===0?i=1:(i=$i,$i<<=1,($i&130023424)===0&&($i=4194304)));var c=gt();s=mn(s,i),s!==null&&(Cr(s,i,c),wt(s,c))}function gy(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),$h(s,c)}function xy(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),$h(s,c)}var Hh;Hh=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||xt.current)bt=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return bt=!1,ry(s,i,c);bt=(s.flags&131072)!==0}else bt=!1,Ie&&(i.flags&1048576)!==0&&_f(i,uo,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;So(s,i),s=i.pendingProps;var p=Us(i,ot.current);Ys(i,c),p=ec(null,i,f,s,p,c);var x=tc();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,yt(f)?(x=!0,ao(i)):x=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Yl(i),p.updater=No,i.stateNode=p,p._reactInternals=i,ac(i,f,s,c),i=dc(null,i,f,!0,x,c)):(i.tag=0,Ie&&x&&Fl(i),pt(null,i,p,c),i=i.child),i;case 16:f=i.elementType;e:{switch(So(s,i),s=i.pendingProps,p=f._init,f=p(f._payload),i.type=f,p=i.tag=by(f),s=Yt(f,s),p){case 0:i=uc(null,i,f,s,c);break e;case 1:i=ph(null,i,f,s,c);break e;case 11:i=uh(null,i,f,s,c);break e;case 14:i=dh(null,i,f,Yt(f.type,s),c);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),uc(s,i,f,p,c);case 1:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),ph(s,i,f,p,c);case 3:e:{if(gh(i),s===null)throw Error(n(387));f=i.pendingProps,x=i.memoizedState,p=x.element,Tf(s,i),xo(i,f,null,c);var v=i.memoizedState;if(f=v.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){p=Xs(Error(n(423)),i),i=xh(s,i,f,c,p);break e}else if(f!==p){p=Xs(Error(n(424)),i),i=xh(s,i,f,c,p);break e}else for(Tt=Mn(i.stateNode.containerInfo.firstChild),Rt=i,Ie=!0,qt=null,c=Pf(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ws(),f===p){i=gn(s,i,c);break e}pt(s,i,f,c)}i=i.child}return i;case 5:return Af(i),s===null&&Bl(i),f=i.type,p=i.pendingProps,x=s!==null?s.memoizedProps:null,v=p.children,Tl(f,p)?v=null:x!==null&&Tl(f,x)&&(i.flags|=32),mh(s,i),pt(s,i,v,c),i.child;case 6:return s===null&&Bl(i),null;case 13:return yh(s,i,c);case 4:return Kl(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Vs(i,null,f,c):pt(s,i,f,c),i.child;case 11:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),uh(s,i,f,p,c);case 7:return pt(s,i,i.pendingProps,c),i.child;case 8:return pt(s,i,i.pendingProps.children,c),i.child;case 12:return pt(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,p=i.pendingProps,x=i.memoizedProps,v=p.value,Ae(mo,f._currentValue),f._currentValue=v,x!==null)if(Vt(x.value,v)){if(x.children===p.children&&!xt.current){i=gn(s,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var C=x.dependencies;if(C!==null){v=x.child;for(var M=C.firstContext;M!==null;){if(M.context===f){if(x.tag===1){M=pn(-1,c&-c),M.tag=2;var $=x.updateQueue;if($!==null){$=$.shared;var Q=$.pending;Q===null?M.next=M:(M.next=Q.next,Q.next=M),$.pending=M}}x.lanes|=c,M=x.alternate,M!==null&&(M.lanes|=c),Vl(x.return,c,i),C.lanes|=c;break}M=M.next}}else if(x.tag===10)v=x.type===i.type?null:x.child;else if(x.tag===18){if(v=x.return,v===null)throw Error(n(341));v.lanes|=c,C=v.alternate,C!==null&&(C.lanes|=c),Vl(v,c,i),v=x.sibling}else v=x.child;if(v!==null)v.return=x;else for(v=x;v!==null;){if(v===i){v=null;break}if(x=v.sibling,x!==null){x.return=v.return,v=x;break}v=v.return}x=v}pt(s,i,p.children,c),i=i.child}return i;case 9:return p=i.type,f=i.pendingProps.children,Ys(i,c),p=Ft(p),f=f(p),i.flags|=1,pt(s,i,f,c),i.child;case 14:return f=i.type,p=Yt(f,i.pendingProps),p=Yt(f.type,p),dh(s,i,f,p,c);case 15:return fh(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),So(s,i),i.tag=1,yt(f)?(s=!0,ao(i)):s=!1,Ys(i,c),sh(i,f,p),ac(i,f,p,c),dc(null,i,f,!0,s,c);case 19:return vh(s,i,c);case 22:return hh(s,i,c)}throw Error(n(156,i.tag))};function Wh(s,i){return _d(s,i)}function yy(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(s,i,c,f){return new yy(s,i,c,f)}function Tc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function by(s){if(typeof s=="function")return Tc(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ce)return 14}return 2}function Hn(s,i){var c=s.alternate;return c===null?(c=Bt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Fo(s,i,c,f,p,x){var v=2;if(f=s,typeof s=="function")Tc(s)&&(v=1);else if(typeof s=="string")v=5;else e:switch(s){case z:return fs(c.children,p,x,i);case q:v=8,p|=8;break;case Y:return s=Bt(12,c,i,p|2),s.elementType=Y,s.lanes=x,s;case X:return s=Bt(13,c,i,p),s.elementType=X,s.lanes=x,s;case ne:return s=Bt(19,c,i,p),s.elementType=ne,s.lanes=x,s;case ue:return Io(c,p,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case se:v=10;break e;case re:v=9;break e;case F:v=11;break e;case ce:v=14;break e;case me:v=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Bt(v,c,i,p),i.elementType=s,i.type=f,i.lanes=x,i}function fs(s,i,c,f){return s=Bt(7,s,f,i),s.lanes=c,s}function Io(s,i,c,f){return s=Bt(22,s,f,i),s.elementType=ue,s.lanes=c,s.stateNode={isHidden:!1},s}function Mc(s,i,c){return s=Bt(6,s,null,i),s.lanes=c,s}function Dc(s,i,c){return i=Bt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function vy(s,i,c,f,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ac(s,i,c,f,p,x,v,C,M){return s=new vy(s,i,c,C,M),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Bt(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yl(x),s}function wy(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function Vh(s){if(!s)return An;s=s._reactInternals;e:{if(es(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(yt(c))return bf(s,c,i)}return i}function qh(s,i,c,f,p,x,v,C,M){return s=Ac(c,f,!0,s,p,x,v,C,M),s.context=Vh(null),c=s.current,f=gt(),p=Un(c),x=pn(f,p),x.callback=i??null,Fn(c,x,p),s.current.lanes=p,Cr(s,p,f),wt(s,f),s}function zo(s,i,c,f){var p=i.current,x=gt(),v=Un(p);return c=Vh(c),i.context===null?i.context=c:i.pendingContext=c,i=pn(x,v),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=Fn(p,i,v),s!==null&&(Qt(s,p,v,x),go(s,p,v)),v}function Bo(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Yh(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function Oc(s,i){Yh(s,i),(s=s.alternate)&&Yh(s,i)}function _y(){return null}var Kh=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lc(s){this._internalRoot=s}Uo.prototype.render=Lc.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));zo(s,i,null,null)},Uo.prototype.unmount=Lc.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;cs(function(){zo(null,s,null,null)}),i[un]=null}};function Uo(s){this._internalRoot=s}Uo.prototype.unstable_scheduleHydration=function(s){if(s){var i=Rd();s={blockedOn:null,target:s,priority:i};for(var c=0;c<Pn.length&&i!==0&&i<Pn[c].priority;c++);Pn.splice(c,0,s),c===0&&Dd(s)}};function Fc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function $o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Xh(){}function jy(s,i,c,f,p){if(p){if(typeof f=="function"){var x=f;f=function(){var $=Bo(v);x.call($)}}var v=qh(i,f,s,0,null,!1,!1,"",Xh);return s._reactRootContainer=v,s[un]=v.current,Ur(s.nodeType===8?s.parentNode:s),cs(),v}for(;p=s.lastChild;)s.removeChild(p);if(typeof f=="function"){var C=f;f=function(){var $=Bo(M);C.call($)}}var M=Ac(s,0,!1,null,null,!1,!1,"",Xh);return s._reactRootContainer=M,s[un]=M.current,Ur(s.nodeType===8?s.parentNode:s),cs(function(){zo(i,M,c,f)}),M}function Ho(s,i,c,f,p){var x=c._reactRootContainer;if(x){var v=x;if(typeof p=="function"){var C=p;p=function(){var M=Bo(v);C.call(M)}}zo(i,v,s,p)}else v=jy(c,i,s,p,f);return Bo(v)}Ed=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Sr(i.pendingLanes);c!==0&&(al(i,c|1),wt(i,Ve()),(Ee&6)===0&&(Js=Ve()+500,On()))}break;case 13:cs(function(){var f=mn(s,1);if(f!==null){var p=gt();Qt(f,s,1,p)}}),Oc(s,1)}},ll=function(s){if(s.tag===13){var i=mn(s,134217728);if(i!==null){var c=gt();Qt(i,s,134217728,c)}Oc(s,134217728)}},Pd=function(s){if(s.tag===13){var i=Un(s),c=mn(s,i);if(c!==null){var f=gt();Qt(c,s,i,f)}Oc(s,i)}},Rd=function(){return Te},Td=function(s,i){var c=Te;try{return Te=s,i()}finally{Te=c}},el=function(s,i,c){switch(i){case"input":if(qa(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var p=io(f);if(!p)throw Error(n(90));ze(f),qa(f,p)}}}break;case"textarea":od(s,c);break;case"select":i=c.value,i!=null&&Ps(s,!!c.multiple,i,!1)}},pd=Ec,gd=cs;var Ny={usingClientEntryPoint:!1,Events:[Wr,zs,io,hd,md,Ec]},ri={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=vd(s),s===null?null:s.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||_y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{Bi=Wo.inject(ky),Jt=Wo}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ny,_t.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(i))throw Error(n(200));return wy(s,i,null,c)},_t.createRoot=function(s,i){if(!Fc(s))throw Error(n(299));var c=!1,f="",p=Kh;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Ac(s,1,!1,null,null,c,!1,f,p),s[un]=i.current,Ur(s.nodeType===8?s.parentNode:s),new Lc(i)},_t.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=vd(i),s=s===null?null:s.stateNode,s},_t.flushSync=function(s){return cs(s)},_t.hydrate=function(s,i,c){if(!$o(i))throw Error(n(200));return Ho(null,s,i,!0,c)},_t.hydrateRoot=function(s,i,c){if(!Fc(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,p=!1,x="",v=Kh;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(v=c.onRecoverableError)),i=qh(i,null,s,1,c??null,p,!1,x,v),s[un]=i.current,Ur(s),f)for(s=0;s<f.length;s++)c=f[s],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new Uo(i)},_t.render=function(s,i,c){if(!$o(i))throw Error(n(200));return Ho(null,s,i,!1,c)},_t.unmountComponentAtNode=function(s){if(!$o(s))throw Error(n(40));return s._reactRootContainer?(cs(function(){Ho(null,null,s,!1,function(){s._reactRootContainer=null,s[un]=null})}),!0):!1},_t.unstable_batchedUpdates=Ec,_t.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!$o(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ho(s,i,c,!1,f)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var sm;function tg(){if(sm)return Bc.exports;sm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bc.exports=Ay(),Bc.exports}var rm;function Oy(){if(rm)return Vo;rm=1;var t=tg();return Vo.createRoot=t.createRoot,Vo.hydrateRoot=t.hydrateRoot,Vo}var Ly=Oy();const Fy=eg(Ly);tg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bi.apply(this,arguments)}var Vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vn||(Vn={}));const im="popstate";function Iy(t){t===void 0&&(t={});function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return lu("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ha(o)}return By(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ng(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zy(){return Math.random().toString(36).substr(2,8)}function om(t,e){return{usr:t.state,key:t.key,idx:e}}function lu(t,e,n,r){return n===void 0&&(n=null),bi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hr(e):e,{state:n,key:e&&e.key||r||zy()})}function ha(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function By(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d=Vn.Pop,h=null,m=g();m==null&&(m=0,u.replaceState(bi({},u.state,{idx:m}),""));function g(){return(u.state||{idx:null}).idx}function y(){d=Vn.Pop;let _=g(),R=_==null?null:_-m;m=_,h&&h({action:d,location:j.location,delta:R})}function b(_,R){d=Vn.Push;let k=lu(j.location,_,R);m=g()+1;let D=om(k,m),T=j.createHref(k);try{u.pushState(D,"",T)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(T)}a&&h&&h({action:d,location:j.location,delta:1})}function w(_,R){d=Vn.Replace;let k=lu(j.location,_,R);m=g();let D=om(k,m),T=j.createHref(k);u.replaceState(D,"",T),a&&h&&h({action:d,location:j.location,delta:0})}function N(_){let R=o.location.origin!=="null"?o.location.origin:o.location.href,k=typeof _=="string"?_:ha(_);return k=k.replace(/ $/,"%20"),Ke(R,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,R)}let j={get action(){return d},get location(){return t(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(im,y),h=_,()=>{o.removeEventListener(im,y),h=null}},createHref(_){return e(o,_)},createURL:N,encodeLocation(_){let R=N(_);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:w,go(_){return u.go(_)}};return j}var am;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(am||(am={}));function Uy(t,e,n){return n===void 0&&(n="/"),$y(t,e,n)}function $y(t,e,n,r){let o=typeof e=="string"?hr(e):e,a=Mu(o.pathname||"/",n);if(a==null)return null;let u=sg(t);Hy(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=tb(a);d=Jy(u[h],m)}return d}function sg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Ke(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=Xn([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),sg(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:Qy(m,a.index),routesMeta:g})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let h of rg(a.path))o(a,u,h)}),e}function rg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=rg(r.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Hy(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Gy(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wy=/^:[\w-]+$/,Vy=3,qy=2,Yy=1,Ky=10,Xy=-2,lm=t=>t==="*";function Qy(t,e){let n=t.split("/"),r=n.length;return n.some(lm)&&(r+=Xy),e&&(r+=qy),n.filter(o=>!lm(o)).reduce((o,a)=>o+(Wy.test(a)?Vy:a===""?Yy:Ky),r)}function Gy(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function Jy(t,e,n){let{routesMeta:r}=t,o={},a="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=Zy({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Xn([a,y.pathname]),pathnameBase:ib(Xn([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=Xn([a,y.pathnameBase]))}return u}function Zy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eb(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:b,isOptional:w}=g;if(b==="*"){let j=d[y]||"";u=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const N=d[y];return w&&!N?m[b]=void 0:m[b]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function eb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ng(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function tb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ng(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?hr(t):t;return{pathname:n?n.startsWith("/")?n:sb(n,e):e,search:ob(r),hash:ab(o)}}function sb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Du(t,e){let n=rb(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Au(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=hr(t):(o=bi({},t),Ke(!o.pathname||!o.pathname.includes("?"),Hc("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Hc("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Hc("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}d=y>=0?e[y]:"/"}let h=nb(o,d),m=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const Xn=t=>t.join("/").replace(/\/\/+/g,"/"),ib=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ob=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ab=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ig=["post","put","patch","delete"];new Set(ig);const cb=["get",...ig];new Set(cb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vi.apply(this,arguments)}const Ou=S.createContext(null),ub=S.createContext(null),Jn=S.createContext(null),Ea=S.createContext(null),Zn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),og=S.createContext(null);function db(t,e){let{relative:n}=e===void 0?{}:e;mr()||Ke(!1);let{basename:r,navigator:o}=S.useContext(Jn),{hash:a,pathname:u,search:d}=lg(t,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:Xn([r,u])),o.createHref({pathname:h,search:d,hash:a})}function mr(){return S.useContext(Ea)!=null}function pr(){return mr()||Ke(!1),S.useContext(Ea).location}function ag(t){S.useContext(Jn).static||S.useLayoutEffect(t)}function Pa(){let{isDataRoute:t}=S.useContext(Zn);return t?Nb():fb()}function fb(){mr()||Ke(!1);let t=S.useContext(Ou),{basename:e,future:n,navigator:r}=S.useContext(Jn),{matches:o}=S.useContext(Zn),{pathname:a}=pr(),u=JSON.stringify(Du(o,n.v7_relativeSplatPath)),d=S.useRef(!1);return ag(()=>{d.current=!0}),S.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let y=Au(m,JSON.parse(u),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xn([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,u,a,t])}function lg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Jn),{matches:o}=S.useContext(Zn),{pathname:a}=pr(),u=JSON.stringify(Du(o,r.v7_relativeSplatPath));return S.useMemo(()=>Au(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function hb(t,e){return mb(t,e)}function mb(t,e,n,r){mr()||Ke(!1);let{navigator:o}=S.useContext(Jn),{matches:a}=S.useContext(Zn),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=pr(),g;if(e){var y;let _=typeof e=="string"?hr(e):e;h==="/"||(y=_.pathname)!=null&&y.startsWith(h)||Ke(!1),g=_}else g=m;let b=g.pathname||"/",w=b;if(h!=="/"){let _=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let N=Uy(t,{pathname:w}),j=bb(N&&N.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Xn([h,o.encodeLocation?o.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:Xn([h,o.encodeLocation?o.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,n,r);return e&&j?S.createElement(Ea.Provider,{value:{location:vi({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Vn.Pop}},j):j}function pb(){let t=jb(),e=lb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,null)}const gb=S.createElement(pb,null);class xb extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Zn.Provider,{value:this.props.routeContext},S.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yb(t){let{routeContext:e,match:n,children:r}=t,o=S.useContext(Ou);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Zn.Provider,{value:e},r)}function bb(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let g=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);g>=0||Ke(!1),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:b,errors:w}=n,N=y.route.loader&&b[y.route.id]===void 0&&(!w||w[y.route.id]===void 0);if(y.route.lazy||N){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,y,b)=>{let w,N=!1,j=null,_=null;n&&(w=d&&y.route.id?d[y.route.id]:void 0,j=y.route.errorElement||gb,h&&(m<0&&b===0?(kb("route-fallback"),N=!0,_=null):m===b&&(N=!0,_=y.route.hydrateFallbackElement||null)));let R=e.concat(u.slice(0,b+1)),k=()=>{let D;return w?D=j:N?D=_:y.route.Component?D=S.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=g,S.createElement(yb,{match:y,routeContext:{outlet:g,matches:R,isDataRoute:n!=null},children:D})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?S.createElement(xb,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:k(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):k()},null)}var cg=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(cg||{}),ug=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(ug||{});function vb(t){let e=S.useContext(Ou);return e||Ke(!1),e}function wb(t){let e=S.useContext(ub);return e||Ke(!1),e}function _b(t){let e=S.useContext(Zn);return e||Ke(!1),e}function dg(t){let e=_b(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function jb(){var t;let e=S.useContext(og),n=wb(),r=dg();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Nb(){let{router:t}=vb(cg.UseNavigateStable),e=dg(ug.UseNavigateStable),n=S.useRef(!1);return ag(()=>{n.current=!0}),S.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,vi({fromRouteId:e},a)))},[t,e])}const cm={};function kb(t,e,n){cm[t]||(cm[t]=!0)}function Sb(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function cu(t){let{to:e,replace:n,state:r,relative:o}=t;mr()||Ke(!1);let{future:a,static:u}=S.useContext(Jn),{matches:d}=S.useContext(Zn),{pathname:h}=pr(),m=Pa(),g=Au(e,Du(d,a.v7_relativeSplatPath),h,o==="path"),y=JSON.stringify(g);return S.useEffect(()=>m(JSON.parse(y),{replace:n,state:r,relative:o}),[m,y,o,n,r]),null}function ut(t){Ke(!1)}function Cb(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Vn.Pop,navigator:a,static:u=!1,future:d}=t;mr()&&Ke(!1);let h=e.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:h,navigator:a,static:u,future:vi({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);typeof r=="string"&&(r=hr(r));let{pathname:g="/",search:y="",hash:b="",state:w=null,key:N="default"}=r,j=S.useMemo(()=>{let _=Mu(g,h);return _==null?null:{location:{pathname:_,search:y,hash:b,state:w,key:N},navigationType:o}},[h,g,y,b,w,N,o]);return j==null?null:S.createElement(Jn.Provider,{value:m},S.createElement(Ea.Provider,{children:n,value:j}))}function um(t){let{children:e,location:n}=t;return hb(uu(e),n)}new Promise(()=>{});function uu(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let a=[...e,o];if(r.type===S.Fragment){n.push.apply(n,uu(r.props.children,a));return}r.type!==ut&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=uu(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}function Eb(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function Pb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rb(t,e){return t.button===0&&(!e||e==="_self")&&!Pb(t)}const Tb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mb="6";try{window.__reactRouterVersion=Mb}catch{}const Db="startTransition",dm=Ty[Db];function Ab(t){let{basename:e,children:n,future:r,window:o}=t,a=S.useRef();a.current==null&&(a.current=Iy({window:o,v5Compat:!0}));let u=a.current,[d,h]=S.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},g=S.useCallback(y=>{m&&dm?dm(()=>h(y)):h(y)},[h,m]);return S.useLayoutEffect(()=>u.listen(g),[u,g]),S.useEffect(()=>Sb(r),[r]),S.createElement(Cb,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:r})}const Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fm=S.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:a,replace:u,state:d,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,b=Eb(e,Tb),{basename:w}=S.useContext(Jn),N,j=!1;if(typeof m=="string"&&Lb.test(m)&&(N=m,Ob))try{let D=new URL(window.location.href),T=m.startsWith("//")?new URL(D.protocol+m):new URL(m),L=Mu(T.pathname,w);T.origin===D.origin&&L!=null?m=L+T.search+T.hash:j=!0}catch{}let _=db(m,{relative:o}),R=Fb(m,{replace:u,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:y});function k(D){r&&r(D),D.defaultPrevented||R(D)}return S.createElement("a",du({},b,{href:N||_,onClick:j||a?r:k,ref:n,target:h}))});var hm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hm||(hm={}));var mm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mm||(mm={}));function Fb(t,e){let{target:n,replace:r,state:o,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,h=Pa(),m=pr(),g=lg(t,{relative:u});return S.useCallback(y=>{if(Rb(y,n)){y.preventDefault();let b=r!==void 0?r:ha(m)===ha(g);h(t,{replace:b,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[m,h,g,r,o,n,t,a,u,d])}function fg(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ib}=Object.prototype,{getPrototypeOf:Lu}=Object,{iterator:Ra,toStringTag:hg}=Symbol,Ta=(t=>e=>{const n=Ib.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=t=>(t=t.toLowerCase(),e=>Ta(e)===t),Ma=t=>e=>typeof e===t,{isArray:gr}=Array,wi=Ma("undefined");function Pi(t){return t!==null&&!wi(t)&&t.constructor!==null&&!wi(t.constructor)&&St(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mg=Gt("ArrayBuffer");function zb(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mg(t.buffer),e}const Bb=Ma("string"),St=Ma("function"),pg=Ma("number"),Ri=t=>t!==null&&typeof t=="object",Ub=t=>t===!0||t===!1,la=t=>{if(Ta(t)!=="object")return!1;const e=Lu(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hg in t)&&!(Ra in t)},$b=t=>{if(!Ri(t)||Pi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Hb=Gt("Date"),Wb=Gt("File"),Vb=Gt("Blob"),qb=Gt("FileList"),Yb=t=>Ri(t)&&St(t.pipe),Kb=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||St(t.append)&&((e=Ta(t))==="formdata"||e==="object"&&St(t.toString)&&t.toString()==="[object FormData]"))},Xb=Gt("URLSearchParams"),[Qb,Gb,Jb,Zb]=["ReadableStream","Request","Response","Headers"].map(Gt),ev=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ti(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),gr(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(Pi(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),u=a.length;let d;for(r=0;r<u;r++)d=a[r],e.call(null,t[d],d,t)}}function gg(t,e){if(Pi(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xg=t=>!wi(t)&&t!==ys;function fu(){const{caseless:t}=xg(this)&&this||{},e={},n=(r,o)=>{const a=t&&gg(e,o)||o;la(e[a])&&la(r)?e[a]=fu(e[a],r):la(r)?e[a]=fu({},r):gr(r)?e[a]=r.slice():e[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Ti(arguments[r],n);return e}const tv=(t,e,n,{allOwnKeys:r}={})=>(Ti(e,(o,a)=>{n&&St(o)?t[a]=fg(o,n):t[a]=o},{allOwnKeys:r}),t),nv=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sv=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rv=(t,e,n,r)=>{let o,a,u;const d={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)u=o[a],(!r||r(u,t,e))&&!d[u]&&(e[u]=t[u],d[u]=!0);t=n!==!1&&Lu(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},iv=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ov=t=>{if(!t)return null;if(gr(t))return t;let e=t.length;if(!pg(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},av=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lu(Uint8Array)),lv=(t,e)=>{const r=(t&&t[Ra]).call(t);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},cv=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},uv=Gt("HTMLFormElement"),dv=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),pm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),fv=Gt("RegExp"),yg=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ti(n,(o,a)=>{let u;(u=e(o,a,t))!==!1&&(r[a]=u||o)}),Object.defineProperties(t,r)},hv=t=>{yg(t,(e,n)=>{if(St(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(St(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mv=(t,e)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return gr(t)?r(t):r(String(t).split(e)),n},pv=()=>{},gv=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function xv(t){return!!(t&&St(t.append)&&t[hg]==="FormData"&&t[Ra])}const yv=t=>{const e=new Array(10),n=(r,o)=>{if(Ri(r)){if(e.indexOf(r)>=0)return;if(Pi(r))return r;if(!("toJSON"in r)){e[o]=r;const a=gr(r)?[]:{};return Ti(r,(u,d)=>{const h=n(u,o+1);!wi(h)&&(a[d]=h)}),e[o]=void 0,a}}return r};return n(t,0)},bv=Gt("AsyncFunction"),vv=t=>t&&(Ri(t)||St(t))&&St(t.then)&&St(t.catch),bg=((t,e)=>t?setImmediate:e?((n,r)=>(ys.addEventListener("message",({source:o,data:a})=>{o===ys&&a===n&&r.length&&r.shift()()},!1),o=>{r.push(o),ys.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",St(ys.postMessage)),wv=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||bg,_v=t=>t!=null&&St(t[Ra]),W={isArray:gr,isArrayBuffer:mg,isBuffer:Pi,isFormData:Kb,isArrayBufferView:zb,isString:Bb,isNumber:pg,isBoolean:Ub,isObject:Ri,isPlainObject:la,isEmptyObject:$b,isReadableStream:Qb,isRequest:Gb,isResponse:Jb,isHeaders:Zb,isUndefined:wi,isDate:Hb,isFile:Wb,isBlob:Vb,isRegExp:fv,isFunction:St,isStream:Yb,isURLSearchParams:Xb,isTypedArray:av,isFileList:qb,forEach:Ti,merge:fu,extend:tv,trim:ev,stripBOM:nv,inherits:sv,toFlatObject:rv,kindOf:Ta,kindOfTest:Gt,endsWith:iv,toArray:ov,forEachEntry:lv,matchAll:cv,isHTMLForm:uv,hasOwnProperty:pm,hasOwnProp:pm,reduceDescriptors:yg,freezeMethods:hv,toObjectSet:mv,toCamelCase:dv,noop:pv,toFiniteNumber:gv,findKey:gg,global:ys,isContextDefined:xg,isSpecCompliantForm:xv,toJSONObject:yv,isAsyncFn:bv,isThenable:vv,setImmediate:bg,asap:wv,isIterable:_v};function _e(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}W.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const vg=_e.prototype,wg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wg[t]={value:t}});Object.defineProperties(_e,wg);Object.defineProperty(vg,"isAxiosError",{value:!0});_e.from=(t,e,n,r,o,a)=>{const u=Object.create(vg);return W.toFlatObject(t,u,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),_e.call(u,t.message,e,n,r,o),u.cause=t,u.name=t.name,a&&Object.assign(u,a),u};const jv=null;function hu(t){return W.isPlainObject(t)||W.isArray(t)}function _g(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function gm(t,e,n){return t?t.concat(e).map(function(o,a){return o=_g(o),!n&&a?"["+o+"]":o}).join(n?".":""):e}function Nv(t){return W.isArray(t)&&!t.some(hu)}const kv=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function Da(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,_){return!W.isUndefined(_[j])});const r=n.metaTokens,o=n.visitor||g,a=n.dots,u=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(o))throw new TypeError("visitor must be a function");function m(N){if(N===null)return"";if(W.isDate(N))return N.toISOString();if(W.isBoolean(N))return N.toString();if(!h&&W.isBlob(N))throw new _e("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(N)||W.isTypedArray(N)?h&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function g(N,j,_){let R=N;if(N&&!_&&typeof N=="object"){if(W.endsWith(j,"{}"))j=r?j:j.slice(0,-2),N=JSON.stringify(N);else if(W.isArray(N)&&Nv(N)||(W.isFileList(N)||W.endsWith(j,"[]"))&&(R=W.toArray(N)))return j=_g(j),R.forEach(function(D,T){!(W.isUndefined(D)||D===null)&&e.append(u===!0?gm([j],T,a):u===null?j:j+"[]",m(D))}),!1}return hu(N)?!0:(e.append(gm(_,j,a),m(N)),!1)}const y=[],b=Object.assign(kv,{defaultVisitor:g,convertValue:m,isVisitable:hu});function w(N,j){if(!W.isUndefined(N)){if(y.indexOf(N)!==-1)throw Error("Circular reference detected in "+j.join("."));y.push(N),W.forEach(N,function(R,k){(!(W.isUndefined(R)||R===null)&&o.call(e,R,W.isString(k)?k.trim():k,j,b))===!0&&w(R,j?j.concat(k):[k])}),y.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return w(t),e}function xm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Fu(t,e){this._pairs=[],t&&Da(t,this,e)}const jg=Fu.prototype;jg.append=function(e,n){this._pairs.push([e,n])};jg.toString=function(e){const n=e?function(r){return e.call(this,r,xm)}:xm;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Sv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ng(t,e,n){if(!e)return t;const r=n&&n.encode||Sv;W.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(e,n):a=W.isURLSearchParams(e)?e.toString():new Fu(e,n).toString(r),a){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class ym{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(r){r!==null&&e(r)})}}const kg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cv=typeof URLSearchParams<"u"?URLSearchParams:Fu,Ev=typeof FormData<"u"?FormData:null,Pv=typeof Blob<"u"?Blob:null,Rv={isBrowser:!0,classes:{URLSearchParams:Cv,FormData:Ev,Blob:Pv},protocols:["http","https","file","blob","url","data"]},Iu=typeof window<"u"&&typeof document<"u",mu=typeof navigator=="object"&&navigator||void 0,Tv=Iu&&(!mu||["ReactNative","NativeScript","NS"].indexOf(mu.product)<0),Mv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dv=Iu&&window.location.href||"http://localhost",Av=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Iu,hasStandardBrowserEnv:Tv,hasStandardBrowserWebWorkerEnv:Mv,navigator:mu,origin:Dv},Symbol.toStringTag,{value:"Module"})),ft={...Av,...Rv};function Ov(t,e){return Da(t,new ft.classes.URLSearchParams,{visitor:function(n,r,o,a){return ft.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Lv(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Fv(t){const e={},n=Object.keys(t);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],e[a]=t[a];return e}function Sg(t){function e(n,r,o,a){let u=n[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),h=a>=n.length;return u=!u&&W.isArray(o)?o.length:u,h?(W.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!d):((!o[u]||!W.isObject(o[u]))&&(o[u]=[]),e(n,r,o[u],a)&&W.isArray(o[u])&&(o[u]=Fv(o[u])),!d)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(r,o)=>{e(Lv(r),o,n,0)}),n}return null}function Iv(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Mi={transitional:kg,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,a=W.isObject(e);if(a&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return o?JSON.stringify(Sg(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ov(e,this.formSerializer).toString();if((d=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Da(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),Iv(e)):e}],transformResponse:[function(e){const n=this.transitional||Mi.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(r&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(u)throw d.name==="SyntaxError"?_e.from(d,_e.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{Mi.headers[t]={}});const zv=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bv=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!n||e[n]&&zv[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},bm=Symbol("internals");function oi(t){return t&&String(t).trim().toLowerCase()}function ca(t){return t===!1||t==null?t:W.isArray(t)?t.map(ca):String(t)}function Uv(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const $v=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wc(t,e,n,r,o){if(W.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!W.isString(e)){if(W.isString(r))return e.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(e)}}function Hv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Wv(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}let Ct=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function a(d,h,m){const g=oi(h);if(!g)throw new Error("header name must be a non-empty string");const y=W.findKey(o,g);(!y||o[y]===void 0||m===!0||m===void 0&&o[y]!==!1)&&(o[y||h]=ca(d))}const u=(d,h)=>W.forEach(d,(m,g)=>a(m,g,h));if(W.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(W.isString(e)&&(e=e.trim())&&!$v(e))u(Bv(e),n);else if(W.isObject(e)&&W.isIterable(e)){let d={},h,m;for(const g of e){if(!W.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(h=d[m])?W.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}u(d,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=oi(e),e){const r=W.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return Uv(o);if(W.isFunction(n))return n.call(this,o,r);if(W.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=oi(e),e){const r=W.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Wc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function a(u){if(u=oi(u),u){const d=W.findKey(r,u);d&&(!n||Wc(r,r[d],d,n))&&(delete r[d],o=!0)}}return W.isArray(e)?e.forEach(a):a(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const a=n[r];(!e||Wc(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const n=this,r={};return W.forEach(this,(o,a)=>{const u=W.findKey(r,a);if(u){n[u]=ca(o),delete n[a];return}const d=e?Hv(a):String(a).trim();d!==a&&delete n[a],n[d]=ca(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[bm]=this[bm]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=oi(u);r[d]||(Wv(o,u),r[d]=!0)}return W.isArray(e)?e.forEach(a):a(e),this}};Ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Ct.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});W.freezeMethods(Ct);function Vc(t,e){const n=this||Mi,r=e||n,o=Ct.from(r.headers);let a=r.data;return W.forEach(t,function(d){a=d.call(n,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function Cg(t){return!!(t&&t.__CANCEL__)}function xr(t,e,n){_e.call(this,t??"canceled",_e.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(xr,_e,{__CANCEL__:!0});function Eg(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Vv(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qv(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=r[a];u||(u=m),n[o]=h,r[o]=m;let y=a,b=0;for(;y!==o;)b+=n[y++],y=y%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-u<e)return;const w=g&&m-g;return w?Math.round(b*1e3/w):void 0}}function Yv(t,e){let n=0,r=1e3/e,o,a;const u=(m,g=Date.now())=>{n=g,o=null,a&&(clearTimeout(a),a=null),t(...m)};return[(...m)=>{const g=Date.now(),y=g-n;y>=r?u(m,g):(o=m,a||(a=setTimeout(()=>{a=null,u(o)},r-y)))},()=>o&&u(o)]}const ma=(t,e,n=3)=>{let r=0;const o=qv(50,250);return Yv(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,h=u-r,m=o(h),g=u<=d;r=u;const y={loaded:u,total:d,progress:d?u/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&g?(d-u)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(y)},n)},vm=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},wm=t=>(...e)=>W.asap(()=>t(...e)),Kv=ft.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,Xv=ft.hasStandardBrowserEnv?{write(t,e,n,r,o,a){const u=[t+"="+encodeURIComponent(e)];W.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),W.isString(r)&&u.push("path="+r),W.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qv(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Gv(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Pg(t,e,n){let r=!Qv(e);return t&&(r||n==!1)?Gv(t,e):e}const _m=t=>t instanceof Ct?{...t}:t;function js(t,e){e=e||{};const n={};function r(m,g,y,b){return W.isPlainObject(m)&&W.isPlainObject(g)?W.merge.call({caseless:b},m,g):W.isPlainObject(g)?W.merge({},g):W.isArray(g)?g.slice():g}function o(m,g,y,b){if(W.isUndefined(g)){if(!W.isUndefined(m))return r(void 0,m,y,b)}else return r(m,g,y,b)}function a(m,g){if(!W.isUndefined(g))return r(void 0,g)}function u(m,g){if(W.isUndefined(g)){if(!W.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function d(m,g,y){if(y in e)return r(m,g);if(y in t)return r(void 0,m)}const h={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,g,y)=>o(_m(m),_m(g),y,!0)};return W.forEach(Object.keys({...t,...e}),function(g){const y=h[g]||o,b=y(t[g],e[g],g);W.isUndefined(b)&&y!==d||(n[g]=b)}),n}const Rg=t=>{const e=js({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;e.headers=u=Ct.from(u),e.url=Ng(Pg(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(W.isFormData(n)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((h=u.getContentType())!==!1){const[m,...g]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...g].join("; "))}}if(ft.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(e)),r||r!==!1&&Kv(e.url))){const m=o&&a&&Xv.read(a);m&&u.set(o,m)}return e},Jv=typeof XMLHttpRequest<"u",Zv=Jv&&function(t){return new Promise(function(n,r){const o=Rg(t);let a=o.data;const u=Ct.from(o.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=o,g,y,b,w,N;function j(){w&&w(),N&&N(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let _=new XMLHttpRequest;_.open(o.method.toUpperCase(),o.url,!0),_.timeout=o.timeout;function R(){if(!_)return;const D=Ct.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),L={data:!d||d==="text"||d==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:D,config:t,request:_};Eg(function(z){n(z),j()},function(z){r(z),j()},L),_=null}"onloadend"in _?_.onloadend=R:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(R)},_.onabort=function(){_&&(r(new _e("Request aborted",_e.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new _e("Network Error",_e.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let T=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const L=o.transitional||kg;o.timeoutErrorMessage&&(T=o.timeoutErrorMessage),r(new _e(T,L.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,_)),_=null},a===void 0&&u.setContentType(null),"setRequestHeader"in _&&W.forEach(u.toJSON(),function(T,L){_.setRequestHeader(L,T)}),W.isUndefined(o.withCredentials)||(_.withCredentials=!!o.withCredentials),d&&d!=="json"&&(_.responseType=o.responseType),m&&([b,N]=ma(m,!0),_.addEventListener("progress",b)),h&&_.upload&&([y,w]=ma(h),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(g=D=>{_&&(r(!D||D.type?new xr(null,t,_):D),_.abort(),_=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const k=Vv(o.url);if(k&&ft.protocols.indexOf(k)===-1){r(new _e("Unsupported protocol "+k+":",_e.ERR_BAD_REQUEST,t));return}_.send(a||null)})},ew=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const a=function(m){if(!o){o=!0,d();const g=m instanceof Error?m:this.reason;r.abort(g instanceof _e?g:new xr(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,a(new _e(`timeout ${e} of ms exceeded`,_e.ETIMEDOUT))},e);const d=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>W.asap(d),h}},tw=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},nw=async function*(t,e){for await(const n of sw(t))yield*tw(n,e)},sw=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},jm=(t,e,n,r)=>{const o=nw(t,e);let a=0,u,d=h=>{u||(u=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await o.next();if(m){d(),h.close();return}let y=g.byteLength;if(n){let b=a+=y;n(b)}h.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(h){return d(h),o.return()}},{highWaterMark:2})},Aa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tg=Aa&&typeof ReadableStream=="function",rw=Aa&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Mg=(t,...e)=>{try{return!!t(...e)}catch{return!1}},iw=Tg&&Mg(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Nm=64*1024,pu=Tg&&Mg(()=>W.isReadableStream(new Response("").body)),pa={stream:pu&&(t=>t.body)};Aa&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!pa[e]&&(pa[e]=W.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new _e(`Response type '${e}' is not supported`,_e.ERR_NOT_SUPPORT,r)})})})(new Response);const ow=async t=>{if(t==null)return 0;if(W.isBlob(t))return t.size;if(W.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(W.isArrayBufferView(t)||W.isArrayBuffer(t))return t.byteLength;if(W.isURLSearchParams(t)&&(t=t+""),W.isString(t))return(await rw(t)).byteLength},aw=async(t,e)=>{const n=W.toFiniteNumber(t.getContentLength());return n??ow(e)},lw=Aa&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:a,timeout:u,onDownloadProgress:d,onUploadProgress:h,responseType:m,headers:g,withCredentials:y="same-origin",fetchOptions:b}=Rg(t);m=m?(m+"").toLowerCase():"text";let w=ew([o,a&&a.toAbortSignal()],u),N;const j=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let _;try{if(h&&iw&&n!=="get"&&n!=="head"&&(_=await aw(g,r))!==0){let L=new Request(e,{method:"POST",body:r,duplex:"half"}),V;if(W.isFormData(r)&&(V=L.headers.get("content-type"))&&g.setContentType(V),L.body){const[z,q]=vm(_,ma(wm(h)));r=jm(L.body,Nm,z,q)}}W.isString(y)||(y=y?"include":"omit");const R="credentials"in Request.prototype;N=new Request(e,{...b,signal:w,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:R?y:void 0});let k=await fetch(N,b);const D=pu&&(m==="stream"||m==="response");if(pu&&(d||D&&j)){const L={};["status","statusText","headers"].forEach(Y=>{L[Y]=k[Y]});const V=W.toFiniteNumber(k.headers.get("content-length")),[z,q]=d&&vm(V,ma(wm(d),!0))||[];k=new Response(jm(k.body,Nm,z,()=>{q&&q(),j&&j()}),L)}m=m||"text";let T=await pa[W.findKey(pa,m)||"text"](k,t);return!D&&j&&j(),await new Promise((L,V)=>{Eg(L,V,{data:T,headers:Ct.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:N})})}catch(R){throw j&&j(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,t,N),{cause:R.cause||R}):_e.from(R,R&&R.code,t,N)}}),gu={http:jv,xhr:Zv,fetch:lw};W.forEach(gu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const km=t=>`- ${t}`,cw=t=>W.isFunction(t)||t===null||t===!1,Dg={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let a=0;a<e;a++){n=t[a];let u;if(r=n,!cw(n)&&(r=gu[(u=String(n)).toLowerCase()],r===void 0))throw new _e(`Unknown adapter '${u}'`);if(r)break;o[u||"#"+a]=r}if(!r){const a=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(km).join(`
`):" "+km(a[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:gu};function qc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xr(null,t)}function Sm(t){return qc(t),t.headers=Ct.from(t.headers),t.data=Vc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Dg.getAdapter(t.adapter||Mi.adapter)(t).then(function(r){return qc(t),r.data=Vc.call(t,t.transformResponse,r),r.headers=Ct.from(r.headers),r},function(r){return Cg(r)||(qc(t),r&&r.response&&(r.response.data=Vc.call(t,t.transformResponse,r.response),r.response.headers=Ct.from(r.response.headers))),Promise.reject(r)})}const Ag="1.11.0",Oa={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Oa[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Cm={};Oa.transitional=function(e,n,r){function o(a,u){return"[Axios v"+Ag+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,d)=>{if(e===!1)throw new _e(o(u," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!Cm[u]&&(Cm[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,u,d):!0}};Oa.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function uw(t,e,n){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const d=t[a],h=d===void 0||u(d,a,t);if(h!==!0)throw new _e("option "+a+" must be "+h,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+a,_e.ERR_BAD_OPTION)}}const ua={assertOptions:uw,validators:Oa},sn=ua.validators;let ws=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ym,response:new ym}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=js(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:a}=n;r!==void 0&&ua.assertOptions(r,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),o!=null&&(W.isFunction(o)?n.paramsSerializer={serialize:o}:ua.assertOptions(o,{encode:sn.function,serialize:sn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ua.assertOptions(n,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=a&&W.merge(a.common,a[n.method]);a&&W.forEach(["delete","get","head","post","put","patch","common"],N=>{delete a[N]}),n.headers=Ct.concat(u,a);const d=[];let h=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(h=h&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let g,y=0,b;if(!h){const N=[Sm.bind(this),void 0];for(N.unshift(...d),N.push(...m),b=N.length,g=Promise.resolve(n);y<b;)g=g.then(N[y++],N[y++]);return g}b=d.length;let w=n;for(y=0;y<b;){const N=d[y++],j=d[y++];try{w=N(w)}catch(_){j.call(this,_);break}}try{g=Sm.call(this,w)}catch(N){return Promise.reject(N)}for(y=0,b=m.length;y<b;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=js(this.defaults,e);const n=Pg(e.baseURL,e.url,e.allowAbsoluteUrls);return Ng(n,e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){ws.prototype[e]=function(n,r){return this.request(js(r||{},{method:e,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(r){return function(a,u,d){return this.request(js(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}ws.prototype[e]=n(),ws.prototype[e+"Form"]=n(!0)});let dw=class Og{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{r.subscribe(d),a=d}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,d){r.reason||(r.reason=new xr(a,u,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Og(function(o){e=o}),cancel:e}}};function fw(t){return function(n){return t.apply(null,n)}}function hw(t){return W.isObject(t)&&t.isAxiosError===!0}const xu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xu).forEach(([t,e])=>{xu[e]=t});function Lg(t){const e=new ws(t),n=fg(ws.prototype.request,e);return W.extend(n,ws.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Lg(js(t,o))},n}const We=Lg(Mi);We.Axios=ws;We.CanceledError=xr;We.CancelToken=dw;We.isCancel=Cg;We.VERSION=Ag;We.toFormData=Da;We.AxiosError=_e;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=fw;We.isAxiosError=hw;We.mergeConfig=js;We.AxiosHeaders=Ct;We.formToJSON=t=>Sg(W.isHTMLForm(t)?new FormData(t):t);We.getAdapter=Dg.getAdapter;We.HttpStatusCode=xu;We.default=We;const{Axios:AN,AxiosError:ON,CanceledError:LN,isCancel:FN,CancelToken:IN,VERSION:zN,all:BN,Cancel:UN,isAxiosError:$N,spread:HN,toFormData:WN,AxiosHeaders:VN,HttpStatusCode:qN,formToJSON:YN,getAdapter:KN,mergeConfig:XN}=We,ln=We.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});ln.interceptors.request.use(t=>{const e=localStorage.getItem("access_token")||localStorage.getItem("authToken");return e?(t.headers.Authorization=`Bearer ${e}`,console.log("🔑 Using token from services/api.js:",e.substring(0,20)+"...")):console.log("⚠️ No token found in services/api.js"),t},t=>Promise.reject(t));ln.interceptors.response.use(t=>t,t=>(t.response?.status===401?(localStorage.removeItem("access_token"),localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),window.location.href="/login"):t.response?.status===403&&t.response?.data?.message?.includes("malformed")&&(localStorage.removeItem("access_token"),localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),console.log("🧹 Malformed token detected, clearing storage"),window.location.href="/login"),Promise.reject(t)));const mw=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!0),[o,a]=S.useState(null),u=async()=>{try{r(!0),a(null);const d=await ln.get("/user-access/modules");d.data.success?e(d.data.data):a(d.data.message)}catch(d){console.error("Error fetching user access:",d),a(d.response?.data?.message||"Failed to fetch user permissions")}finally{r(!1)}};return S.useEffect(()=>{localStorage.getItem("access_token")||localStorage.getItem("authToken")?u():r(!1)},[]),{userAccess:t,loading:n,error:o,refetch:u}};var pw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),we=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,children:d,...h},m)=>S.createElement("svg",{ref:m,...pw,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:`lucide lucide-${gw(t)}`,...h},[...e.map(([g,y])=>S.createElement(g,y)),...(Array.isArray(d)?d:[d])||[]]));return n.displayName=`${t}`,n},Em=we("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Et=we("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Pm=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),jn=we("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),La=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Fa=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),xw=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),yw=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Fg=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),cr=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Rm=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),or=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),bw=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),yu=we("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ga=we("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_i=we("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),zu=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Yc=we("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Tm=we("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),bu=we("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Mm=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),vw=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ww=we("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Di=we("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),_w=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),jw=we("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),At=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Nw=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Ns=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ig=we("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cs=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Dm=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kw=we("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ji=we("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Am=we("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),qn=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),yr=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Sw=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Om=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xa=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),vu=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ks=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Bu=we("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Nn=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cw=({children:t})=>{const[e,n]=S.useState(!0),[r,o]=S.useState(!1),a=pr(),u=Pa(),{userAccess:d}=mw(),h=Tu.useMemo(()=>{try{const w=localStorage.getItem("user");return w?JSON.parse(w):null}catch{return null}},[]),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),u("/login")},g={Home:Yc,Users:ks,Key:Tm,Tags:Am,Database:Rm,CreditCard:cr,UserCheck:xa,Target:qn,BarChart3:jn,FileText:_i,Settings:Dm},y=d?.navigation?.map(w=>({...w,icon:g[w.icon]||Yc}))||[{name:"Dashboard",href:"/dashboard",icon:Yc},{name:"User Management",href:"/user-management",icon:ks},{name:"Role Management",href:"/role-management",icon:Tm},{name:"Campaign Types",href:"/campaign-types",icon:Am},{name:"Campaign Data",href:"/campaign-data",icon:Rm},{name:"Cards",href:"/cards",icon:cr},{name:"Card Users",href:"/card-users",icon:xa},{name:"Campaigns",href:"/campaigns",icon:qn},{name:"Analytics",href:"/analytics",icon:jn},{name:"Reports",href:"/reports-table",icon:_i},{name:"Report Analytics",href:"/reports",icon:jn},{name:"Settings",href:"/settings",icon:Dm}],b=w=>a.pathname===w;return l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:`hidden md:flex md:flex-shrink-0 transition-all duration-300 ${e?"md:w-64":"md:w-16"}`,children:l.jsx("div",{className:"flex flex-col w-full",children:l.jsxs("div",{className:"flex flex-col flex-grow bg-sidebar-bg overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 flex-shrink-0 px-4 bg-gray-900",children:[l.jsxs("div",{className:`flex items-center ${e?"block":"hidden"}`,children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(qn,{className:"h-8 w-8 text-primary-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("h1",{className:"text-xl font-bold text-white",children:"Ads Reporter"})})]}),l.jsx("button",{onClick:()=>n(!e),className:"p-1 rounded-md text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",children:e?l.jsx(xw,{className:"h-5 w-5"}):l.jsx(yw,{className:"h-5 w-5"})})]}),l.jsxs("nav",{className:"mt-5 flex-1 px-2 space-y-1 flex flex-col",children:[l.jsx("div",{className:"flex-1 space-y-1",children:y.map(w=>{const N=w.icon;return l.jsxs(fm,{to:w.href,className:`sidebar-link ${b(w.href)?"active":""}`,title:e?"":w.name,children:[l.jsx(N,{className:`h-5 w-5 ${e?"mr-3":"mx-auto"}`}),e&&l.jsx("span",{className:"text-sm font-medium",children:w.name})]},w.name)})}),l.jsx("div",{className:"pt-4 border-t border-gray-700",children:l.jsxs("button",{onClick:m,className:"w-full sidebar-link text-red-300 hover:text-red-100 hover:bg-red-600/20 transition-colors",title:e?"":"Logout",children:[l.jsx(Mm,{className:`h-5 w-5 ${e?"mr-3":"mx-auto"}`}),e&&l.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})})}),l.jsx("div",{className:`md:hidden ${r?"block":"hidden"}`,children:l.jsxs("div",{className:"fixed inset-0 flex z-40",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>o(!1)}),l.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-sidebar-bg",children:[l.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:l.jsx("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>o(!1),children:l.jsx(Nn,{className:"h-6 w-6 text-white"})})}),l.jsxs("div",{className:"flex items-center h-16 flex-shrink-0 px-4 bg-gray-900",children:[l.jsx(qn,{className:"h-8 w-8 text-primary-500"}),l.jsx("h1",{className:"ml-3 text-xl font-bold text-white",children:"Ads Reporter"})]}),l.jsxs("nav",{className:"mt-5 flex-1 px-2 space-y-1 flex flex-col",children:[l.jsx("div",{className:"flex-1 space-y-1",children:y.map(w=>{const N=w.icon;return l.jsxs(fm,{to:w.href,className:`sidebar-link ${b(w.href)?"active":""}`,onClick:()=>o(!1),children:[l.jsx(N,{className:"h-5 w-5 mr-3"}),l.jsx("span",{className:"text-sm font-medium",children:w.name})]},w.name)})}),l.jsx("div",{className:"pt-4 border-t border-gray-700",children:l.jsxs("button",{onClick:()=>{o(!1),m()},className:"w-full sidebar-link text-red-300 hover:text-red-100 hover:bg-red-600/20 transition-colors",children:[l.jsx(Mm,{className:"h-5 w-5 mr-3"}),l.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})]})}),l.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[l.jsxs("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow-sm border-b border-gray-200",children:[l.jsx("button",{className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 md:hidden",onClick:()=>o(!0),children:l.jsx(vw,{className:"h-6 w-6"})}),l.jsxs("div",{className:"flex-1 px-4 flex justify-between items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:y.find(w=>w.href===a.pathname)?.name||"Dashboard"})}),l.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 mr-3",children:h?.username||"User"}),l.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-white",children:(h?.username||"U")[0].toUpperCase()})})]})})]})]}),l.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none bg-gray-50",children:t})]})]})},Ew=({children:t})=>localStorage.getItem("access_token")||localStorage.getItem("authToken")?t:l.jsx(cu,{to:"/login",replace:!0}),Pw="http://localhost:5000/api",ie=We.create({baseURL:Pw,headers:{"Content-Type":"application/json"}});window.clearAllTokens=()=>{console.log("🧹 Clearing all tokens manually..."),localStorage.removeItem("access_token"),localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),sessionStorage.clear(),console.log("✅ All tokens cleared! Redirecting to login..."),window.location.href="/login"};const Rw=()=>{const t=localStorage.getItem("access_token"),e=localStorage.getItem("authToken"),n=localStorage.getItem("auth_token");return!t&&(e||n)?(console.log("Cleaning up old token format, please login again"),localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login"),null):t};ie.interceptors.request.use(t=>{const e=Rw();return console.log("🔑 Token being sent:",e?`${e.substring(0,20)}...`:"No token"),e&&(t.headers.Authorization=`Bearer ${e}`),t});ie.interceptors.response.use(t=>t,t=>{if(t.response?.status===401){localStorage.removeItem("access_token"),localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user");const e=t.response?.data?.message||"Your session has expired. Please log in again.";window.location.pathname!=="/login"&&(sessionStorage.setItem("loginMessage",e),window.location.href="/login")}else if(t.response?.status===403){const e=t.response?.data?.message||"Access denied. You don't have permission to perform this action.";console.error("Permission denied:",e),(e.includes("Wrong token type")||e.includes("access token"))&&(console.log("Token type error detected, clearing old tokens"),localStorage.removeItem("access_token"),localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(sessionStorage.setItem("loginMessage","Please log in again to get a fresh access token."),window.location.href="/login"))}else if(t.response?.status===404){const e=t.response?.data?.message||"The item you're looking for doesn't exist or may have been removed.";console.error("Resource not found:",e)}else if(t.response?.status>=500){const e=t.response?.data?.message||"We're experiencing technical difficulties. Please try again in a few minutes.";console.error("Server error:",e)}else t.response?.data?.message&&console.error("API Error:",t.response.data.message);if(t.response?.data?.message)t.userMessage=t.response.data.message;else switch(t.response?.status){case 400:t.userMessage="There was an issue with your request. Please check your input and try again.";break;case 403:t.userMessage="Access denied. You don't have permission to perform this action.";break;case 404:t.userMessage="The item you're looking for doesn't exist or may have been removed.";break;case 409:t.userMessage="This action conflicts with existing data. Please try again.";break;case 422:t.userMessage="Some of the information you provided is not valid. Please check and try again.";break;case 429:t.userMessage="You're making too many requests. Please wait a moment and try again.";break;case 500:case 502:case 503:case 504:t.userMessage="We're experiencing technical difficulties. Please try again in a few minutes.";break;default:t.userMessage="Something went wrong. Please try again later."}return Promise.reject(t)});const Tw=()=>{const[t,e]=S.useState({username:"",password:"",twofa_code:""}),[n,r]=S.useState(!1),[o,a]=S.useState(!1),[u,d]=S.useState(""),[h,m]=S.useState(!1),[g,y]=S.useState("credentials"),[b,w]=S.useState(null),N=Pa(),j=async k=>{k.preventDefault(),a(!0),d(""),console.log("Login attempt:",{username:t.username,step:g});try{if(g==="credentials"){console.log("Making API call to backend...");try{const D=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})});console.log("API response status:",D.status),console.log("API response ok:",D.ok);const T=await D.json();console.log("API response data:",T),T.success?T.data.requires_2fa?(m(!0),w(T.data.user.id),y("2fa"),console.log("2FA required for user:",T.data.user.username)):(console.log("Login successful, storing token and navigating..."),localStorage.setItem("access_token",T.data.access_token),localStorage.setItem("authToken",T.data.access_token),localStorage.setItem("user",JSON.stringify(T.data.user)),N("/dashboard")):d(T.message||"Invalid username or password")}catch{if(console.warn("API not available, using demo mode"),t.username==="admin"&&t.password==="password"){const T="demo-token-"+Date.now();localStorage.setItem("access_token",T),localStorage.setItem("authToken",T),localStorage.setItem("user",JSON.stringify({id:1,username:t.username,role_id:1})),N("/dashboard")}else d("API unavailable. Use demo credentials: admin/password")}}else if(g==="2fa")try{console.log("Making 2FA API call with user ID:",b,"token:",t.twofa_code);const T=await(await fetch("http://localhost:5000/api/auth/login-2fa",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:b,token:t.twofa_code})})).json();if(console.log("2FA API response:",T),T.success){const{access_token:L,user:V}=T.data;localStorage.setItem("access_token",L),localStorage.setItem("authToken",L),localStorage.setItem("user",JSON.stringify(V)),console.log("2FA verification successful, navigating to dashboard"),N("/dashboard")}else{const L=T.message||"Invalid 2FA code";console.error("2FA verification failed:",L),d(L),e({...t,twofa_code:""})}}catch{if(console.warn("API not available, using demo 2FA"),t.twofa_code==="123456"){const T="demo-token-2fa-"+Date.now();localStorage.setItem("access_token",T),localStorage.setItem("authToken",T),localStorage.setItem("user",JSON.stringify({id:1,username:t.username,role_id:1,has_2fa:!0})),N("/dashboard")}else d("API unavailable. Demo 2FA code: 123456"),e({...t,twofa_code:""})}}catch(D){console.error("Login error:",D),d("An error occurred. Please try again.")}finally{a(!1)}},_=k=>{const{name:D,value:T}=k.target;e({...t,[D]:T}),d("")},R=()=>{y("credentials"),m(!1),w(null),e({...t,twofa_code:""}),d("")};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-purple-800 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-white rounded-full flex items-center justify-center shadow-lg",children:l.jsx(qn,{className:"h-10 w-10 text-purple-600"})}),l.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Welcome Back"}),l.jsx("p",{className:"mt-2 text-sm text-purple-100",children:g==="credentials"?"Sign in to your Ads Reporter account":"Enter your 2FA code to complete login"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[u&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg text-sm",children:u}),l.jsxs("form",{onSubmit:j,className:"space-y-6",children:[g==="credentials"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),l.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your username"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:t.password,onChange:_,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:n?l.jsx(yu,{className:"h-5 w-5"}):l.jsx(ga,{className:"h-5 w-5"})})]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"mx-auto h-12 w-12 bg-green-100 rounded-full flex items-center justify-center mb-2",children:l.jsx(kw,{className:"h-8 w-8 text-green-600"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Please enter the 6-digit code from your authenticator app"})]}),l.jsx("label",{htmlFor:"twofa_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"2FA Code"}),l.jsx("input",{id:"twofa_code",name:"twofa_code",type:"text",required:!0,maxLength:"6",value:t.twofa_code,onChange:k=>{const D=k.target.value.replace(/\D/g,"").substring(0,6);e({...t,twofa_code:D}),d("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"000000"}),l.jsx("button",{type:"button",onClick:R,className:"mt-3 text-sm text-purple-600 hover:text-purple-800",children:"← Back to login"})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:o?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):g==="credentials"?"Sign In":"Verify & Continue"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-xs text-gray-500",children:"Ads Reporter © 2025 - Secure Login System"})})]})]})})},er="http://localhost:5000/api",zg=({isOpen:t,onClose:e,title:n,children:r,size:o="md"})=>{if(!t)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:`relative bg-white shadow-xl rounded-lg w-full ${a[o]}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"p-6",children:r})]})})},Mw=({isOpen:t,onClose:e,qrCode:n,secret:r,message:o})=>l.jsx(zg,{isOpen:t,onClose:e,title:"Setup Two-Factor Authentication",children:l.jsxs("div",{className:"text-center",children:[n&&l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"inline-block p-4 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:l.jsx("img",{src:n,alt:"QR Code",className:"mx-auto"})}),l.jsx("p",{className:"text-sm text-gray-600 mt-4",children:o})]}),r&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Secret Key (save this securely):"}),l.jsx("div",{className:"bg-white border rounded-md p-3",children:l.jsx("code",{className:"text-sm font-mono text-gray-800 break-all",children:r})})]}),l.jsx("button",{onClick:e,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Got it!"})]})}),Dw=({isOpen:t,onClose:e,user:n,roles:r,onSubmit:o,isLoading:a})=>{const[u,d]=S.useState({username:"",password:"",confirm_password:"",role_id:"",enable_2fa:!1}),[h,m]=S.useState(!1),[g,y]=S.useState({});S.useEffect(()=>{d(n?{username:n.username||"",password:"",confirm_password:"",role_id:n.role_id||"",enable_2fa:n.is_2fa_enabled||!1}:{username:"",password:"",confirm_password:"",role_id:"",enable_2fa:!1}),y({})},[n,t]);const b=w=>{w.preventDefault(),y({});const N={};if(u.username.trim()||(N.username="Username is required"),!n&&!u.password&&(N.password="Password is required"),u.password&&u.password.length<6&&(N.password="Password must be at least 6 characters"),u.password!==u.confirm_password&&(N.confirm_password="Passwords do not match"),u.role_id||(N.role_id="Role is required"),Object.keys(N).length>0){y(N);return}o(u)};return l.jsx(zg,{isOpen:t,onClose:e,title:n?"Edit User":"Create New User",size:"lg",children:l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),l.jsx("input",{type:"text",value:u.username,onChange:w=>d({...u,username:w.target.value}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.username?"border-red-500":"border-gray-300"}`,placeholder:"Enter username"}),g.username&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.username})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),l.jsxs("select",{value:u.role_id,onChange:w=>d({...u,role_id:w.target.value}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.role_id?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a role"}),r.map(w=>l.jsx("option",{value:w.id,children:w.display_name||w.name},w.id))]}),g.role_id&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.role_id})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n?"New Password (leave empty to keep current)":"Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:h?"text":"password",value:u.password,onChange:w=>d({...u,password:w.target.value}),className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.password?"border-red-500":"border-gray-300"}`,placeholder:"Enter password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!h),children:h?l.jsx(yu,{className:"h-4 w-4 text-gray-400"}):l.jsx(ga,{className:"h-4 w-4 text-gray-400"})})]}),g.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.password})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",!n&&"*"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:h?"text":"password",value:u.confirm_password,onChange:w=>d({...u,confirm_password:w.target.value}),className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.confirm_password?"border-red-500":"border-gray-300"}`,placeholder:"Confirm password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!h),children:h?l.jsx(yu,{className:"h-4 w-4 text-gray-400"}):l.jsx(ga,{className:"h-4 w-4 text-gray-400"})})]}),g.confirm_password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.confirm_password})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg",children:[l.jsx("input",{type:"checkbox",id:"enable_2fa",checked:u.enable_2fa,onChange:w=>d({...u,enable_2fa:w.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"enable_2fa",className:"text-sm font-medium text-gray-900",children:"Enable Two-Factor Authentication (Google Authenticator)"}),l.jsx(ji,{className:"h-4 w-4 text-blue-500"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:a?l.jsxs(l.Fragment,{children:[l.jsx(Fg,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Updating...":"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ig,{className:"w-4 h-4 mr-2"}),n?"Update User":"Create User"]})})]})]})})},Aw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[o,a]=S.useState(!0),[u,d]=S.useState(""),[h,m]=S.useState([]),[g,y]=S.useState(!1),[b,w]=S.useState(!1),[N,j]=S.useState(null),[_,R]=S.useState({}),[k,D]=S.useState(!1),[T,L]=S.useState({type:"",content:""}),V=()=>{const F=localStorage.getItem("access_token")||localStorage.getItem("authToken");return console.log("🔍 Debug Auth Header:",{access_token:localStorage.getItem("access_token"),authToken:localStorage.getItem("authToken"),finalToken:F,hasToken:!!F}),F?{Authorization:`Bearer ${F}`}:{}},z=async()=>{try{a(!0);const F=V();console.log("🚀 Making API request to:",`${er}/user-management`),console.log("📜 Headers:",F);const X=await fetch(`${er}/user-management`,{headers:F});if(console.log("📊 Response status:",X.status),!X.ok)throw X.status===403&&L({type:"error",content:"Authentication required. Please login first."}),new Error(`HTTP error! status: ${X.status}`);const ne=await X.json();ne.success&&(e(ne.data.users||[]),r(ne.data.roles||[]),m(ne.data.users||[]))}catch(F){console.error("Error fetching users:",F),L({type:"error",content:"Failed to load users"})}finally{a(!1)}},q=async F=>{try{D(!0);const ne=await(await fetch(`${er}/user-management`,{method:"POST",headers:{"Content-Type":"application/json",...V()},body:JSON.stringify(F)})).json();ne.success?(L({type:"success",content:"User created successfully!"}),y(!1),F.enable_2fa&&ne.data.twoFA&&(R(ne.data.twoFA),w(!0)),await z()):L({type:"error",content:ne.message||"Failed to create user"})}catch(X){console.error("Error creating user:",X),L({type:"error",content:"Failed to create user"})}finally{D(!1)}},Y=async F=>{try{D(!0);const ne=await(await fetch(`${er}/user-management/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...V()},body:JSON.stringify(F)})).json();ne.success?(L({type:"success",content:"User updated successfully!"}),y(!1),j(null),await z()):L({type:"error",content:ne.message||"Failed to update user"})}catch(X){console.error("Error updating user:",X),L({type:"error",content:"Failed to update user"})}finally{D(!1)}},se=async F=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const ne=await(await fetch(`${er}/user-management/${F}`,{method:"DELETE",headers:V()})).json();ne.success?(L({type:"success",content:"User deleted successfully!"}),await z()):L({type:"error",content:ne.message||"Failed to delete user"})}catch(X){console.error("Error deleting user:",X),L({type:"error",content:"Failed to delete user"})}},re=async F=>{try{const ne=await(await fetch(`${er}/user-management/${F}/generate-2fa`,{method:"POST",headers:V()})).json();ne.success?(R(ne.data),w(!0)):L({type:"error",content:ne.message||"Failed to generate 2FA QR code"})}catch(X){console.error("Error generating 2FA:",X),L({type:"error",content:"Failed to generate 2FA QR code"})}};return S.useEffect(()=>{const F=t.filter(X=>X.username.toLowerCase().includes(u.toLowerCase())||X.role_name.toLowerCase().includes(u.toLowerCase()));m(F)},[u,t]),S.useEffect(()=>{z()},[]),S.useEffect(()=>{if(T.content){const F=setTimeout(()=>{L({type:"",content:""})},5e3);return()=>clearTimeout(F)}},[T]),o?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Fg,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})})}):l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[l.jsx(ks,{className:"h-7 w-7 mr-3 text-blue-600"}),"User Management"]}),l.jsx("p",{className:"mt-1 text-gray-600",children:"Manage users and their authentication settings"})]}),l.jsxs("button",{onClick:()=>{j(null),y(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(At,{className:"w-4 h-4 mr-2"}),"Create User"]})]})}),T.content&&l.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center ${T.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[T.type==="success"?l.jsx(Fa,{className:"h-5 w-5 mr-2"}):l.jsx(Et,{className:"h-5 w-5 mr-2"}),T.content]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:u,onChange:F=>d(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),l.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"2FA"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-white",children:F.username[0].toUpperCase()})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.username}),l.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",F.id]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:F.role_name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.is_active?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F.is_2fa_enabled?l.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:[l.jsx(ji,{className:"w-3 h-3 mr-1"}),"Enabled"]}):l.jsx("span",{className:"text-sm text-gray-500",children:"Disabled"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.last_login?new Date(F.last_login).toLocaleDateString():"Never"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(F.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>re(F.id),className:"text-green-600 hover:text-green-900 p-1",title:"Generate 2FA QR Code",children:l.jsx(Nw,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>{j(F),y(!0)},className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit User",children:l.jsx(Di,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>se(F.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete User",children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},F.id))})]}),h.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ks,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u?"No users found":"No users yet"}),l.jsx("p",{className:"text-gray-600 mb-4",children:u?"Try adjusting your search terms":"Get started by creating your first user"}),!u&&l.jsxs("button",{onClick:()=>{j(null),y(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(At,{className:"w-4 h-4 mr-2"}),"Create User"]})]})]}),l.jsx(Dw,{isOpen:g,onClose:()=>{y(!1),j(null)},user:N,roles:n,onSubmit:N?Y:q,isLoading:k}),l.jsx(Mw,{isOpen:b,onClose:()=>{w(!1),R({})},qrCode:_.qrCode,secret:_.secret,message:_.message})]})},Ow=()=>{const t=[{id:1,name:"Total Users",value:"12",icon:ks,color:"bg-blue-500"},{id:2,name:"Active Campaigns",value:"8",icon:qn,color:"bg-green-500"},{id:3,name:"Reports Generated",value:"24",icon:_i,color:"bg-purple-500"},{id:4,name:"Analytics Views",value:"156",icon:jn,color:"bg-orange-500"}];return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Ads Reporting Software"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor your advertising campaigns and manage your reporting system."})]}),l.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:t.map(e=>{const n=e.icon;return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex-shrink-0 ${e.color} rounded-md p-3`,children:l.jsx(n,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"ml-5 w-0 flex-1",children:l.jsxs("dl",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),l.jsx("dd",{className:"text-3xl font-bold text-gray-900",children:e.value})]})})]})},e.id)})}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"New user registration"}),l.jsx("span",{className:"text-sm text-gray-400",children:"2 hours ago"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Campaign report generated"}),l.jsx("span",{className:"text-sm text-gray-400",children:"5 hours ago"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Analytics data updated"}),l.jsx("span",{className:"text-sm text-gray-400",children:"1 day ago"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{className:"w-full btn-primary text-left",children:"Create New Campaign"}),l.jsx("button",{className:"w-full btn-secondary text-left",children:"Generate Report"}),l.jsx("button",{className:"w-full btn-secondary text-left",children:"View Analytics"})]})]})]})]})},cn={getAllRoles:async()=>{try{return(await ie.get("/permissions/roles-list")).data}catch(t){throw console.error("Error fetching roles:",t),t}},getAllRolesWithPermissions:async()=>{try{const t=await ie.get("/permissions/roles-list"),e=t.data.data||t.data,n=await Promise.all(e.map(async r=>{try{const o=await ie.get(`/permissions/role/${r.id}/permissions`),a=o.data.data||o.data.permissions||[];return{...r,permissions:a}}catch(o){return console.error(`Error fetching permissions for role ${r.id}:`,o),{...r,permissions:[]}}}));return{...t.data,data:n}}catch(t){throw console.error("Error fetching roles with permissions:",t),t}},getAllModules:async()=>{try{return(await ie.get("/permissions/modules")).data}catch(t){throw console.error("Error fetching modules:",t),t}},getModulesWithPermissions:async()=>{try{return(await ie.get("/permissions/modules-with-permissions")).data}catch(t){throw console.error("Error fetching modules with permissions:",t),t}},getAllPermissions:async()=>{try{return(await ie.get("/permissions")).data}catch(t){throw console.error("Error fetching permissions:",t),t}},getRolePermissions:async t=>{try{return(await ie.get(`/permissions/role/${t}/permissions`)).data}catch(e){throw console.error("Error fetching role permissions:",e),e}},getUserRoles:async t=>{try{return(await ie.get(`/permissions/user/${t}/roles`)).data}catch(e){throw console.error("Error fetching user roles:",e),e}},getUserPermissions:async t=>{try{return(await ie.get(`/permissions/user/${t}`)).data}catch(e){throw console.error("Error fetching user permissions:",e),e}},checkUserPermission:async(t,e)=>{try{return(await ie.post("/permissions/check",{user_id:t,permission_key:e})).data}catch(n){throw console.error("Error checking user permission:",n),n}},createRole:async t=>{try{return(await ie.post("/permissions/role",t)).data}catch(e){throw console.error("Error creating role:",e),e}},createRoleWithPermissions:async(t,e,n=[])=>{try{const r=await ie.post("/permissions/role",{name:t,description:e}),o=r.data.data?.id||r.data.data?.roleId;return n.length>0&&o&&await ie.post("/permissions/role/assign",{roleId:o,permissions:n}),r.data}catch(r){throw console.error("Error creating role with permissions:",r),r}},assignPermissionsToRole:async(t,e)=>{try{return(await ie.post("/permissions/role/assign",{roleId:t,permissions:e})).data}catch(n){throw console.error("Error assigning permissions to role:",n),n}},updateRole:async(t,e)=>{try{return(await ie.put(`/permissions/roles/${t}`,e)).data}catch(n){throw console.error("Error updating role:",n),n}},updateRoleWithPermissions:async(t,e,n,r=[])=>{try{const o=await ie.put(`/permissions/roles/${t}`,{name:e,description:n});return r.length>=0&&await ie.post("/permissions/role/assign",{roleId:t,permissions:r}),o.data}catch(o){throw console.error("Error updating role with permissions:",o),o}},deleteRole:async t=>{try{return(await ie.delete(`/permissions/role/${t}`)).data}catch(e){throw console.error("Error deleting role:",e),e}},assignPermissionToRole:async(t,e)=>{try{return(await ie.post("/permissions/grant-role-permission",{role_id:t,permission_id:e})).data}catch(n){throw console.error("Error assigning permission to role:",n),n}},revokePermissionFromRole:async(t,e)=>{try{return(await ie.delete("/permissions/revoke-role-permission",{data:{role_id:t,permission_id:e}})).data}catch(n){throw console.error("Error revoking permission from role:",n),n}},assignUserToRole:async(t,e)=>{try{return(await ie.post("/permissions/assign-role",{user_id:t,role_id:e})).data}catch(n){throw console.error("Error assigning user to role:",n),n}},removeUserFromRole:async(t,e)=>{try{return(await ie.delete("/permissions/revoke-role",{data:{user_id:t,role_id:e}})).data}catch(n){throw console.error("Error removing user from role:",n),n}},getAuditLogs:async(t={})=>{try{return(await ie.get("/permissions/audit",{params:t})).data}catch(e){throw console.error("Error fetching audit logs:",e),e}}},Lm=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[o,a]=S.useState(!0),[u,d]=S.useState(null),[h,m]=S.useState(!1),[g,y]=S.useState(!1),[b,w]=S.useState(null),[N,j]=S.useState(""),[_,R]=S.useState(""),[k,D]=S.useState({}),[T,L]=S.useState(""),[V,z]=S.useState(""),[q,Y]=S.useState({});S.useEffect(()=>{se()},[]),S.useEffect(()=>{b&&n.length>0&&g&&me(b)},[n,b,g]);const se=async()=>{try{a(!0),d(null);const[P,E]=await Promise.all([cn.getAllRolesWithPermissions(),cn.getModulesWithPermissions()]);e(P.data||P),r(E.data||E)}catch(P){console.error("Error loading data:",P),d(P.message)}finally{a(!1)}},re=async()=>{try{if(!N.trim()){alert("Please enter a role name");return}const P=[];Object.entries(k).forEach(([E,U])=>{U.forEach(A=>{P.push(A)})}),await cn.createRoleWithPermissions(N,_,P),j(""),R(""),D({}),m(!1),await se(),alert("Role created successfully!")}catch(P){console.error("Error creating role:",P),P.response?.status===409?alert("A role with this name already exists. Please choose a different name."):P.response?.status===400?alert("Invalid role data. Please check your inputs."):alert(`Error creating role: ${P.response?.data?.message||P.message}`)}},F=(P,E,U)=>{D(A=>{const H=A[P]||[];return U?{...A,[P]:[...H,E]}:{...A,[P]:H.filter(ae=>ae!==E)}})},X=(P,E,U)=>{D(A=>U?{...A,[P]:E.map(H=>H.key)}:{...A,[P]:[]})},ne=(P,E,U)=>{Y(A=>{const H=A[P]||[];return U?{...A,[P]:[...H,E]}:{...A,[P]:H.filter(ae=>ae!==E)}})},ce=(P,E,U)=>{Y(A=>U?{...A,[P]:E.map(H=>H.key)}:{...A,[P]:[]})},me=P=>{L(P.name||P.role_name||""),z(P.description||""),console.log("Populating edit form for role:",P),console.log("Role permissions:",P.permissions),console.log("Available modules:",n);const E={};P.permissions&&P.permissions.length>0&&P.permissions.forEach(U=>{const A=U.permission_key||U.key;console.log("Processing permission:",{rolePermissionKey:A,permission:U}),n.forEach(H=>{if(H.permissions&&H.permissions.length>0){const ae=H.permissions.find(xe=>xe.key===A);ae&&(console.log(`Found permission "${A}" in module "${H.name}"`),E[H.id]||(E[H.id]=[]),E[H.id].includes(ae.key)||E[H.id].push(ae.key))}})}),console.log("Final permissions by module:",E),Y(E)},ue=async()=>{try{if(!T.trim()){alert("Please enter a role name");return}const P=[];Object.entries(q).forEach(([E,U])=>{U.forEach(A=>{P.push(A)})}),await cn.updateRoleWithPermissions(b.id||b.role_id,T,V,P),L(""),z(""),Y({}),y(!1),w(null),await se(),alert("Role updated successfully!")}catch(P){console.error("Error updating role:",P),P.response?.status===409?alert("A role with this name already exists. Please choose a different name."):P.response?.status===400?alert("Invalid role data. Please check your inputs."):P.response?.status===403?alert("Cannot update this role: It is a system role."):alert(`Error updating role: ${P.response?.data?.message||P.message}`)}},G=async(P,E,U)=>{if(U){alert(`Cannot delete "${E}" because it is a system role.`);return}if(window.confirm(`Are you sure you want to delete the role "${E}"?`))try{await cn.deleteRole(P),await se(),alert("Role deleted successfully!")}catch(A){console.error("Error deleting role:",A),A.response?.status===403?alert("Cannot delete this role: It is a system role or has restrictions."):A.response?.status===400?alert("Cannot delete this role: It may be assigned to active users."):alert(`Error deleting role: ${A.response?.data?.message||A.message}`)}},te=P=>!P||P.length===0?"No permissions assigned":P.map(E=>E.permission_name||E.name||E).join(", ");return o?l.jsx("div",{className:"p-6 text-center",children:"Loading role management interface..."}):u?l.jsxs("div",{className:"p-6 text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error: ",u]}),l.jsx("button",{className:"btn-primary",onClick:se,children:"Retry"})]}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Role Management"}),l.jsx("button",{className:"btn-primary",onClick:()=>m(!0),children:"Create Role"})]}),l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permissions"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No roles found"})}):t.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.name||P.role_name}),P.is_system_role&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"System"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:P.description||"No description"}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.jsx("div",{className:"max-w-xs truncate",children:te(P.permissions)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[l.jsx("button",{className:"btn-secondary text-xs px-3 py-1",onClick:()=>{w(P),me(P),y(!0)},children:"Edit"}),l.jsx("button",{className:`text-xs px-3 py-1 ${P.is_system_role?"bg-gray-300 text-gray-500 cursor-not-allowed":"btn-danger"}`,onClick:()=>G(P.id||P.role_id,P.name||P.role_name,P.is_system_role),disabled:P.is_system_role,title:P.is_system_role?"System roles cannot be deleted":"Delete this role",children:"Delete"})]})]},P.id||P.role_id))})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Role"}),l.jsx("button",{className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",onClick:()=>m(!1),children:"×"})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name *"}),l.jsx("input",{type:"text",className:"input-field",value:N,onChange:P=>j(P.target.value),placeholder:"Enter role name"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{className:"input-field",value:_,onChange:P=>R(P.target.value),placeholder:"Enter role description",rows:"3"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-4",children:n.map(P=>{const E=k[P.id]||[],U=P.permissions?P.permissions.map(H=>H.key):[],A=U.length>0&&U.every(H=>E.includes(H));return E.length>0,l.jsxs("div",{className:"mb-6 last:mb-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b",children:[l.jsx("h4",{className:"font-medium text-gray-900 text-base",children:P.name}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:[E.length," of ",U.length," selected"]}),l.jsx("button",{type:"button",className:`text-xs px-3 py-1 rounded border transition-colors ${A?"bg-red-50 text-red-600 border-red-200 hover:bg-red-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,onClick:()=>X(P.id,P.permissions,!A),children:A?"Deselect All":"Select All"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:P.permissions&&P.permissions.map(H=>l.jsxs("label",{className:"flex items-start space-x-3 p-2 hover:bg-gray-50 rounded",children:[l.jsx("input",{type:"checkbox",className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:k[P.id]?.includes(H.key)||!1,onChange:ae=>F(P.id,H.key,ae.target.checked)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:H.name}),H.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H.description})]})]},`${P.id}-${H.key}`))})]},P.id)})})]})]}),l.jsxs("div",{className:"flex items-center justify-end p-4 border-t space-x-2",children:[l.jsx("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Cancel"}),l.jsx("button",{className:"btn-primary",onClick:re,children:"Create Role"})]})]})}),g&&b&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit Role: ",b.name||b.role_name,b.is_system_role&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"System Role"})]}),l.jsx("button",{className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",onClick:()=>{y(!1),w(null),L(""),z(""),Y({})},children:"×"})]}),l.jsxs("div",{className:"p-6",children:[b.is_system_role&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-4",children:l.jsxs("p",{className:"text-blue-800 text-sm",children:[l.jsx("strong",{children:"System Role:"})," This role cannot be modified as it is required for system functionality. You can view the role details but cannot make changes."]})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name *"}),l.jsx("input",{type:"text",className:`input-field ${b.is_system_role?"bg-gray-100 cursor-not-allowed":""}`,value:T,onChange:P=>L(P.target.value),placeholder:"Enter role name",disabled:b.is_system_role,readOnly:b.is_system_role})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{className:`input-field ${b.is_system_role?"bg-gray-100 cursor-not-allowed":""}`,value:V,onChange:P=>z(P.target.value),placeholder:"Enter role description",rows:"3",disabled:b.is_system_role,readOnly:b.is_system_role})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-4",children:n.map(P=>{const E=q[P.id]||[],U=P.permissions?P.permissions.map(H=>H.key):[],A=U.length>0&&U.every(H=>E.includes(H));return E.length>0,l.jsxs("div",{className:"mb-6 last:mb-0",children:[l.jsxs("div",{className:`flex items-center justify-between mb-3 pb-2 border-b ${b.is_system_role?"opacity-50":""}`,children:[l.jsx("h4",{className:"font-medium text-gray-900 text-base",children:P.name}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:[E.length," of ",U.length," selected"]}),!b.is_system_role&&l.jsx("button",{type:"button",className:`text-xs px-3 py-1 rounded border transition-colors ${A?"bg-red-50 text-red-600 border-red-200 hover:bg-red-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,onClick:()=>ce(P.id,P.permissions,!A),children:A?"Deselect All":"Select All"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:P.permissions&&P.permissions.map(H=>l.jsxs("label",{className:`flex items-start space-x-3 p-2 hover:bg-gray-50 rounded ${b.is_system_role?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx("input",{type:"checkbox",className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:q[P.id]?.includes(H.key)||!1,onChange:ae=>ne(P.id,H.key,ae.target.checked),disabled:b.is_system_role}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:H.name}),H.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H.description})]})]},`edit-${P.id}-${H.key}`))})]},P.id)})})]})]}),l.jsxs("div",{className:"flex items-center justify-end p-4 border-t space-x-2",children:[l.jsx("button",{className:"btn-secondary",onClick:()=>{y(!1),w(null),L(""),z(""),Y({})},children:"Cancel"}),!b.is_system_role&&l.jsx("button",{className:"btn-primary",onClick:ue,children:"Update Role"})]})]})})]})},Bg={getAll:async(t={})=>(await ie.get("/users",{params:t})).data,getById:async t=>(await ie.get(`/users/${t}`)).data,getForDropdown:async()=>{const t=await ie.get("/users",{params:{limit:100,is_active:!0}});return t.data.success&&t.data.data?.users?{success:!0,data:t.data.data.users.map(e=>({id:e.id,name:e.username,username:e.username,is_active:e.is_active}))}:t.data},create:async t=>(await ie.post("/users",t)).data,update:async(t,e)=>(await ie.put(`/users/${t}`,e)).data,delete:async t=>(await ie.delete(`/users/${t}`)).data,toggleStatus:async t=>(await ie.patch(`/users/${t}/toggle-status`)).data,getRoles:async()=>{try{const t=await ie.get("/permissions/roles-list");return t.data.success&&t.data.data?{success:!0,data:{roles:t.data.data.map(e=>({id:e.id,role_name:e.name,name:e.name,description:e.description,is_system_role:e.is_system_role}))}}:t.data}catch(t){return console.error("Error fetching roles from permissions API:",t),(await ie.get("/users/roles")).data}},checkUsername:async t=>(await ie.get(`/users/check/username/${t}`)).data},Lw=({user:t,onManageRoles:e,loading:n})=>l.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium text-sm",children:t.username?.[0]?.toUpperCase()||"U"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:"font-medium text-gray-900",children:t.username}),l.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})]}),l.jsxs("button",{onClick:()=>e(t),disabled:n,className:"btn-secondary text-sm",children:[l.jsx(ji,{className:"h-4 w-4 mr-1"}),"Manage Roles"]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Current Roles:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.roles?.length>0?t.roles.map(r=>l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[r.name," ",l.jsxs("span",{className:"ml-1 text-xs",children:["L",r.level]})]},r.id)):l.jsx("span",{className:"text-xs text-gray-400",children:"No roles assigned"})})]})]}),Fw=({user:t,isOpen:e,onClose:n,onSave:r,allRoles:o,loading:a})=>{const[u,d]=S.useState([]),[h,m]=S.useState([]),[g,y]=S.useState(!1);S.useEffect(()=>{t&&e&&b()},[t,e]);const b=async()=>{if(t?.id)try{y(!0);const _=(await cn.getUserRoles(t.id)).data||[];m(_),d(_.map(R=>R.id))}catch(j){console.error("Error fetching user roles:",j)}finally{y(!1)}},w=j=>{d(_=>_.includes(j)?_.filter(R=>R!==j):[..._,j])},N=async()=>{if(t?.id)try{y(!0);const j=h.map(k=>k.id),_=u.filter(k=>!j.includes(k)),R=j.filter(k=>!u.includes(k));for(const k of _)await cn.assignUserToRole(t.id,k);for(const k of R)await cn.removeUserFromRole(t.id,k);r()}catch(j){console.error("Error updating user roles:",j)}finally{y(!1)}};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Manage Roles for ",t?.username]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Nn,{className:"h-5 w-5"})})]}),g?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(bu,{className:"h-6 w-6 animate-spin text-gray-400"})}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Select roles for this user:"}),o.map(j=>l.jsxs("label",{className:"flex items-center p-3 border rounded-md hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.includes(j.id),onChange:()=>w(j.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900",children:j.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Level ",j.level||1]}),j.description&&l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:j.description})]})]},j.id))]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{onClick:N,disabled:g,className:"btn-primary",children:[g&&l.jsx(bu,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})}):null},Iw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[o,a]=S.useState(!0),[u,d]=S.useState(""),[h,m]=S.useState(""),[g,y]=S.useState(null),[b,w]=S.useState(!1);S.useEffect(()=>{N()},[]);const N=async()=>{try{a(!0),d("");const D=(await cn.getAllRoles()).data||[];r(D);const T=await Bg.getAll({limit:100});let L=[];T.success&&T.data?.users?L=T.data.users:(console.warn("Failed to load users, using default data"),L=[{id:1,username:"admin"},{id:2,username:"manager"},{id:3,username:"user1"}]);const V=await Promise.all(L.map(async z=>{try{const q=await cn.getUserRoles(z.id);return{...z,roles:q.data||[]}}catch(q){return console.warn(`Error loading roles for user ${z.id}:`,q),{...z,roles:[]}}}));e(V)}catch(k){d(k.response?.data?.message||"Failed to load data"),console.error("Error loading data:",k)}finally{a(!1)}},j=S.useMemo(()=>t.filter(k=>k.username.toLowerCase().includes(h.toLowerCase())),[t,h]),_=k=>{y(k),w(!0)},R=()=>{w(!1),y(null),N()};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(vu,{className:"h-7 w-7 text-primary-500 mr-2"}),l.jsx("h1",{className:"text-2xl font-bold",children:"User Role Management"})]})}),u&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:u}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Users & Their Roles"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:h,onChange:k=>m(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[j.length," users"]})]})]}),o?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(bu,{className:"h-8 w-8 animate-spin text-gray-400"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading users..."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.length===0?l.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:h?"No users found matching your search.":"No users available."}):j.map(k=>l.jsx(Lw,{user:k,onManageRoles:_,loading:o},k.id))})]}),l.jsx(Fw,{user:g,isOpen:b,onClose:()=>w(!1),onSave:R,allRoles:n,loading:o})]})},zw=({active:t,onClick:e,icon:n,children:r})=>l.jsxs("button",{onClick:e,className:`flex items-center px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-primary-500 text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[l.jsx(n,{className:"h-4 w-4 mr-2"}),r]}),Bw=()=>{const[t,e]=S.useState("roles"),n=[{id:"roles",label:"Role Management",icon:ji},{id:"user-roles",label:"User Roles",icon:ks}],r=()=>{switch(t){case"roles":return l.jsx(Lm,{});case"user-roles":return l.jsx(Iw,{});default:return l.jsx(Lm,{})}};return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ji,{className:"h-8 w-8 text-primary-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Role & Permission Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage roles, permissions, and user access"})]})]})}),l.jsx("div",{className:"flex space-x-2 mt-4",children:n.map(o=>l.jsx(zw,{active:t===o.id,onClick:()=>e(o.id),icon:o.icon,children:o.label},o.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:r()})]})},qo={getAll:async(t={})=>{try{const e=Object.entries(t).filter(([r,o])=>o!=null&&o!=="").reduce((r,[o,a])=>({...r,[o]:a}),{});console.log("API getAll params:",e);const n=await ie.get("/campaign-types",{params:e});return console.log("API getAll response:",n.data),n.data}catch(e){throw console.error("API getAll error:",e.response?.data||e.message),e}},getById:async t=>{try{const e=await ie.get(`/campaign-types/${t}`);return console.log("API getById response:",e.data),e.data}catch(e){throw console.error("API getById error:",e.response?.data||e.message),e}},create:async t=>{try{console.log("API create data:",t);const e=await ie.post("/campaign-types",t);return console.log("API create response:",e.data),e.data}catch(e){throw console.error("API create error:",e.response?.data||e.message),e}},update:async(t,e)=>{try{console.log("API update id:",t,"data:",e);const n=await ie.put(`/campaign-types/${t}`,e);return console.log("API update response:",n.data),n.data}catch(n){throw console.error("API update error:",n.response?.data||n.message),n}},delete:async t=>{try{console.log("API delete id:",t);const e=await ie.delete(`/campaign-types/${t}`);return console.log("API delete response:",e.data),e.data}catch(e){throw console.error("API delete error:",e.response?.data||e.message),e}}},Uw=({isOpen:t,onClose:e,onSubmit:n,editData:r=null,isLoading:o=!1})=>{const[a,u]=S.useState({type_name:"",description:"",is_active:!0}),[d,h]=S.useState({});S.useEffect(()=>{u(r?{type_name:r.type_name||"",description:r.description||"",is_active:r.is_active!==void 0?r.is_active:!0}:{type_name:"",description:"",is_active:!0}),h({})},[r,t]);const m=()=>{const b={};return a.type_name.trim()?a.type_name.length>100&&(b.type_name="Campaign type name must be less than 100 characters"):b.type_name="Campaign type name is required",a.description&&a.description.length>1e3&&(b.description="Description must be less than 1000 characters"),h(b),Object.keys(b).length===0},g=b=>{const{name:w,value:N,type:j,checked:_}=b.target;u(R=>({...R,[w]:j==="checkbox"?_:N})),d[w]&&h(R=>({...R,[w]:""}))},y=async b=>{if(b.preventDefault(),!!m())try{await n(a)}catch(w){console.error("Form submission error:",w)}};return t?l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?"Edit Campaign Type":"Create Campaign Type"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"type_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Campaign Type Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"type_name",name:"type_name",value:a.type_name,onChange:g,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${d.type_name?"border-red-500":""}`,placeholder:"Enter campaign type name",maxLength:100,disabled:o}),d.type_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.type_name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:g,rows:3,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${d.description?"border-red-500":""}`,placeholder:"Enter description (optional)",maxLength:1e3,disabled:o}),d.description&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[a.description.length,"/1000 characters"]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:a.is_active,onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:o}),l.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:o,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:o,children:o?"Saving...":r?"Update":"Create"})]})]})]})}):null},$w=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,a]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState("all"),[g,y]=S.useState("created_at"),[b,w]=S.useState("desc"),[N,j]=S.useState(1),[_]=S.useState(10),[R,k]=S.useState(!1),[D,T]=S.useState(null),[L,V]=S.useState(!1),[z,q]=S.useState(!1),[Y,se]=S.useState(null),[re,F]=S.useState(!1),X=async()=>{try{r(!0),a(null);const A={search:u,active:h==="all"?void 0:h==="active",sort:g,order:b,page:N,limit:_},H=await qo.getAll(A);H.success?e(H.data||[]):a(H.message||"Failed to fetch campaign types")}catch(A){a(A.response?.data?.message||"Failed to fetch campaign types"),console.error("Error fetching campaign types:",A)}finally{r(!1)}};S.useEffect(()=>{X()},[u,h,g,b,N]);const ne=async A=>{try{V(!0),a(null),console.log("Submitting form data:",A),console.log("Editing item:",D);let H;if(D?(console.log("Updating campaign type with ID:",D.id),H=await qo.update(D.id,A)):(console.log("Creating new campaign type"),H=await qo.create(A)),console.log("API Response:",H),H.success||H.data)k(!1),T(null),X(),console.log(D?"Campaign type updated successfully":"Campaign type created successfully");else throw new Error(H.message||"Operation failed")}catch(H){console.error("Form submission error:",H),console.error("Error response data:",H.response?.data),console.error("Error status:",H.response?.status);const ae=H.response?.data?.message||H.response?.data?.error||H.message||"Operation failed";a(ae)}finally{V(!1)}},ce=async A=>{try{F(!0);const H=await qo.delete(A);if(H.success)q(!1),se(null),X(),console.log("Campaign type deleted successfully");else throw new Error(H.message||"Delete failed")}catch(H){console.error("Delete error:",H),a(H.response?.data?.message||"Delete failed")}finally{F(!1)}},me=A=>{d(A.target.value),j(1)},ue=A=>{m(A),j(1)},G=A=>{g===A?w(b==="asc"?"desc":"asc"):(y(A),w("asc")),j(1)},te=A=>{T(A),k(!0)},P=()=>{T(null),k(!0)},E=A=>{se(A),q(!0)},U=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaign Types"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your campaign types"})]}),l.jsxs("button",{onClick:P,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Campaign Type"]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx("input",{type:"text",placeholder:"Search campaign types...",value:u,onChange:me,className:"pl-10 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2"})]}),l.jsx("div",{children:l.jsxs("select",{value:h,onChange:A=>ue(A.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active Only"}),l.jsx("option",{value:"inactive",children:"Inactive Only"})]})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:X,disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[l.jsx(Ns,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})})]})})}),o&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]})]})}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ns,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Loading campaign types..."})]}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(At,{className:"h-12 w-12 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaign types found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first campaign type."}),l.jsxs("button",{onClick:P,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Campaign Type"]})]}):l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>G("type_name"),children:["Name",g==="type_name"&&l.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),l.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>G("is_active"),children:["Status",g==="is_active"&&l.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]}),l.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>G("created_at"),children:["Created",g==="created_at"&&l.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.type_name})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"text-sm text-gray-700 max-w-xs truncate",children:A.description||"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.is_active?l.jsxs(l.Fragment,{children:[l.jsx(Fa,{className:"h-3 w-3 mr-1"}),"Active"]}):l.jsxs(l.Fragment,{children:[l.jsx(Bu,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:U(A.created_at)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>te(A),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit",children:l.jsx(Di,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>E(A),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete",children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},A.id))})]})}),l.jsx(Uw,{isOpen:R,onClose:()=>{k(!1),T(null),a(null)},onSubmit:ne,editData:D,isLoading:L}),z&&Y&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3 text-center",children:[l.jsx(Et,{className:"mx-auto h-12 w-12 text-red-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Campaign Type"}),l.jsx("div",{className:"mt-2 px-7 py-3",children:l.jsxs("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete "',Y.type_name,'"? This action cannot be undone.']})}),l.jsxs("div",{className:"flex justify-center space-x-3 mt-4",children:[l.jsx("button",{onClick:()=>{q(!1),se(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:re,children:"Cancel"}),l.jsx("button",{onClick:()=>ce(Y.id),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",disabled:re,children:re?"Deleting...":"Delete"})]})]})})})]})},tr={getAll:async(t={})=>{try{return(await ie.get("/campaign-data",{params:t})).data}catch(e){throw console.error("API getAll error:",e.response?.data||e.message),e}},getById:async t=>{try{return(await ie.get(`/campaign-data/${t}`)).data}catch(e){throw console.error("API getById error:",e.response?.data||e.message),e}},create:async t=>{try{return(await ie.post("/campaign-data",t)).data}catch(e){throw console.error("API create error:",e.response?.data||e.message),e}},update:async(t,e)=>{try{return(await ie.put(`/campaign-data/${t}`,e)).data}catch(n){throw console.error("API update error:",n.response?.data||n.message),n}},delete:async t=>{try{return(await ie.delete(`/campaign-data/${t}`)).data}catch(e){throw console.error("API delete error:",e.response?.data||e.message),e}},getCampaignsForDropdown:async()=>{try{const t=await ie.get("/campaigns",{params:{is_enabled:!0,limit:1e3}});return{success:t.data.success,data:t.data.data?.campaigns||t.data.data||[],message:t.data.message}}catch(t){throw console.error("API getCampaignsForDropdown error:",t.response?.data||t.message),t}},getCardsForDropdown:async()=>{try{return(await ie.get("/campaign-data/cards")).data}catch(t){throw console.error("API getCardsForDropdown error:",t.response?.data||t.message),t}}},Hw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,a]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState(1),[g]=S.useState(10),[y,b]=S.useState(!1),[w,N]=S.useState(null),[j,_]=S.useState(!1),[R,k]=S.useState(!1),[D,T]=S.useState(null),[L,V]=S.useState(!1),[z,q]=S.useState([]),[Y,se]=S.useState([]),[re,F]=S.useState(!1),[X,ne]=S.useState({campaign_id:"",facebook_result:"",zoho_result:"",spent:"",data_date:"",card_id:""}),ce=async()=>{try{r(!0),a(null);const Z={search:u,page:h,limit:g},ge=await tr.getAll(Z);ge.success?e(ge.data||[]):a(ge.message||"Failed to fetch campaign data")}catch(Z){a(Z.response?.data?.message||"Failed to fetch campaign data"),console.error("Error fetching campaign data:",Z)}finally{r(!1)}},me=async()=>{try{F(!0);const[Z,ge]=await Promise.all([tr.getCampaignsForDropdown(),tr.getCardsForDropdown()]);Z.success&&q(Z.data||[]),ge.success&&se(ge.data||[])}catch(Z){console.error("Error fetching dropdown data:",Z),a("Failed to load dropdown data")}finally{F(!1)}};S.useEffect(()=>{ce(),me()},[u,h]);const ue=Z=>{const{name:ge,value:Re}=Z.target;ne(pe=>({...pe,[ge]:Re}))},G=async Z=>{Z.preventDefault();try{if(_(!0),a(null),!X.campaign_id||!X.card_id||!X.data_date){a("Campaign, Card, and Date are required fields");return}const ge={campaign_id:parseInt(X.campaign_id),facebook_result:parseInt(X.facebook_result)||0,zoho_result:parseInt(X.zoho_result)||0,spent:parseFloat(X.spent)||0,data_date:X.data_date,card_id:parseInt(X.card_id)};let Re;if(w?Re=await tr.update(w.id,ge):Re=await tr.create(ge),Re.success||Re.data)b(!1),N(null),ne({campaign_id:"",facebook_result:"",zoho_result:"",spent:"",data_date:"",card_id:""}),ce();else throw new Error(Re.message||"Operation failed")}catch(ge){console.error("Form submission error:",ge);const Re=ge.response?.data?.message||ge.response?.data?.error||ge.message||"Operation failed";a(Re)}finally{_(!1)}},te=async Z=>{try{V(!0);const ge=await tr.delete(Z);if(ge.success)k(!1),T(null),ce();else throw new Error(ge.message||"Delete failed")}catch(ge){console.error("Delete error:",ge),a(ge.response?.data?.message||"Delete failed")}finally{V(!1)}},P=Z=>{d(Z.target.value),m(1)},E=Z=>{a(null),N(Z),ne({campaign_id:Z.campaign_id?.toString()||"",facebook_result:Z.facebook_result?.toString()||"",zoho_result:Z.zoho_result?.toString()||"",spent:Z.spent?.toString()||"",data_date:Z.data_date?Z.data_date.split("T")[0]:"",card_id:Z.card_id?.toString()||""}),me(),b(!0)},U=()=>{a(null),N(null),ne({campaign_id:"",facebook_result:"",zoho_result:"",spent:"",data_date:"",card_id:""}),me(),b(!0)},A=Z=>{T(Z),k(!0)},H=Z=>Z?new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",ae=Z=>Z?`$${parseFloat(Z).toFixed(2)}`:"$0.00",xe=Z=>{const ge=z.find(Re=>Re.id===Z);return ge?ge.name:"-"},Ce=Z=>{const ge=Y.find(Re=>Re.id===Z);return ge?ge.card_name:"-"};return l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaign Data"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your campaign performance data"})]}),l.jsxs("button",{onClick:U,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Campaign Data"]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx("input",{type:"text",placeholder:"Search campaign data...",value:u,onChange:P,className:"pl-10 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:ce,disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[l.jsx(Ns,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})})]})})}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ns,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Loading campaign data..."})]}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(or,{className:"h-12 w-12 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaign data found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first campaign data entry."}),l.jsxs("button",{onClick:U,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Campaign Data"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facebook Result"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zoho Result"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spent"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Card"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(Z=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:Z.campaign_name||xe(Z.campaign_id)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:Z.facebook_result||0})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:Z.zoho_result||0})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-green-600",children:ae(Z.spent)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:H(Z.data_date)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:Z.card_display_name||Z.card_name||Ce(Z.card_id)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>E(Z),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit",children:l.jsx(Di,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>A(Z),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete",children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},Z.id))})]})})}),y&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border max-w-md shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 text-center mb-4",children:w?"Edit Campaign Data":"Add Campaign Data"}),o&&y&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-4 w-4 text-red-400"}),l.jsx("div",{className:"ml-2",children:l.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),l.jsxs("form",{onSubmit:G,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"campaign_id",className:"block text-sm font-medium text-gray-700",children:"Campaign *"}),l.jsxs("select",{id:"campaign_id",name:"campaign_id",value:X.campaign_id,onChange:ue,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3",children:[l.jsx("option",{value:"",children:"Select Campaign"}),z.map(Z=>l.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"facebook_result",className:"block text-sm font-medium text-gray-700",children:"Facebook Result"}),l.jsx("input",{type:"number",id:"facebook_result",name:"facebook_result",value:X.facebook_result,onChange:ue,min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"zoho_result",className:"block text-sm font-medium text-gray-700",children:"Zoho Result"}),l.jsx("input",{type:"number",id:"zoho_result",name:"zoho_result",value:X.zoho_result,onChange:ue,min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"spent",className:"block text-sm font-medium text-gray-700",children:"Spent ($)"}),l.jsx("input",{type:"number",step:"0.01",id:"spent",name:"spent",value:X.spent,onChange:ue,min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"data_date",className:"block text-sm font-medium text-gray-700",children:"Date *"}),l.jsx("input",{type:"date",id:"data_date",name:"data_date",value:X.data_date,onChange:ue,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"card_id",className:"block text-sm font-medium text-gray-700",children:"Card *"}),l.jsxs("select",{id:"card_id",name:"card_id",value:X.card_id,onChange:ue,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3",children:[l.jsx("option",{value:"",children:"Select Card"}),Y.map(Z=>l.jsx("option",{value:Z.id,children:Z.card_name},Z.id))]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{b(!1),N(null),a(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:j,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:j||re,children:j?"Saving...":w?"Update":"Create"})]})]})]})})}),R&&D&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3 text-center",children:[l.jsx(Et,{className:"mx-auto h-12 w-12 text-red-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Campaign Data"}),l.jsx("div",{className:"mt-2 px-7 py-3",children:l.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this campaign data entry? This action cannot be undone."})}),l.jsxs("div",{className:"flex justify-center space-x-3 mt-4",children:[l.jsx("button",{onClick:()=>{k(!1),T(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:L,children:"Cancel"}),l.jsx("button",{onClick:()=>te(D.id),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",disabled:L,children:L?"Deleting...":"Delete"})]})]})})})]})},bs={getCampaigns:async(t={})=>{const n=(await ln.get("/campaigns",{params:t})).data;return{success:n.success,message:n.message,data:n.data?.campaigns||n.data||[]}},getCampaign:async t=>(await ln.get(`/campaigns/${t}`)).data,createCampaign:async t=>(await ln.post("/campaigns",t)).data,updateCampaign:async(t,e)=>(await ln.put(`/campaigns/${t}`,e)).data,deleteCampaign:async t=>(await ln.delete(`/campaigns/${t}`)).data,getCampaignTypes:async()=>(await ln.get("/campaign-types")).data,toggleCampaignStatus:async t=>(await ln.patch(`/campaigns/${t}/toggle-status`)).data},Ww=({campaign:t=null,isOpen:e,onClose:n,onSave:r})=>{const[o,a]=S.useState({name:"",persona:"",gender:[],age:"",location:"",creatives:"image",campaign_type_id:"",brand:"",is_enabled:!0}),[u,d]=S.useState([]),[h,m]=S.useState(!1),[g,y]=S.useState(""),[b,w]=S.useState({}),N=["Young Adults (18-25)","Professionals (26-35)","Parents (30-45)","Seniors (45+)","Students","Entrepreneurs","Homemakers","Tech Enthusiasts"],j=[{id:"male",label:"Male"},{id:"female",label:"Female"},{id:"other",label:"Other"}],_=[{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"carousel",label:"Carousel"},{value:"collection",label:"Collection"}];S.useEffect(()=>{e&&(R(),a(t?{name:t.name||"",persona:t.persona||"",gender:Array.isArray(t.gender)?t.gender:t.gender?JSON.parse(t.gender):[],age:t.age||"",location:t.location||"",creatives:t.creatives||"image",campaign_type_id:t.campaign_type_id||"",brand:t.brand||"",is_enabled:t.is_enabled!==void 0?!!t.is_enabled:!0}:{name:"",persona:"",gender:[],age:"",location:"",creatives:"image",campaign_type_id:"",brand:"",is_enabled:!0}),y(""),w({}))},[e,t]);const R=async()=>{try{const z=await bs.getCampaignTypes();z.success&&d(z.data||[])}catch(z){console.error("Error loading campaign types:",z)}},k=z=>{const{name:q,value:Y,type:se,checked:re}=z.target;a(F=>({...F,[q]:se==="checkbox"?re:Y})),b[q]&&w(F=>({...F,[q]:null}))},D=(z,q)=>{a(Y=>({...Y,[z]:Y[z].includes(q)?Y[z].filter(se=>se!==q):[...Y[z],q]}))},T=z=>{const q=z.target.value;a(Y=>({...Y,location:q}))},L=()=>{const z={};return o.name.trim()||(z.name="Campaign name is required"),o.campaign_type_id||(z.campaign_type_id="Campaign type is required"),o.persona.trim()||(z.persona="Persona is required"),o.gender.length===0&&(z.gender="At least one gender must be selected"),o.location.trim()||(z.location="Location is required"),o.age&&(isNaN(o.age)||o.age<1||o.age>120)&&(z.age="Please enter a valid age (1-120)"),w(z),Object.keys(z).length===0},V=async z=>{if(z.preventDefault(),!!L()){m(!0),y("");try{const q={...o,persona:o.persona.trim(),gender:JSON.stringify(o.gender),age:o.age?parseInt(o.age):null,campaign_type_id:parseInt(o.campaign_type_id)};let Y;t?Y=await bs.updateCampaign(t.id,q):Y=await bs.createCampaign(q),Y.success?(r(Y.data),n()):y(Y.message||"Failed to save campaign")}catch(q){console.error("Error saving campaign:",q),y(q.response?.data?.message||"Failed to save campaign. Please try again.")}finally{m(!1)}}};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Campaign":"Create New Campaign"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),l.jsxs("form",{onSubmit:V,className:"p-6 space-y-6",children:[g&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:g})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name *"}),l.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:k,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.name?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Enter campaign name"}),b.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),l.jsx("input",{type:"text",id:"brand",name:"brand",value:o.brand,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter brand name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"campaign_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Type *"}),l.jsxs("select",{id:"campaign_type_id",name:"campaign_type_id",value:o.campaign_type_id,onChange:k,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.campaign_type_id?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,children:[l.jsx("option",{value:"",children:"Select Campaign Type"}),u.map(z=>l.jsx("option",{value:z.id,children:z.type_name},z.id))]}),b.campaign_type_id&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.campaign_type_id})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Age"}),l.jsx("input",{type:"number",id:"age",name:"age",value:o.age,onChange:k,min:"1",max:"120",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.age?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Enter target age"}),b.age&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.age})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"creatives",className:"block text-sm font-medium text-gray-700 mb-1",children:"Creatives"}),l.jsx("select",{id:"creatives",name:"creatives",value:o.creatives,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:_.map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"persona",className:"block text-sm font-medium text-gray-700 mb-1",children:["Persona * ",l.jsx("span",{className:"text-sm text-gray-500",children:"(separate multiple values with commas)"})]}),l.jsx("input",{type:"text",id:"persona",name:"persona",value:o.persona,onChange:k,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.persona?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Young Adults (18-25), Professionals (26-35), Parents (30-45)..."}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[l.jsx("strong",{children:"Suggested values:"})," ",N.join(", ")]}),b.persona&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.persona})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),l.jsx("div",{className:"flex space-x-6",children:j.map(z=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.gender.includes(z.id),onChange:()=>D("gender",z.id),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:z.label})]},z.id))}),b.gender&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.gender})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locations * ",l.jsx("span",{className:"text-sm text-gray-500",children:"(separate multiple locations with commas)"})]}),l.jsx("input",{type:"text",id:"location",name:"location",value:o.location,onChange:T,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.location?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Delhi, Mumbai, Bangalore, Chennai..."}),b.location&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.location})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{htmlFor:"is_enabled",className:"block text-sm font-medium text-gray-700",children:"Campaign Status"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:`text-sm ${o.is_enabled?"text-gray-500":"text-gray-900 font-medium"}`,children:"Disabled"}),l.jsx("button",{type:"button",onClick:()=>a(z=>({...z,is_enabled:!z.is_enabled})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${o.is_enabled?"bg-purple-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.is_enabled?"translate-x-6":"translate-x-1"}`})}),l.jsx("span",{className:`text-sm ${o.is_enabled?"text-purple-600 font-medium":"text-gray-500"}`,children:"Enabled"})]})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",disabled:h,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-md shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:h?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Saving..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ig,{className:"h-4 w-4"}),l.jsx("span",{children:t?"Update Campaign":"Create Campaign"})]})})]})]})]})}):null},Vw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[o,a]=S.useState(!0),[u,d]=S.useState(""),[h,m]=S.useState(""),[g,y]=S.useState(""),[b,w]=S.useState(""),[N,j]=S.useState({delete:null,toggle:null}),[_,R]=S.useState(!1),[k,D]=S.useState(null),[T,L]=S.useState(null),[V,z]=S.useState(null),[q,Y]=S.useState(null);S.useEffect(()=>{se(),re()},[]);const se=async()=>{try{a(!0),d("");const A=await bs.getCampaigns();A.success?e(A.data||[]):d(A.message||"Failed to load campaigns")}catch(A){console.error("Error loading campaigns:",A),d("Failed to load campaigns. Please try again.")}finally{a(!1)}},re=async()=>{try{const A=await bs.getCampaignTypes();A.success&&r(A.data||[])}catch(A){console.error("Error loading campaign types:",A)}},F=()=>{D(null),R(!0)},X=A=>{D(A),R(!0),Y(null)},ne=A=>{L(A),Y(null)},ce=async()=>{try{const A=await bs.deleteCampaign(T.id);A.success?(e(H=>H.filter(ae=>ae.id!==T.id)),L(null)):d(A.message||"Failed to delete campaign")}catch(A){console.error("Error deleting campaign:",A),d("Failed to delete campaign. Please try again.")}},me=async A=>{try{const H=await bs.toggleCampaignStatus(A.id);H.success?e(ae=>ae.map(xe=>xe.id===A.id?{...xe,is_enabled:!xe.is_enabled}:xe)):d(H.message||"Failed to update campaign status")}catch(H){console.error("Error toggling campaign status:",H),d("Failed to update campaign status. Please try again.")}Y(null)},ue=A=>{e(k?H=>H.map(ae=>ae.id===A.id?A:ae):H=>[A,...H])},G=A=>{z(A),Y(null)},te=t.filter(A=>{const H=A.name.toLowerCase().includes(h.toLowerCase())||A.brand&&A.brand.toLowerCase().includes(h.toLowerCase()),ae=!g||A.campaign_type_id===parseInt(g),xe=!b||b==="enabled"&&A.is_enabled||b==="disabled"&&!A.is_enabled;return H&&ae&&xe}),P=A=>{const H=n.find(ae=>ae.id===A);return H?H.type_name:"Unknown"},E=A=>{if(!A)return[];if(Array.isArray(A))return A;try{return JSON.parse(A)}catch{return[]}},U=A=>A||"N/A";return o?l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-6"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(A=>l.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},A))})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[q&&l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Y(null)}),l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaigns"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your advertising campaigns"})]}),l.jsxs("button",{onClick:F,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[l.jsx(At,{className:"h-5 w-5"}),l.jsx("span",{children:"New Campaign"})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search campaigns...",value:h,onChange:A=>m(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsx("div",{children:l.jsxs("select",{value:g,onChange:A=>y(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"",children:"All Campaign Types"}),n.map(A=>l.jsx("option",{value:A.id,children:A.type_name},A.id))]})}),l.jsx("div",{children:l.jsxs("select",{value:b,onChange:A=>w(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"enabled",children:"Enabled"}),l.jsx("option",{value:"disabled",children:"Disabled"})]})}),l.jsx("div",{children:l.jsx("button",{onClick:()=>{m(""),y(""),w("")},className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Clear Filters"})})]})}),u&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsxs("div",{className:"flex",children:[l.jsx(Pm,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm text-red-800",children:u}),l.jsx("button",{onClick:()=>d(""),className:"mt-2 text-sm text-red-600 underline hover:text-red-800",children:"Dismiss"})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:te.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(zu,{className:"h-12 w-12 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaigns found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Get started by creating your first campaign.":"Try adjusting your search or filter criteria."}),t.length===0&&l.jsx("button",{onClick:F,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Create Campaign"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Targeting"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creative"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),A.brand&&l.jsx("div",{className:"text-sm text-gray-500",children:A.brand})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"text-sm text-gray-900",children:P(A.campaign_type_id)})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"text-sm text-gray-900",children:[A.age&&l.jsxs("div",{children:["Age: ",A.age]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Gender: ",E(A.gender).join(", ")||"N/A"]}),l.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:A.location||"N/A"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:A.creatives})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.is_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.is_enabled?"Enabled":"Disabled"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(A.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"relative inline-block text-left",children:[l.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),Y(q===A.id?null:A.id)},className:"text-gray-400 hover:text-gray-600 p-1 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500","aria-expanded":q===A.id,"aria-haspopup":"true",children:l.jsx(ww,{className:"h-5 w-5"})}),q===A.id&&l.jsx("div",{className:"absolute right-0 z-50 mt-2 w-48 origin-top-right bg-white border border-gray-200 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical",children:l.jsxs("div",{className:"py-1",role:"none",children:[l.jsxs("button",{type:"button",onClick:H=>{H.stopPropagation(),G(A)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[l.jsx(ga,{className:"h-4 w-4 mr-3"}),"View Details"]}),l.jsxs("button",{type:"button",onClick:H=>{H.stopPropagation(),X(A)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[l.jsx(_w,{className:"h-4 w-4 mr-3"}),"Edit Campaign"]}),l.jsxs("button",{type:"button",onClick:H=>{H.stopPropagation(),me(A)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[l.jsx("div",{className:`h-4 w-4 mr-3 rounded-full ${A.is_enabled?"bg-red-500":"bg-green-500"}`}),A.is_enabled?"Disable":"Enable"]}),l.jsx("div",{className:"border-t border-gray-100 my-1"}),l.jsxs("button",{type:"button",onClick:H=>{H.stopPropagation(),ne(A)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 focus:outline-none focus:bg-red-50",role:"menuitem",children:[l.jsx(yr,{className:"h-4 w-4 mr-3"}),"Delete"]})]})})]})})]},A.id))})]})})}),te.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:["Showing ",te.length," of ",t.length," campaigns"]})]}),l.jsx(Ww,{campaign:k,isOpen:_,onClose:()=>{R(!1),D(null)},onSave:ue}),V&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Campaign Details"}),l.jsx("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Campaign Name"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.name})]}),V.brand&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Brand"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.brand})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Campaign Type"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:P(V.campaign_type_id)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Persona"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:U(V.persona)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Gender"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E(V.gender).join(", ")||"N/A"})]}),V.age&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Target Age"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.age})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Locations"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.location||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Creatives"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:V.creatives})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),l.jsx("p",{className:`mt-1 text-sm font-medium ${V.is_enabled?"text-green-600":"text-red-600"}`,children:V.is_enabled?"Enabled":"Disabled"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(V.created_at).toLocaleString()})]})]})]})}),T&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Pm,{className:"h-6 w-6 text-red-600 mr-3"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Campaign"})]}),l.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:['Are you sure you want to delete "',T.name,'"? This action cannot be undone.']}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:ce,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})},nr="/cards",ir={getAll:async(t={})=>{try{return(await ie.get(nr,{params:t})).data}catch(e){throw console.error("API get all cards error:",e.response?.data||e),e}},getById:async t=>{try{return(await ie.get(`${nr}/${t}`)).data}catch(e){throw console.error("API get card error:",e.response?.data||e),e}},create:async t=>{try{return(await ie.post(nr,t)).data}catch(e){throw console.error("API create card error:",e.response?.data||e),e}},update:async(t,e)=>{try{return(await ie.put(`${nr}/${t}`,e)).data}catch(n){throw console.error("API update card error:",n.response?.data||n),n}},addBalance:async(t,e,n="")=>{try{return(await ie.post(`${nr}/${t}/add-balance`,{amount:Number(e),description:n||""})).data}catch(r){throw console.error("API add balance error:",r.response?.data||r),r}},delete:async t=>{try{return(await ie.delete(`${nr}/${t}`)).data}catch(e){throw console.error("API delete card error:",e.response?.data||e),e}}},qw=({isOpen:t,onClose:e,onSubmit:n,editData:r=null,isLoading:o=!1})=>{const[a,u]=S.useState(""),[d,h]=S.useState({card_name:"",card_number_last4:"",card_type:"",current_balance:"",is_active:!0}),[m,g]=S.useState({});S.useEffect(()=>{h(r?{card_name:r.card_name||"",card_number_last4:r.card_number_last4||"",card_type:r.card_type||"",current_balance:r.current_balance||"",is_active:r.is_active!==void 0?r.is_active:!0}:{card_name:"",card_number_last4:"",card_type:"",current_balance:"",is_active:!0}),g({})},[r,t]),S.useEffect(()=>{t&&u("")},[t]);const y=()=>{const N={};return d.card_name.trim()?d.card_name.length>100&&(N.card_name="Card name must be less than 100 characters"):N.card_name="Card name is required",d.card_number_last4.trim()?/^\d{4}$/.test(d.card_number_last4)||(N.card_number_last4="Must be exactly 4 digits"):N.card_number_last4="Last 4 digits are required",d.card_type||(N.card_type="Card type is required"),d.current_balance.toString().trim()?(isNaN(parseFloat(d.current_balance))||parseFloat(d.current_balance)<0)&&(N.current_balance="Current balance must be a valid positive number"):N.current_balance="Current balance is required",g(N),Object.keys(N).length===0},b=N=>{const{name:j,value:_,type:R,checked:k}=N.target;let D=R==="checkbox"?k:_;if(j==="card_number_last4"&&(D=_.replace(/\D/g,"").slice(0,4)),j==="current_balance")if(_===""||/^\d*\.?\d*$/.test(_))D=_;else return;h(T=>({...T,[j]:D})),m[j]&&g(T=>({...T,[j]:""}))},w=async N=>{if(N.preventDefault(),!!y())try{u("");const j={...d,current_balance:parseFloat(d.current_balance)};await n(j)}catch(j){console.error("Form submission error:",j),u(j?.response?.data?.message||j.message||"An error occurred")}};return t?l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?"Edit Card":"Add New Card"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),a&&l.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:a}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"card_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Card Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"card_name",name:"card_name",value:d.card_name,onChange:b,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.card_name?"border-red-500":""}`,placeholder:"Enter card name",maxLength:100,disabled:o}),m.card_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.card_name})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"card_number_last4",className:"block text-sm font-medium text-gray-700 mb-1",children:["Last 4 Digits ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"card_number_last4",name:"card_number_last4",value:d.card_number_last4,onChange:b,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.card_number_last4?"border-red-500":""}`,placeholder:"1234",maxLength:4,disabled:o}),m.card_number_last4&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.card_number_last4})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"card_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Card Type ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"card_type",name:"card_type",value:d.card_type,onChange:b,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.card_type?"border-red-500":""}`,placeholder:"e.g., Visa, MasterCard, American Express",maxLength:50,disabled:o}),m.card_type&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.card_type})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"current_balance",className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Balance ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),l.jsx("input",{type:"text",id:"current_balance",name:"current_balance",value:d.current_balance,onChange:b,className:`mt-1 block w-full pl-7 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.current_balance?"border-red-500":""}`,placeholder:"0.00",disabled:o})]}),m.current_balance&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.current_balance})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:d.is_active,onChange:b,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:o}),l.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:o,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:o,children:o?"Saving...":r?"Update":"Create"})]})]})]})}):null},Yw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,a]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState(1),[g]=S.useState(10),[y,b]=S.useState(!1),[w,N]=S.useState(null),[j,_]=S.useState(!1),[R,k]=S.useState(!1),[D,T]=S.useState(null),[L,V]=S.useState(!1),[z,q]=S.useState(!1),[Y,se]=S.useState(null),[re,F]=S.useState(""),[X,ne]=S.useState(!1),ce=async()=>{try{r(!0),a(null);const pe={search:u,page:h,limit:g},ze=await ir.getAll(pe);ze.success?e(ze.data?.cards||[]):a(ze.message||"Failed to fetch cards")}catch(pe){a(pe.response?.data?.message||"Failed to fetch cards"),console.error("Error fetching cards:",pe)}finally{r(!1)}};S.useEffect(()=>{const pe=setTimeout(()=>{m(1),ce()},300);return()=>clearTimeout(pe)},[u]),S.useEffect(()=>{ce()},[h]),S.useEffect(()=>{ce()},[]);const me=(pe=null)=>{N(pe),b(!0)},ue=()=>{b(!1),N(null)},G=async pe=>{try{if(_(!0),w){const ze=await ir.update(w.id||w._id,pe);if(!ze.success)throw new Error(ze.message||"Update failed")}else{const ze=await ir.create(pe);if(!ze.success)throw new Error(ze.message||"Creation failed")}ue(),await ce()}catch(ze){throw console.error("Form submission error:",ze),ze}finally{_(!1)}},te=pe=>{T(pe),k(!0)},P=async()=>{if(D)try{V(!0);const pe=await ir.delete(D.id||D._id);if(!pe.success)throw new Error(pe.message||"Delete failed");k(!1),T(null),await ce()}catch(pe){console.error("Delete error:",pe),alert(pe.response?.data?.message||"Failed to delete card")}finally{V(!1)}},E=()=>{k(!1),T(null)},U=pe=>{se(pe),F(""),q(!0)},A=()=>{q(!1),se(null),F("")},H=async()=>{if(!Y||!re)return;const pe=parseFloat(re);if(isNaN(pe)||pe<=0){alert("Please enter a valid positive amount");return}try{ne(!0);const ze=await ir.addBalance(Y.id||Y._id,pe);if(!ze.success)throw new Error(ze.message||"Failed to add balance");q(!1),se(null),F(""),await ce()}catch(ze){console.error("Add balance error:",ze),alert(ze.response?.data?.message||"Failed to add balance")}finally{ne(!1)}},ae=S.useMemo(()=>u.trim()?t.filter(pe=>pe.card_name?.toLowerCase().includes(u.toLowerCase())||pe.card_number_last4?.includes(u)||pe.card_type?.toLowerCase().includes(u.toLowerCase())):t,[t,u]),xe=ae.length,Ce=Math.ceil(xe/g),Z=(h-1)*g,ge=Z+g,Re=ae.slice(Z,ge);return l.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(cr,{className:"h-7 w-7 text-blue-600"}),"Cards Management"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>ce(),disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(Ns,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]}),l.jsxs("button",{onClick:()=>me(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Card"]})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Cs,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:u,onChange:pe=>d(pe.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search cards..."})]})}),o&&l.jsx("div",{className:"mb-6 rounded-md bg-red-50 border border-red-200 p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-700",children:o})]})}),n?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((pe,ze)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})},ze))}):Re.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cards found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:u?"Try adjusting your search terms.":"Get started by adding your first card."}),!u&&l.jsxs("button",{onClick:()=>me(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Card"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Re.map(pe=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:pe.card_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["•••• •••• •••• ",pe.card_number_last4]})]}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${pe.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:pe.is_active?l.jsxs(l.Fragment,{children:[l.jsx(Fa,{className:"w-3 h-3 mr-1"})," Active"]}):l.jsxs(l.Fragment,{children:[l.jsx(Bu,{className:"w-3 h-3 mr-1"})," Inactive"]})})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Card Type"}),l.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:pe.card_type||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Balance"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(or,{className:"h-4 w-4 text-green-600 mr-1"}),l.jsx("span",{className:"text-sm font-semibold text-green-600",children:Number(pe.current_balance||0).toFixed(2)})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[l.jsx(La,{className:"h-3 w-3 mr-1"}),pe.created_at?new Date(pe.created_at).toLocaleDateString():"N/A"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>U(pe),className:"inline-flex items-center px-3 py-1.5 border border-green-300 shadow-sm text-xs font-medium rounded text-green-700 bg-green-50 hover:bg-green-100 transition-colors",children:[l.jsx(At,{className:"h-3 w-3 mr-1"}),"Add Balance"]}),l.jsxs("button",{onClick:()=>me(pe),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[l.jsx(Di,{className:"h-3 w-3 mr-1"}),"Edit"]}),l.jsxs("button",{onClick:()=>te(pe),className:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-xs font-medium rounded text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[l.jsx(yr,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]})},pe.id||pe._id))}),Ce>1&&l.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg mt-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:["Showing ",Z+1," to ",Math.min(ge,xe)," of ",xe," results"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>m(pe=>Math.max(1,pe-1)),disabled:h<=1,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Previous"}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",h," of ",Ce]}),l.jsx("button",{onClick:()=>m(pe=>Math.min(Ce,pe+1)),disabled:h>=Ce,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Next"})]})]})]}),l.jsx(qw,{isOpen:y,onClose:ue,onSubmit:G,editData:w,isLoading:j}),R&&D&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(Et,{className:"h-6 w-6 text-red-600"})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Card"}),l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete "',D.card_name,'"? This action cannot be undone.']})})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{onClick:P,disabled:L,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:L?"Deleting...":"Delete"}),l.jsx("button",{onClick:E,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})]})}),z&&Y&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(or,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add Balance"}),l.jsxs("div",{className:"mt-2",children:[l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:['Add balance to "',Y.card_name,'"']}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{htmlFor:"balance-amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount ($)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(or,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"number",id:"balance-amount",value:re,onChange:pe=>F(pe.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]})]})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{onClick:H,disabled:X||!re,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:X?"Adding...":"Add Balance"}),l.jsx("button",{onClick:A,disabled:X,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})]})})]})},Yo={getAll:async(t={})=>(await ie.get("/card-users",{params:t})).data,getById:async t=>(await ie.get(`/card-users/${t}`)).data,create:async t=>(await ie.post("/card-users",t)).data,update:async(t,e)=>(await ie.put(`/card-users/${t}`,e)).data,delete:async t=>(await ie.delete(`/card-users/${t}`)).data,getCardsByUser:async t=>(await ie.get(`/card-users/user/${t}/cards`)).data,getUsersByCard:async t=>(await ie.get(`/card-users/card/${t}/users`)).data},Kw=({isOpen:t,onClose:e,onSubmit:n,editData:r,isLoading:o})=>{const[a,u]=S.useState({card_id:"",user_id:"",assigned_date:new Date().toISOString().split("T")[0],is_primary:!1}),[d,h]=S.useState({}),[m,g]=S.useState([]),[y,b]=S.useState([]),[w,N]=S.useState(!1);S.useEffect(()=>{t&&(u(r?{card_id:r.card_id?.toString()||"",user_id:r.user_id?.toString()||"",assigned_date:r.assigned_date?new Date(r.assigned_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],is_primary:!!r.is_primary}:{card_id:"",user_id:"",assigned_date:new Date().toISOString().split("T")[0],is_primary:!1}),h({}))},[t,r]),S.useEffect(()=>{t&&j()},[t]);const j=async()=>{N(!0);try{const T=await ir.getAll({limit:100}),L=T?.data?.cards||T?.data||[];g(Array.isArray(L)?L:[]);const z=(await Bg.getForDropdown())?.data||[];b(Array.isArray(z)?z:[])}catch(T){console.error("Error loading options:",T),g([]),b([])}finally{N(!1)}},_=T=>{const{name:L,value:V,type:z,checked:q}=T.target;u(Y=>({...Y,[L]:z==="checkbox"?q:V})),d[L]&&h(Y=>({...Y,[L]:""}))},R=()=>{const T={};return a.card_id||(T.card_id="Card is required"),a.user_id||(T.user_id="User is required"),a.assigned_date||(T.assigned_date="Assigned date is required"),h(T),Object.keys(T).length===0},k=async T=>{if(T.preventDefault(),!!R())try{const L={...a,card_id:parseInt(a.card_id),user_id:parseInt(a.user_id)};await n(L)}catch(L){console.error("Form submission error:",L),h({submit:L.response?.data?.message||L.message||"An error occurred while saving"})}},D=()=>{u({card_id:"",user_id:"",assigned_date:new Date().toISOString().split("T")[0],is_primary:!1}),h({}),e()};return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:D}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:l.jsx("button",{onClick:D,className:"bg-white rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:l.jsx(Nn,{className:"h-6 w-6"})})}),l.jsx("div",{className:"sm:flex sm:items-start",children:l.jsxs("div",{className:"w-full mt-3 text-center sm:mt-0 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:r?"Edit Card Assignment":"Assign Card to User"}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.submit&&l.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-700",children:d.submit})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"card_id",className:"block text-sm font-medium text-gray-700",children:"Card *"}),l.jsxs("select",{id:"card_id",name:"card_id",value:a.card_id,onChange:_,disabled:w||o,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${d.card_id?"border-red-300":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a card..."}),m.map(T=>l.jsxs("option",{value:T.id,children:[T.card_name," (••••",T.card_number_last4,")"]},T.id))]}),d.card_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.card_id})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"user_id",className:"block text-sm font-medium text-gray-700",children:"User *"}),l.jsxs("select",{id:"user_id",name:"user_id",value:a.user_id,onChange:_,disabled:w||o,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${d.user_id?"border-red-300":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a user..."}),y.map(T=>l.jsx("option",{value:T.id,children:T.username},T.id))]}),d.user_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.user_id})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"assigned_date",className:"block text-sm font-medium text-gray-700",children:"Assigned Date *"}),l.jsx("input",{type:"date",id:"assigned_date",name:"assigned_date",value:a.assigned_date,onChange:_,disabled:o,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${d.assigned_date?"border-red-300":"border-gray-300"}`}),d.assigned_date&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.assigned_date})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_primary",name:"is_primary",checked:a.is_primary,onChange:_,disabled:o,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"is_primary",className:"ml-2 block text-sm text-gray-700",children:"Set as primary card for this user"})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:D,disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:o||w,className:"px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Saving...":r?"Update Assignment":"Create Assignment"})]})]})]})})]})]})}):null},Xw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,a]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState(1),[g]=S.useState(10),[y,b]=S.useState(!1),[w,N]=S.useState(null),[j,_]=S.useState(!1),[R,k]=S.useState(!1),[D,T]=S.useState(null),[L,V]=S.useState(!1),z=async()=>{try{r(!0),a(null);const P={search:u,page:h,limit:g},E=await Yo.getAll(P);if(E.success){console.log("📊 Card Users API Response:",E),console.log("📊 Response data structure:",Object.keys(E.data||{}));const U=E.data?.assignments||E.data?.cardUsers||E.data||[];console.log("📊 Extracted assignments:",U.length),U.length>0&&console.log("📊 First assignment sample:",{id:U[0].id,card_name:U[0].card_name,username:U[0].username,card_id:U[0].card_id,user_id:U[0].user_id}),e(U)}else a(E.message||"Failed to fetch card assignments")}catch(P){a(P.response?.data?.message||"Failed to fetch card assignments"),console.error("Error fetching assignments:",P)}finally{r(!1)}};S.useEffect(()=>{const P=setTimeout(()=>{m(1),z()},300);return()=>clearTimeout(P)},[u]),S.useEffect(()=>{z()},[h]),S.useEffect(()=>{z()},[]);const q=(P=null)=>{N(P),b(!0)},Y=()=>{b(!1),N(null)},se=async P=>{try{if(_(!0),w){const E=await Yo.update(w.id||w._id,P);if(!E.success)throw new Error(E.message||"Update failed")}else{const E=await Yo.create(P);if(!E.success)throw new Error(E.message||"Creation failed")}Y(),await z()}catch(E){throw console.error("Form submission error:",E),E}finally{_(!1)}},re=P=>{T(P),k(!0)},F=async()=>{if(D)try{V(!0);const P=await Yo.delete(D.id||D._id);if(!P.success)throw new Error(P.message||"Delete failed");k(!1),T(null),await z()}catch(P){console.error("Delete error:",P),alert(P.response?.data?.message||"Failed to delete assignment")}finally{V(!1)}},X=()=>{k(!1),T(null)},ne=S.useMemo(()=>u.trim()?t.filter(P=>P.card_name?.toLowerCase().includes(u.toLowerCase())||P.username?.toLowerCase().includes(u.toLowerCase())||P.card_number_last4?.includes(u)):t,[t,u]),ce=ne.length,me=Math.ceil(ce/g),ue=(h-1)*g,G=ue+g,te=ne.slice(ue,G);return l.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(xa,{className:"h-7 w-7 text-blue-600"}),"Card User Assignments"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>z(),disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(Ns,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]}),l.jsxs("button",{onClick:()=>q(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Assign Card"]})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Cs,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:u,onChange:P=>d(P.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search assignments..."})]})}),o&&l.jsx("div",{className:"mb-6 rounded-md bg-red-50 border border-red-200 p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-700",children:o})]})}),n?l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:l.jsx("div",{className:"px-4 py-5 sm:p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((P,E)=>l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"})]},E))})})}):te.length===0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx(xa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:u?"Try adjusting your search terms.":"Get started by assigning a card to a user."}),!u&&l.jsxs("button",{onClick:()=>q(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx(At,{className:"h-4 w-4 mr-2"}),"Assign Card"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(cr,{className:"h-4 w-4 mr-1"}),"Card"]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(vu,{className:"h-4 w-4 mr-1"}),"User"]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(La,{className:"h-4 w-4 mr-1"}),"Assigned Date"]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Primary"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(cr,{className:"h-4 w-4 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.card_name||"Unknown Card"}),l.jsxs("div",{className:"text-sm text-gray-500",children:["••••",P.card_number_last4||"****"]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(vu,{className:"h-4 w-4 text-gray-400 mr-2"}),l.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.username||"Unknown User"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.assigned_date?new Date(P.assigned_date).toLocaleDateString():"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.is_primary?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.is_primary?l.jsxs(l.Fragment,{children:[l.jsx(Fa,{className:"w-3 h-3 mr-1"})," Primary"]}):l.jsxs(l.Fragment,{children:[l.jsx(Bu,{className:"w-3 h-3 mr-1"})," Secondary"]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>q(P),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[l.jsx(Di,{className:"h-3 w-3 mr-1"}),"Edit"]}),l.jsxs("button",{onClick:()=>re(P),className:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-xs font-medium rounded text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[l.jsx(yr,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},P.id||P._id))})]})}),me>1&&l.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg mt-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:["Showing ",ue+1," to ",Math.min(G,ce)," of ",ce," results"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>m(P=>Math.max(1,P-1)),disabled:h<=1,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Previous"}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",h," of ",me]}),l.jsx("button",{onClick:()=>m(P=>Math.min(me,P+1)),disabled:h>=me,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Next"})]})]})]}),l.jsx(Kw,{isOpen:y,onClose:Y,onSubmit:se,editData:w,isLoading:j}),R&&D&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(Et,{className:"h-6 w-6 text-red-600"})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Assignment"}),l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete the assignment of "',D.card_name,'" to "',D.username,'"? This action cannot be undone.']})})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{onClick:F,disabled:L,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:L?"Deleting...":"Delete"}),l.jsx("button",{onClick:X,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})]})})]})},Ne={buildDaily:async t=>{try{return(await ie.post(`/reports/build?date=${t}`)).data}catch(e){throw console.error("Error building daily reports:",e),e}},buildRange:async(t,e)=>{try{return(await ie.post(`/reports/build-range?from=${t}&to=${e}`)).data}catch(n){throw console.error("Error building range reports:",n),n}},rebuildCampaignRange:async(t,e,n)=>{try{return(await ie.post(`/reports/rebuild-campaign?campaign_id=${t}&from=${e}&to=${n}`)).data}catch(r){throw console.error("Error rebuilding campaign reports:",r),r}},generateReport:async(t={})=>{try{const e=new URLSearchParams,n={dateFrom:"date_from",dateTo:"date_to",campaignId:"campaign_id",brand:"brand"};return Object.entries(t).forEach(([o,a])=>{if(a!=null&&a!==""){const u=n[o]||o;e.append(u,a)}}),(await ie.get(`/reports/generate?${e.toString()}`)).data}catch(e){throw console.error("Error generating report:",e),e}},getAll:async(t={})=>{try{const e=new URLSearchParams,{page:n=1,limit:r=10,...o}=t;return e.append("page",n),e.append("limit",r),Object.entries(o).forEach(([u,d])=>{d!=null&&d!==""&&e.append(u,d)}),(await ie.get(`/reports?${e.toString()}`)).data}catch(e){throw console.error("Error fetching reports:",e),e}},getById:async t=>{try{return(await ie.get(`/reports/${t}`)).data}catch(e){throw console.error("Error fetching report by ID:",e),e}},create:async t=>{try{return(await ie.post("/reports",t)).data}catch(e){throw console.error("Error creating report:",e),e}},update:async(t,e)=>{try{return(await ie.put(`/reports/${t}`,e)).data}catch(n){throw console.error("Error updating report:",n),n}},delete:async t=>{try{return(await ie.delete(`/reports/${t}`)).data}catch(e){throw console.error("Error deleting report:",e),e}},getFilterOptions:async()=>{try{return(await ie.get("/reports/filters")).data}catch(t){throw console.error("Error fetching filter options:",t),t}},getDashboardStats:async()=>{try{return(await ie.get("/reports/dashboard")).data}catch(t){throw console.error("Error fetching dashboard stats:",t),t}},formatCurrency:t=>t==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t),formatNumber:t=>t==null?"0":new Intl.NumberFormat("en-US").format(t),calculateROI:(t,e)=>!e||e===0?0:(t-e)/e*100,calculateCostPerResult:(t,e)=>!e||e===0?0:t/e,getDateRangePresets:()=>{const t=new Date,e=new Date(t);e.setDate(e.getDate()-1);const n=new Date(t);n.setDate(n.getDate()-7);const r=new Date(t);r.setMonth(r.getMonth()-1);const o=new Date(t);o.setMonth(o.getMonth()-3);const a=u=>u.toISOString().split("T")[0];return{today:{label:"Today",from:a(t),to:a(t)},yesterday:{label:"Yesterday",from:a(e),to:a(e)},lastWeek:{label:"Last 7 Days",from:a(n),to:a(t)},lastMonth:{label:"Last 30 Days",from:a(r),to:a(t)},lastThreeMonths:{label:"Last 3 Months",from:a(o),to:a(t)}}}},Fm=t=>{if(!t)return"";const e=new Date(t),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${n}/${r}/${o}`},Qw=({isOpen:t,onClose:e,onReportGenerated:n})=>{const[r,o]=S.useState({dateFrom:"",dateTo:"",campaignId:"",brand:""}),[a,u]=S.useState(!1),[d,h]=S.useState({campaigns:[],brands:[],dateRange:{}}),[m,g]=S.useState("");S.useEffect(()=>{if(t){y();const k=new Date,D=new Date;D.setDate(k.getDate()-7),o({dateFrom:D.toISOString().split("T")[0],dateTo:k.toISOString().split("T")[0],campaignId:"",brand:""}),g("")}},[t]);const y=async()=>{try{const k=await Ne.getFilterOptions();k.success&&h(k.data)}catch(k){console.error("Error loading filter options:",k)}},b=(k,D)=>{o(T=>({...T,[k]:D})),g("")},w=()=>{if(!r.dateFrom||!r.dateTo)return g("Please select both start and end dates"),!1;const k=new Date(r.dateFrom),D=new Date(r.dateTo);if(k>D)return g("Start date cannot be after end date"),!1;const T=Math.abs(D-k);return Math.ceil(T/(1e3*60*60*24))>365?(g("Date range cannot exceed 1 year"),!1):!0},N=(k,D)=>{g("Excel export is currently disabled due to missing dependency.")},j=async()=>{if(w()){u(!0),g("");try{const k=await Ne.generateReport(r);k.success?k.data.message==="No data found for the selected date range"?g("No data found for the selected date range. Please try different filters."):N(k.data,r):g(k.message||"Failed to generate report")}catch(k){console.error("Error generating report:",k),g("Failed to generate report. Please try again.")}finally{u(!1)}}},_=()=>{a||e()},R=k=>{const T=Ne.getDateRangePresets()[k];T&&o(L=>({...L,dateFrom:T.from,dateTo:T.to}))};return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:_}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[l.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(jn,{className:"h-6 w-6 text-blue-600 mr-2"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Generate Report"})]}),l.jsx("button",{onClick:_,disabled:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-5 w-5"})})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Generate and download an Excel report based on your selected filters"})]}),l.jsxs("div",{className:"bg-white px-6 py-4 space-y-6",children:[m&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-600",children:m})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[l.jsx(La,{className:"h-4 w-4 mr-2 text-blue-600"}),"Date Range *"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Ne.getDateRangePresets()).map(([k,D])=>l.jsx("button",{onClick:()=>R(k),disabled:a,className:"px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:D.label},k))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),l.jsx("input",{type:"date",value:r.dateFrom,onChange:k=>b("dateFrom",k.target.value),disabled:a,max:d.dateRange?.latest,min:d.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),l.jsx("input",{type:"date",value:r.dateTo,onChange:k=>b("dateTo",k.target.value),disabled:a,max:d.dateRange?.latest,min:r.dateFrom||d.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[l.jsx(zu,{className:"h-4 w-4 mr-2 text-blue-600"}),"Filters (Optional)"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Campaign"}),l.jsxs("select",{value:r.campaignId,onChange:k=>b("campaignId",k.target.value),disabled:a,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"All Campaigns"}),d.campaigns?.map(k=>l.jsxs("option",{value:k.id,children:[k.name," ",k.brand&&`(${k.brand})`]},k.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Brand"}),l.jsxs("select",{value:r.brand,onChange:k=>b("brand",k.target.value),disabled:a,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"All Brands"}),d.brands?.map(k=>l.jsx("option",{value:k,children:k},k))]})]})]})]}),d.dateRange?.earliest&&d.dateRange?.latest&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("strong",{children:"Available Data:"})," ",Fm(d.dateRange.earliest)," to ",Fm(d.dateRange.latest)]}),l.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[l.jsx("strong",{children:"Campaigns:"})," ",d.campaigns?.length||0," campaigns available"]}),l.jsxs("p",{className:"text-sm text-blue-600",children:[l.jsx("strong",{children:"Brands:"})," ",d.brands?.length||0," brands available"]})]})]}),l.jsxs("div",{className:"bg-gray-50 px-6 py-3 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{type:"button",onClick:j,disabled:a||!r.dateFrom||!r.dateTo,className:"w-full inline-flex justify-center items-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(bw,{className:"h-4 w-4 mr-2"}),"Generate Report"]})}),l.jsx("button",{type:"button",onClick:_,disabled:a,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}):null},Kc=t=>{if(!t)return"";const e=new Date(t),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${n}/${r}/${o}`},Gw=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),[o,a]=S.useState(null),[u,d]=S.useState(null),[h,m]=S.useState(!1),[g,y]=S.useState("summary");S.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const k=await Ne.getDashboardStats();k.success&&d(k.data)}catch(k){console.error("Error loading dashboard stats:",k),a("Failed to load dashboard statistics")}finally{r(!1)}},w=k=>{e(k),a(null)},N=()=>{e(null),a(null)},j=({title:k,value:D,icon:T,change:L,changeType:V,description:z})=>l.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:k}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D}),z&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z}),L&&l.jsxs("p",{className:`text-sm flex items-center mt-2 ${V==="positive"?"text-green-600":"text-red-600"}`,children:[V==="positive"?l.jsx(Om,{className:"h-4 w-4 mr-1"}):l.jsx(Sw,{className:"h-4 w-4 mr-1"}),L]})]}),l.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:l.jsx(T,{className:"h-6 w-6 text-blue-600"})})]})}),_=({title:k,data:D})=>l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:k}),l.jsx("div",{className:"space-y-4",children:Object.entries(D).map(([T,L])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600 capitalize",children:T.replace(/([A-Z])/g," $1").toLowerCase()}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:typeof L=="number"&&T.includes("spent")?Ne.formatCurrency(L):typeof L=="number"?Ne.formatNumber(L):L})]},T))})]}),R=({reports:k})=>l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Detailed Report Data"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facebook"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zoho"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost/Result"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map((D,T)=>{const L=D.cost_per_result||Ne.calculateCostPerResult(D.spent,D.total_results);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.campaign_name||`Campaign ${D.campaign_id}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Kc(D.report_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatCurrency(D.spent)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(D.facebook_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(D.zoho_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne.formatNumber(D.total_results||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L===0?"bg-gray-100 text-gray-800":L<5?"bg-green-100 text-green-800":L<10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:L===0?"N/A":Ne.formatCurrency(L)})})]},T)})})]})})]})});return n&&!t&&!u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),l.jsx("p",{className:"text-gray-600",children:"Generate and analyze comprehensive advertising reports"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(jn,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),t&&l.jsx("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear Report"})]})]}),o&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-600",children:o})]})}),t?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(j,{title:"Total Spent",value:Ne.formatCurrency(t.summary?.totalSpent||0),icon:or,description:`From ${Kc(t.filters?.dateFrom)} to ${Kc(t.filters?.dateTo)}`}),l.jsx(j,{title:"Total Results",value:Ne.formatNumber(t.summary?.totalResults||0),icon:qn,description:`Facebook: ${Ne.formatNumber(t.summary?.totalFacebookResults||0)} | Zoho: ${Ne.formatNumber(t.summary?.totalZohoResults||0)}`}),l.jsx(j,{title:"Campaigns",value:Ne.formatNumber(t.summary?.totalCampaigns||0),icon:ks,description:`${t.summary?.totalRecords||0} total records`}),l.jsx(j,{title:"Avg Cost/Result",value:Ne.formatCurrency(t.summary?.avgCostPerResult||0),icon:Em})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:()=>y("summary"),className:`px-3 py-2 rounded-md text-sm font-medium ${g==="summary"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Summary"}),l.jsx("button",{onClick:()=>y("detailed"),className:`px-3 py-2 rounded-md text-sm font-medium ${g==="detailed"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Detailed Data"}),l.jsx("button",{onClick:()=>y("breakdown"),className:`px-3 py-2 rounded-md text-sm font-medium ${g==="breakdown"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Breakdown"})]})}),g==="summary"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(_,{title:"Summary Statistics",data:t.summary||{}}),t.filters&&l.jsx(_,{title:"Applied Filters",data:t.filters})]}),g==="detailed"&&t.reports&&l.jsx(R,{reports:t.reports}),g==="breakdown"&&l.jsxs("div",{className:"space-y-6",children:[t.brandBreakdown&&t.brandBreakdown.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(jw,{className:"h-5 w-5 mr-2 text-blue-600"}),"Brand Breakdown"]}),l.jsx("div",{className:"space-y-3",children:t.brandBreakdown.map((k,D)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsx("span",{className:"font-medium text-gray-900",children:k.brand||"Unknown Brand"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Ne.formatCurrency(k.total_spent)," spent"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Ne.formatNumber(k.total_results)," results | ",k.campaigns_count," campaigns"]})]})]},D))})]}),t.campaignBreakdown&&t.campaignBreakdown.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(jn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Campaign Breakdown"]}),l.jsx("div",{className:"space-y-3",children:t.campaignBreakdown.map((k,D)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:k.campaign_name}),l.jsx("div",{className:"text-xs text-gray-500",children:k.brand})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ne.formatCurrency(k.total_spent)}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Ne.formatNumber(k.total_results)," results"]})]})]},D))})]})]})]}):l.jsxs("div",{className:"space-y-6",children:[u&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(j,{title:"Current Month",value:Ne.formatCurrency(u.currentMonth?.totalSpent||0),icon:or,description:`${u.currentMonth?.month} overview`}),l.jsx(j,{title:"Monthly Campaigns",value:Ne.formatNumber(u.currentMonth?.campaignsCount||0),icon:qn,description:"Active this month"}),l.jsx(j,{title:"Monthly Results",value:Ne.formatNumber(u.currentMonth?.totalLeads||0),icon:Em}),l.jsx(j,{title:"Avg Cost/Lead",value:Ne.formatCurrency(u.currentMonth?.avgCostPerLead||0),icon:Om})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[l.jsx(_i,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Generate Your First Report"}),l.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Generate Report" to create comprehensive reports from your campaign data with custom date ranges and filters.'}),l.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(jn,{className:"h-4 w-4 mr-2"}),"Get Started"]})]})]}),l.jsx(Qw,{isOpen:h,onClose:()=>m(!1),onReportGenerated:w})]})},Jw=()=>l.jsx("div",{className:"p-6",children:l.jsx(Gw,{})}),Zw=t=>{if(!t)return"";const e=new Date(t),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${n}/${r}/${o}`},e1=()=>{const[t,e]=S.useState({dateFrom:"",dateTo:"",campaignId:"",brand:""}),[n,r]=S.useState([]),[o,a]=S.useState([]),[u,d]=S.useState(!1),[h,m]=S.useState(""),[g,y]=S.useState({campaigns:[],brands:[],dateRange:{}}),[b,w]=S.useState(1),[N]=S.useState(10),[j,_]=S.useState(!1);S.useEffect(()=>{R(),k()},[]),S.useEffect(()=>{t.dateFrom&&t.dateTo?D():a(n)},[t]);const R=async()=>{try{const F=await Ne.getFilterOptions();F.success&&y(F.data)}catch(F){console.error("Error loading filter options:",F)}},k=()=>{const F=new Date,X=new Date;X.setDate(F.getDate()-30),e({dateFrom:X.toISOString().split("T")[0],dateTo:F.toISOString().split("T")[0],campaignId:"",brand:""})},D=async()=>{if(!(!t.dateFrom||!t.dateTo)){d(!0),m("");try{const F=await Ne.generateReport(t);if(F.success){const X=F.data.reports||[];console.log("🔍 Reports API Response:",{totalRecords:X.length,sampleData:X.slice(0,3),allData:X}),r(X),a(X),w(1)}else m(F.data?.message||F.message||"Failed to load report data"),r([]),a([])}catch(F){console.error("Error loading report data:",F),m("Failed to load report data. Please try again."),r([]),a([])}finally{d(!1)}}},T=(F,X)=>{e(ne=>({...ne,[F]:X})),m("")},L=F=>{const ne=Ne.getDateRangePresets()[F];ne&&e(ce=>({...ce,dateFrom:ne.from,dateTo:ne.to}))},V=()=>{e({dateFrom:"",dateTo:"",campaignId:"",brand:""}),r([]),a([]),w(1)},z=b*N,q=z-N,Y=o.slice(q,z),se=Math.ceil(o.length/N);console.log("📄 Pagination Debug:",{filteredDataLength:o.length,currentPage:b,itemsPerPage:N,indexOfFirstItem:q,indexOfLastItem:z,currentItemsLength:Y.length,totalPages:se,currentItemsSample:Y.slice(0,2)});const re=F=>w(F);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[l.jsx(_i,{className:"h-6 w-6 mr-2 text-blue-600"}),"Reports"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"View and analyze campaign performance data"})]}),l.jsx("div",{className:"flex space-x-3",children:l.jsxs("button",{onClick:D,disabled:u||!t.dateFrom||!t.dateTo,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Ns,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),u?"Loading...":"Refresh"]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>_(!j),className:"flex items-center text-lg font-medium text-gray-900 hover:text-blue-600 transition-colors",children:[l.jsx(zu,{className:"h-5 w-5 mr-2 text-blue-600"}),"Filters",l.jsx("svg",{className:`h-4 w-4 ml-1 transition-transform ${j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[o.length," record",o.length!==1?"s":""," found"]})]}),j&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(La,{className:"h-4 w-4 inline mr-1"}),"Date Range *"]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(Ne.getDateRangePresets()).map(([F,X])=>l.jsx("button",{onClick:()=>L(F),disabled:u,className:"px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50",children:X.label},F))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"From Date"}),l.jsx("input",{type:"date",value:t.dateFrom,onChange:F=>T("dateFrom",F.target.value),disabled:u,max:g.dateRange?.latest,min:g.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"To Date"}),l.jsx("input",{type:"date",value:t.dateTo,onChange:F=>T("dateTo",F.target.value),disabled:u,max:g.dateRange?.latest,min:t.dateFrom||g.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign"}),l.jsxs("select",{value:t.campaignId,onChange:F=>T("campaignId",F.target.value),disabled:u,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[l.jsx("option",{value:"",children:"All Campaigns"}),g.campaigns?.map(F=>l.jsxs("option",{value:F.id,children:[F.name," ",F.brand&&`(${F.brand})`]},F.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),l.jsxs("select",{value:t.brand,onChange:F=>T("brand",F.target.value),disabled:u,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[l.jsx("option",{value:"",children:"All Brands"}),g.brands?.map(F=>l.jsx("option",{value:F,children:F},F))]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{onClick:V,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all filters"}),l.jsxs("div",{className:"text-sm text-gray-500",children:[o.length," record",o.length!==1?"s":""," found"]})]})]})]}),h&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-600",children:h})]})}),l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Campaign Performance Data"}),o.length>0&&l.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",q+1," to ",Math.min(z,o.length)," of ",o.length," entries"]})]}),u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"})}):o.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data found"}),l.jsx("p",{className:"text-gray-600",children:t.dateFrom&&t.dateTo?"No records found for the selected filters. Try adjusting your date range or filters.":"Please select a date range to view reports."})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facebook Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zoho Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Spent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Per Lead"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map((F,X)=>{const ne=F.cost_per_result||Ne.calculateCostPerResult(F.spent,F.total_results);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.campaign_name||`Campaign ${F.campaign_id}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.brand||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Zw(F.report_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatCurrency(F.spent)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(F.facebook_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(F.zoho_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne.formatNumber(F.total_results||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne.formatCurrency(F.total_campaign_spent||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ne===0?"bg-gray-100 text-gray-800":ne<5?"bg-green-100 text-green-800":ne<10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ne===0?"N/A":Ne.formatCurrency(ne)})})]},`${F.campaign_id}-${F.report_date}-${X}`)})})]})}),se>1&&l.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[l.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[l.jsx("button",{onClick:()=>re(b-1),disabled:b===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),l.jsx("button",{onClick:()=>re(b+1),disabled:b===se,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),l.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",l.jsx("span",{className:"font-medium",children:q+1})," to"," ",l.jsx("span",{className:"font-medium",children:Math.min(z,o.length)})," of"," ",l.jsx("span",{className:"font-medium",children:o.length})," results"]})}),l.jsx("div",{children:l.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[l.jsx("button",{onClick:()=>re(b-1),disabled:b===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,se)},(F,X)=>{const ne=X+1;return l.jsx("button",{onClick:()=>re(ne),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${b===ne?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ne},ne)}),l.jsx("button",{onClick:()=>re(b+1),disabled:b===se,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})]})})]})},t1=()=>l.jsx("div",{className:"p-6",children:l.jsx(e1,{})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ai(t){return t+.5|0}const Yn=(t,e,n)=>Math.max(Math.min(t,n),e);function fi(t){return Yn(Ai(t*2.55),0,255)}function Qn(t){return Yn(Ai(t*255),0,255)}function wn(t){return Yn(Ai(t/2.55)/100,0,1)}function Im(t){return Yn(Ai(t*100),0,100)}const Ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wu=[..."0123456789ABCDEF"],n1=t=>wu[t&15],s1=t=>wu[(t&240)>>4]+wu[t&15],Ko=t=>(t&240)>>4===(t&15),r1=t=>Ko(t.r)&&Ko(t.g)&&Ko(t.b)&&Ko(t.a);function i1(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ut[t[1]]*17,g:255&Ut[t[2]]*17,b:255&Ut[t[3]]*17,a:e===5?Ut[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ut[t[1]]<<4|Ut[t[2]],g:Ut[t[3]]<<4|Ut[t[4]],b:Ut[t[5]]<<4|Ut[t[6]],a:e===9?Ut[t[7]]<<4|Ut[t[8]]:255})),n}const o1=(t,e)=>t<255?e(t):"";function a1(t){var e=r1(t)?n1:s1;return t?"#"+e(t.r)+e(t.g)+e(t.b)+o1(t.a,e):void 0}const l1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ug(t,e,n){const r=e*Math.min(n,1-n),o=(a,u=(a+t/30)%12)=>n-r*Math.max(Math.min(u-3,9-u,1),-1);return[o(0),o(8),o(4)]}function c1(t,e,n){const r=(o,a=(o+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function u1(t,e,n){const r=Ug(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)r[o]*=1-e-n,r[o]+=e;return r}function d1(t,e,n,r,o){return t===o?(e-n)/r+(e<n?6:0):e===o?(n-t)/r+2:(t-e)/r+4}function Uu(t){const n=t.r/255,r=t.g/255,o=t.b/255,a=Math.max(n,r,o),u=Math.min(n,r,o),d=(a+u)/2;let h,m,g;return a!==u&&(g=a-u,m=d>.5?g/(2-a-u):g/(a+u),h=d1(n,r,o,g,a),h=h*60+.5),[h|0,m||0,d]}function $u(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Qn)}function Hu(t,e,n){return $u(Ug,t,e,n)}function f1(t,e,n){return $u(u1,t,e,n)}function h1(t,e,n){return $u(c1,t,e,n)}function $g(t){return(t%360+360)%360}function m1(t){const e=l1.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?fi(+e[5]):Qn(+e[5]));const o=$g(+e[2]),a=+e[3]/100,u=+e[4]/100;return e[1]==="hwb"?r=f1(o,a,u):e[1]==="hsv"?r=h1(o,a,u):r=Hu(o,a,u),{r:r[0],g:r[1],b:r[2],a:n}}function p1(t,e){var n=Uu(t);n[0]=$g(n[0]+e),n=Hu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function g1(t){if(!t)return;const e=Uu(t),n=e[0],r=Im(e[1]),o=Im(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${o}%, ${wn(t.a)})`:`hsl(${n}, ${r}%, ${o}%)`}const zm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function x1(){const t={},e=Object.keys(Bm),n=Object.keys(zm);let r,o,a,u,d;for(r=0;r<e.length;r++){for(u=d=e[r],o=0;o<n.length;o++)a=n[o],d=d.replace(a,zm[a]);a=parseInt(Bm[u],16),t[d]=[a>>16&255,a>>8&255,a&255]}return t}let Xo;function y1(t){Xo||(Xo=x1(),Xo.transparent=[0,0,0,0]);const e=Xo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const b1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function v1(t){const e=b1.exec(t);let n=255,r,o,a;if(e){if(e[7]!==r){const u=+e[7];n=e[8]?fi(u):Yn(u*255,0,255)}return r=+e[1],o=+e[3],a=+e[5],r=255&(e[2]?fi(r):Yn(r,0,255)),o=255&(e[4]?fi(o):Yn(o,0,255)),a=255&(e[6]?fi(a):Yn(a,0,255)),{r,g:o,b:a,a:n}}}function w1(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Xc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,sr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function _1(t,e,n){const r=sr(wn(t.r)),o=sr(wn(t.g)),a=sr(wn(t.b));return{r:Qn(Xc(r+n*(sr(wn(e.r))-r))),g:Qn(Xc(o+n*(sr(wn(e.g))-o))),b:Qn(Xc(a+n*(sr(wn(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Qo(t,e,n){if(t){let r=Uu(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Hu(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Hg(t,e){return t&&Object.assign(e||{},t)}function Um(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Qn(t[3]))):(e=Hg(t,{r:0,g:0,b:0,a:1}),e.a=Qn(e.a)),e}function j1(t){return t.charAt(0)==="r"?v1(t):m1(t)}class Ni{constructor(e){if(e instanceof Ni)return e;const n=typeof e;let r;n==="object"?r=Um(e):n==="string"&&(r=i1(e)||y1(e)||j1(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Hg(this._rgb);return e&&(e.a=wn(e.a)),e}set rgb(e){this._rgb=Um(e)}rgbString(){return this._valid?w1(this._rgb):void 0}hexString(){return this._valid?a1(this._rgb):void 0}hslString(){return this._valid?g1(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,o=e.rgb;let a;const u=n===a?.5:n,d=2*u-1,h=r.a-o.a,m=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;a=1-m,r.r=255&m*r.r+a*o.r+.5,r.g=255&m*r.g+a*o.g+.5,r.b=255&m*r.b+a*o.b+.5,r.a=u*r.a+(1-u)*o.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=_1(this._rgb,e._rgb,n)),this}clone(){return new Ni(this.rgb)}alpha(e){return this._rgb.a=Qn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ai(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qo(this._rgb,2,e),this}darken(e){return Qo(this._rgb,2,-e),this}saturate(e){return Qo(this._rgb,1,e),this}desaturate(e){return Qo(this._rgb,1,-e),this}rotate(e){return p1(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function yn(){}const N1=(()=>{let t=0;return()=>t++})();function $e(t){return t==null}function Je(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Se(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function mt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function rn(t,e){return mt(t)?t:e}function ke(t,e){return typeof t>"u"?e:t}const k1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Fe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Me(t,e,n,r){let o,a,u;if(Je(t))for(a=t.length,o=0;o<a;o++)e.call(n,t[o],o);else if(Se(t))for(u=Object.keys(t),a=u.length,o=0;o<a;o++)e.call(n,t[u[o]],u[o])}function ya(t,e){let n,r,o,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(o=t[n],a=e[n],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function ba(t){if(Je(t))return t.map(ba);if(Se(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let o=0;for(;o<r;++o)e[n[o]]=ba(t[n[o]]);return e}return t}function Wg(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function S1(t,e,n,r){if(!Wg(t))return;const o=e[t],a=n[t];Se(o)&&Se(a)?ki(o,a,r):e[t]=ba(a)}function ki(t,e,n){const r=Je(e)?e:[e],o=r.length;if(!Se(t))return t;n=n||{};const a=n.merger||S1;let u;for(let d=0;d<o;++d){if(u=r[d],!Se(u))continue;const h=Object.keys(u);for(let m=0,g=h.length;m<g;++m)a(h[m],t,u,n)}return t}function pi(t,e){return ki(t,e,{merger:C1})}function C1(t,e,n){if(!Wg(t))return;const r=e[t],o=n[t];Se(r)&&Se(o)?pi(r,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ba(o))}const $m={"":t=>t,x:t=>t.x,y:t=>t.y};function E1(t){const e=t.split("."),n=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function P1(t){const e=E1(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function va(t,e){return($m[e]||($m[e]=P1(e)))(t)}function Wu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wa=t=>typeof t<"u",Gn=t=>typeof t=="function",Hm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function R1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const De=Math.PI,nt=2*De,T1=nt+De,_a=Number.POSITIVE_INFINITY,M1=De/180,it=De/2,hs=De/4,Wm=De*2/3,Vg=Math.log10,ur=Math.sign;function gi(t,e,n){return Math.abs(t-e)<n}function Vm(t){const e=Math.round(t);t=gi(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Vg(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function D1(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((o,a)=>o-a).pop(),e}function A1(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ja(t){return!A1(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function O1(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function L1(t,e,n){let r,o,a;for(r=0,o=t.length;r<o;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function vs(t){return t*(De/180)}function F1(t){return t*(180/De)}function qm(t){if(!mt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function qg(t,e){const n=e.x-t.x,r=e.y-t.y,o=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*De&&(a+=nt),{angle:a,distance:o}}function _u(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function I1(t,e){return(t-e+T1)%nt-De}function Dt(t){return(t%nt+nt)%nt}function Vu(t,e,n,r){const o=Dt(t),a=Dt(e),u=Dt(n),d=Dt(a-o),h=Dt(u-o),m=Dt(o-a),g=Dt(o-u);return o===a||o===u||r&&a===u||d>h&&m<g}function kt(t,e,n){return Math.max(e,Math.min(n,t))}function z1(t){return kt(t,-32768,32767)}function _n(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function qu(t,e,n){n=n||(u=>t[u]<e);let r=t.length-1,o=0,a;for(;r-o>1;)a=o+r>>1,n(a)?o=a:r=a;return{lo:o,hi:r}}const ju=(t,e,n,r)=>qu(t,n,r?o=>{const a=t[o][e];return a<n||a===n&&t[o+1][e]===n}:o=>t[o][e]<n),B1=(t,e,n)=>qu(t,n,r=>t[r][e]>=n);function U1(t,e,n){let r=0,o=t.length;for(;r<o&&t[r]<e;)r++;for(;o>r&&t[o-1]>n;)o--;return r>0||o<t.length?t.slice(r,o):t}const Yg=["push","pop","shift","splice","unshift"];function $1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Yg.forEach(n=>{const r="_onData"+Wu(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const u=o.apply(this,a);return t._chartjs.listeners.forEach(d=>{typeof d[r]=="function"&&d[r](...a)}),u}})})}function Ym(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(Yg.forEach(a=>{delete t[a]}),delete t._chartjs)}function H1(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Kg=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Xg(t,e){let n=[],r=!1;return function(...o){n=o,r||(r=!0,Kg.call(window,()=>{r=!1,t.apply(e,n)}))}}function W1(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Yu=t=>t==="start"?"left":t==="end"?"right":"center",dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,V1=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Go=t=>t===0||t===1,Km=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*nt/n)),Xm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*nt/n)+1,xi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*it)+1,easeOutSine:t=>Math.sin(t*it),easeInOutSine:t=>-.5*(Math.cos(De*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Go(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Go(t)?t:Km(t,.075,.3),easeOutElastic:t=>Go(t)?t:Xm(t,.075,.3),easeInOutElastic(t){return Go(t)?t:t<.5?.5*Km(t*2,.1125,.45):.5+.5*Xm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xi.easeInBounce(t*2)*.5:xi.easeOutBounce(t*2-1)*.5+.5};function Ku(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Qm(t){return Ku(t)?t:new Ni(t)}function Qc(t){return Ku(t)?t:new Ni(t).saturate(.5).darken(.1).hexString()}const q1=["x","y","borderWidth","radius","tension"],Y1=["color","borderColor","backgroundColor"];function K1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Y1},numbers:{type:"number",properties:q1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function X1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Gm=new Map;function Q1(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Gm.get(n);return r||(r=new Intl.NumberFormat(t,e),Gm.set(n,r)),r}function Qg(t,e,n){return Q1(e,n).format(t)}const G1={values(t){return Je(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let o,a=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(o="scientific"),a=J1(t,n)}const u=Vg(Math.abs(a)),d=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),h={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),Qg(t,r,h)}};function J1(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Gg={formatters:G1};function Z1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ss=Object.create(null),Nu=Object.create(null);function yi(t,e){if(!e)return t;const n=e.split(".");for(let r=0,o=n.length;r<o;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function Gc(t,e,n){return typeof e=="string"?ki(yi(t,e),n):ki(yi(t,""),e)}class e_{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Qc(o.backgroundColor),this.hoverBorderColor=(r,o)=>Qc(o.borderColor),this.hoverColor=(r,o)=>Qc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Gc(this,e,n)}get(e){return yi(this,e)}describe(e,n){return Gc(Nu,e,n)}override(e,n){return Gc(Ss,e,n)}route(e,n,r,o){const a=yi(this,e),u=yi(this,r),d="_"+n;Object.defineProperties(a,{[d]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],m=u[o];return Se(h)?Object.assign({},m,h):ke(h,m)},set(h){this[d]=h}}})}apply(e){e.forEach(n=>n(this))}}var Ye=new e_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[K1,X1,Z1]);function t_(t){return!t||$e(t.size)||$e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Jm(t,e,n,r,o){let a=e[o];return a||(a=e[o]=t.measureText(o).width,n.push(o)),a>r&&(r=a),r}function ms(t,e,n){const r=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*r)/r+o}function Zm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ku(t,e,n,r){Jg(t,e,n,r,null)}function Jg(t,e,n,r,o){let a,u,d,h,m,g,y,b;const w=e.pointStyle,N=e.rotation,j=e.radius;let _=(N||0)*M1;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),t.restore();return}if(!(isNaN(j)||j<=0)){switch(t.beginPath(),w){default:o?t.ellipse(n,r,o/2,j,0,0,nt):t.arc(n,r,j,0,nt),t.closePath();break;case"triangle":g=o?o/2:j,t.moveTo(n+Math.sin(_)*g,r-Math.cos(_)*j),_+=Wm,t.lineTo(n+Math.sin(_)*g,r-Math.cos(_)*j),_+=Wm,t.lineTo(n+Math.sin(_)*g,r-Math.cos(_)*j),t.closePath();break;case"rectRounded":m=j*.516,h=j-m,u=Math.cos(_+hs)*h,y=Math.cos(_+hs)*(o?o/2-m:h),d=Math.sin(_+hs)*h,b=Math.sin(_+hs)*(o?o/2-m:h),t.arc(n-y,r-d,m,_-De,_-it),t.arc(n+b,r-u,m,_-it,_),t.arc(n+y,r+d,m,_,_+it),t.arc(n-b,r+u,m,_+it,_+De),t.closePath();break;case"rect":if(!N){h=Math.SQRT1_2*j,g=o?o/2:h,t.rect(n-g,r-h,2*g,2*h);break}_+=hs;case"rectRot":y=Math.cos(_)*(o?o/2:j),u=Math.cos(_)*j,d=Math.sin(_)*j,b=Math.sin(_)*(o?o/2:j),t.moveTo(n-y,r-d),t.lineTo(n+b,r-u),t.lineTo(n+y,r+d),t.lineTo(n-b,r+u),t.closePath();break;case"crossRot":_+=hs;case"cross":y=Math.cos(_)*(o?o/2:j),u=Math.cos(_)*j,d=Math.sin(_)*j,b=Math.sin(_)*(o?o/2:j),t.moveTo(n-y,r-d),t.lineTo(n+y,r+d),t.moveTo(n+b,r-u),t.lineTo(n-b,r+u);break;case"star":y=Math.cos(_)*(o?o/2:j),u=Math.cos(_)*j,d=Math.sin(_)*j,b=Math.sin(_)*(o?o/2:j),t.moveTo(n-y,r-d),t.lineTo(n+y,r+d),t.moveTo(n+b,r-u),t.lineTo(n-b,r+u),_+=hs,y=Math.cos(_)*(o?o/2:j),u=Math.cos(_)*j,d=Math.sin(_)*j,b=Math.sin(_)*(o?o/2:j),t.moveTo(n-y,r-d),t.lineTo(n+y,r+d),t.moveTo(n+b,r-u),t.lineTo(n-b,r+u);break;case"line":u=o?o/2:Math.cos(_)*j,d=Math.sin(_)*j,t.moveTo(n-u,r-d),t.lineTo(n+u,r+d);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(o?o/2:j),r+Math.sin(_)*j);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Si(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ia(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function za(t){t.restore()}function n_(t,e,n,r,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else o==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function s_(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function r_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function i_(t,e,n,r,o){if(o.strikethrough||o.underline){const a=t.measureText(r),u=e-a.actualBoundingBoxLeft,d=e+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,m=n+a.actualBoundingBoxDescent,g=o.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(u,g),t.lineTo(d,g),t.stroke()}}function o_(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ci(t,e,n,r,o,a={}){const u=Je(e)?e:[e],d=a.strokeWidth>0&&a.strokeColor!=="";let h,m;for(t.save(),t.font=o.string,r_(t,a),h=0;h<u.length;++h)m=u[h],a.backdrop&&o_(t,a.backdrop),d&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),$e(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(m,n,r,a.maxWidth)),t.fillText(m,n,r,a.maxWidth),i_(t,n,r,m,a),r+=Number(o.lineHeight);t.restore()}function Na(t,e){const{x:n,y:r,w:o,h:a,radius:u}=e;t.arc(n+u.topLeft,r+u.topLeft,u.topLeft,1.5*De,De,!0),t.lineTo(n,r+a-u.bottomLeft),t.arc(n+u.bottomLeft,r+a-u.bottomLeft,u.bottomLeft,De,it,!0),t.lineTo(n+o-u.bottomRight,r+a),t.arc(n+o-u.bottomRight,r+a-u.bottomRight,u.bottomRight,it,0,!0),t.lineTo(n+o,r+u.topRight),t.arc(n+o-u.topRight,r+u.topRight,u.topRight,0,-it,!0),t.lineTo(n+u.topLeft,r)}const a_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c_(t,e){const n=(""+t).match(a_);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const u_=t=>+t||0;function Xu(t,e){const n={},r=Se(e),o=r?Object.keys(e):e,a=Se(t)?r?u=>ke(t[u],t[e[u]]):u=>t[u]:()=>t;for(const u of o)n[u]=u_(a(u));return n}function Zg(t){return Xu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ar(t){return Xu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ht(t){const e=Zg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ht(t,e){t=t||{},e=e||Ye.font;let n=ke(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ke(t.style,e.style);r&&!(""+r).match(l_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:ke(t.family,e.family),lineHeight:c_(ke(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ke(t.weight,e.weight),string:""};return o.string=t_(o),o}function Jo(t,e,n,r){let o,a,u;for(o=0,a=t.length;o<a;++o)if(u=t[o],u!==void 0&&u!==void 0)return u}function d_(t,e,n){const{min:r,max:o}=t,a=k1(e,(o-r)/2),u=(d,h)=>n&&d===0?0:d+h;return{min:u(r,-Math.abs(a)),max:u(o,a)}}function Es(t,e){return Object.assign(Object.create(t),e)}function Qu(t,e=[""],n,r,o=()=>t[0]){const a=n||t;typeof r>"u"&&(r=sx("_fallback",t));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:o,override:d=>Qu([d,...t],e,a,r)};return new Proxy(u,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return tx(d,h,()=>b_(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return tp(d).includes(h)},ownKeys(d){return tp(d)},set(d,h,m){const g=d._storage||(d._storage=o());return d[h]=g[h]=m,delete d._keys,!0}})}function dr(t,e,n,r){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ex(t,r),setContext:a=>dr(t,a,n,r),override:a=>dr(t.override(a),e,n,r)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete t[u],!0},get(a,u,d){return tx(a,u,()=>h_(a,u,d))},getOwnPropertyDescriptor(a,u){return a._descriptors.allKeys?Reflect.has(t,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,u)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,u){return Reflect.has(t,u)},ownKeys(){return Reflect.ownKeys(t)},set(a,u,d){return t[u]=d,delete a[u],!0}})}function ex(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:r,isScriptable:Gn(n)?n:()=>n,isIndexable:Gn(r)?r:()=>r}}const f_=(t,e)=>t?t+Wu(e):e,Gu=(t,e)=>Se(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function tx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function h_(t,e,n){const{_proxy:r,_context:o,_subProxy:a,_descriptors:u}=t;let d=r[e];return Gn(d)&&u.isScriptable(e)&&(d=m_(e,d,t,n)),Je(d)&&d.length&&(d=p_(e,d,t,u.isIndexable)),Gu(e,d)&&(d=dr(d,o,a&&a[e],u)),d}function m_(t,e,n,r){const{_proxy:o,_context:a,_subProxy:u,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(a,u||r);return d.delete(t),Gu(t,h)&&(h=Ju(o._scopes,o,t,h)),h}function p_(t,e,n,r){const{_proxy:o,_context:a,_subProxy:u,_descriptors:d}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(Se(e[0])){const h=e,m=o._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=Ju(m,o,t,g);e.push(dr(y,a,u&&u[t],d))}}return e}function nx(t,e,n){return Gn(t)?t(e,n):t}const g_=(t,e)=>t===!0?e:typeof t=="string"?va(e,t):void 0;function x_(t,e,n,r,o){for(const a of e){const u=g_(n,a);if(u){t.add(u);const d=nx(u._fallback,n,o);if(typeof d<"u"&&d!==n&&d!==r)return d}else if(u===!1&&typeof r<"u"&&n!==r)return null}return!1}function Ju(t,e,n,r){const o=e._rootScopes,a=nx(e._fallback,n,r),u=[...t,...o],d=new Set;d.add(r);let h=ep(d,u,n,a||n,r);return h===null||typeof a<"u"&&a!==n&&(h=ep(d,u,a,h,r),h===null)?!1:Qu(Array.from(d),[""],o,a,()=>y_(e,n,r))}function ep(t,e,n,r,o){for(;n;)n=x_(t,e,n,r,o);return n}function y_(t,e,n){const r=t._getTarget();e in r||(r[e]={});const o=r[e];return Je(o)&&Se(n)?n:o||{}}function b_(t,e,n,r){let o;for(const a of e)if(o=sx(f_(a,t),n),typeof o<"u")return Gu(t,o)?Ju(n,r,t,o):o}function sx(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function tp(t){let e=t._keys;return e||(e=t._keys=v_(t._scopes)),e}function v_(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}const w_=Number.EPSILON||1e-14,fr=(t,e)=>e<t.length&&!t[e].skip&&t[e],rx=t=>t==="x"?"y":"x";function __(t,e,n,r){const o=t.skip?e:t,a=e,u=n.skip?e:n,d=_u(a,o),h=_u(u,a);let m=d/(d+h),g=h/(d+h);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const y=r*m,b=r*g;return{previous:{x:a.x-y*(u.x-o.x),y:a.y-y*(u.y-o.y)},next:{x:a.x+b*(u.x-o.x),y:a.y+b*(u.y-o.y)}}}function j_(t,e,n){const r=t.length;let o,a,u,d,h,m=fr(t,0);for(let g=0;g<r-1;++g)if(h=m,m=fr(t,g+1),!(!h||!m)){if(gi(e[g],0,w_)){n[g]=n[g+1]=0;continue}o=n[g]/e[g],a=n[g+1]/e[g],d=Math.pow(o,2)+Math.pow(a,2),!(d<=9)&&(u=3/Math.sqrt(d),n[g]=o*u*e[g],n[g+1]=a*u*e[g])}}function N_(t,e,n="x"){const r=rx(n),o=t.length;let a,u,d,h=fr(t,0);for(let m=0;m<o;++m){if(u=d,d=h,h=fr(t,m+1),!d)continue;const g=d[n],y=d[r];u&&(a=(g-u[n])/3,d[`cp1${n}`]=g-a,d[`cp1${r}`]=y-a*e[m]),h&&(a=(h[n]-g)/3,d[`cp2${n}`]=g+a,d[`cp2${r}`]=y+a*e[m])}}function k_(t,e="x"){const n=rx(e),r=t.length,o=Array(r).fill(0),a=Array(r);let u,d,h,m=fr(t,0);for(u=0;u<r;++u)if(d=h,h=m,m=fr(t,u+1),!!h){if(m){const g=m[e]-h[e];o[u]=g!==0?(m[n]-h[n])/g:0}a[u]=d?m?ur(o[u-1])!==ur(o[u])?0:(o[u-1]+o[u])/2:o[u-1]:o[u]}j_(t,o,a),N_(t,a,e)}function Zo(t,e,n){return Math.max(Math.min(t,n),e)}function S_(t,e){let n,r,o,a,u,d=Si(t[0],e);for(n=0,r=t.length;n<r;++n)u=a,a=d,d=n<r-1&&Si(t[n+1],e),a&&(o=t[n],u&&(o.cp1x=Zo(o.cp1x,e.left,e.right),o.cp1y=Zo(o.cp1y,e.top,e.bottom)),d&&(o.cp2x=Zo(o.cp2x,e.left,e.right),o.cp2y=Zo(o.cp2y,e.top,e.bottom)))}function C_(t,e,n,r,o){let a,u,d,h;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")k_(t,o);else{let m=r?t[t.length-1]:t[0];for(a=0,u=t.length;a<u;++a)d=t[a],h=__(m,d,t[Math.min(a+1,u-(r?0:1))%u],e.tension),d.cp1x=h.previous.x,d.cp1y=h.previous.y,d.cp2x=h.next.x,d.cp2y=h.next.y,m=d}e.capBezierPoints&&S_(t,n)}function Zu(){return typeof window<"u"&&typeof document<"u"}function ed(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ka(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Ba=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function E_(t,e){return Ba(t).getPropertyValue(e)}const P_=["top","right","bottom","left"];function _s(t,e,n){const r={};n=n?"-"+n:"";for(let o=0;o<4;o++){const a=P_[o];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const R_=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function T_(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:o,offsetY:a}=r;let u=!1,d,h;if(R_(o,a,t.target))d=o,h=a;else{const m=e.getBoundingClientRect();d=r.clientX-m.left,h=r.clientY-m.top,u=!0}return{x:d,y:h,box:u}}function gs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,o=Ba(n),a=o.boxSizing==="border-box",u=_s(o,"padding"),d=_s(o,"border","width"),{x:h,y:m,box:g}=T_(t,n),y=u.left+(g&&d.left),b=u.top+(g&&d.top);let{width:w,height:N}=e;return a&&(w-=u.width+d.width,N-=u.height+d.height),{x:Math.round((h-y)/w*n.width/r),y:Math.round((m-b)/N*n.height/r)}}function M_(t,e,n){let r,o;if(e===void 0||n===void 0){const a=t&&ed(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const u=a.getBoundingClientRect(),d=Ba(a),h=_s(d,"border","width"),m=_s(d,"padding");e=u.width-m.width-h.width,n=u.height-m.height-h.height,r=ka(d.maxWidth,a,"clientWidth"),o=ka(d.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||_a,maxHeight:o||_a}}const ea=t=>Math.round(t*10)/10;function D_(t,e,n,r){const o=Ba(t),a=_s(o,"margin"),u=ka(o.maxWidth,t,"clientWidth")||_a,d=ka(o.maxHeight,t,"clientHeight")||_a,h=M_(t,e,n);let{width:m,height:g}=h;if(o.boxSizing==="content-box"){const b=_s(o,"border","width"),w=_s(o,"padding");m-=w.width+b.width,g-=w.height+b.height}return m=Math.max(0,m-a.width),g=Math.max(0,r?m/r:g-a.height),m=ea(Math.min(m,u,h.maxWidth)),g=ea(Math.min(g,d,h.maxHeight)),m&&!g&&(g=ea(m/2)),(e!==void 0||n!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,m=ea(Math.floor(g*r))),{width:m,height:g}}function np(t,e,n){const r=e||1,o=Math.floor(t.height*r),a=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const u=t.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${t.height}px`,u.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||u.height!==o||u.width!==a?(t.currentDevicePixelRatio=r,u.height=o,u.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const A_=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Zu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function sp(t,e){const n=E_(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function xs(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function O_(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function L_(t,e,n,r){const o={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},u=xs(t,o,n),d=xs(o,a,n),h=xs(a,e,n),m=xs(u,d,n),g=xs(d,h,n);return xs(m,g,n)}const F_=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},I_=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function lr(t,e,n){return t?F_(e,n):I_()}function ix(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function ox(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ax(t){return t==="angle"?{between:Vu,compare:I1,normalize:Dt}:{between:_n,compare:(e,n)=>e-n,normalize:e=>e}}function rp({start:t,end:e,count:n,loop:r,style:o}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:o}}function z_(t,e,n){const{property:r,start:o,end:a}=n,{between:u,normalize:d}=ax(r),h=e.length;let{start:m,end:g,loop:y}=t,b,w;if(y){for(m+=h,g+=h,b=0,w=h;b<w&&u(d(e[m%h][r]),o,a);++b)m--,g--;m%=h,g%=h}return g<m&&(g+=h),{start:m,end:g,loop:y,style:t.style}}function lx(t,e,n){if(!n)return[t];const{property:r,start:o,end:a}=n,u=e.length,{compare:d,between:h,normalize:m}=ax(r),{start:g,end:y,loop:b,style:w}=z_(t,e,n),N=[];let j=!1,_=null,R,k,D;const T=()=>h(o,D,R)&&d(o,D)!==0,L=()=>d(a,R)===0||h(a,D,R),V=()=>j||T(),z=()=>!j||L();for(let q=g,Y=g;q<=y;++q)k=e[q%u],!k.skip&&(R=m(k[r]),R!==D&&(j=h(R,o,a),_===null&&V()&&(_=d(R,o)===0?q:Y),_!==null&&z()&&(N.push(rp({start:_,end:q,loop:b,count:u,style:w})),_=null),Y=q,D=R));return _!==null&&N.push(rp({start:_,end:y,loop:b,count:u,style:w})),N}function cx(t,e){const n=[],r=t.segments;for(let o=0;o<r.length;o++){const a=lx(r[o],t.points,e);a.length&&n.push(...a)}return n}function B_(t,e,n,r){let o=0,a=e-1;if(n&&!r)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(a+=o);a>o&&t[a%e].skip;)a--;return a%=e,{start:o,end:a}}function U_(t,e,n,r){const o=t.length,a=[];let u=e,d=t[e],h;for(h=e+1;h<=n;++h){const m=t[h%o];m.skip||m.stop?d.skip||(r=!1,a.push({start:e%o,end:(h-1)%o,loop:r}),e=u=m.stop?h:null):(u=h,d.skip&&(e=h)),d=m}return u!==null&&a.push({start:e%o,end:u%o,loop:r}),a}function $_(t,e){const n=t.points,r=t.options.spanGaps,o=n.length;if(!o)return[];const a=!!t._loop,{start:u,end:d}=B_(n,o,a,r);if(r===!0)return ip(t,[{start:u,end:d,loop:a}],n,e);const h=d<u?d+o:d,m=!!t._fullLoop&&u===0&&d===o-1;return ip(t,U_(n,u,h,m),n,e)}function ip(t,e,n,r){return!r||!r.setContext||!n?e:H_(t,e,n,r)}function H_(t,e,n,r){const o=t._chart.getContext(),a=op(t.options),{_datasetIndex:u,options:{spanGaps:d}}=t,h=n.length,m=[];let g=a,y=e[0].start,b=y;function w(N,j,_,R){const k=d?-1:1;if(N!==j){for(N+=h;n[N%h].skip;)N-=k;for(;n[j%h].skip;)j+=k;N%h!==j%h&&(m.push({start:N%h,end:j%h,loop:_,style:R}),g=R,y=j%h)}}for(const N of e){y=d?y:N.start;let j=n[y%h],_;for(b=y+1;b<=N.end;b++){const R=n[b%h];_=op(r.setContext(Es(o,{type:"segment",p0:j,p1:R,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:u}))),W_(_,g)&&w(y,b-1,N.loop,g),j=R,g=_}y<b-1&&w(y,b-1,N.loop,g)}return m}function op(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function W_(t,e){if(!e)return!1;const n=[],r=function(o,a){return Ku(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function ta(t,e,n){return t.options.clip?t[n]:e[n]}function V_(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:ta(n,e,"left"),right:ta(n,e,"right"),top:ta(r,e,"top"),bottom:ta(r,e,"bottom")}:e}function ux(t,e){const n=e._clip;if(n.disabled)return!1;const r=V_(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class q_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,o){const a=n.listeners[o],u=n.duration;a.forEach(d=>d({chart:e,initial:n.initial,numSteps:u,currentStep:Math.min(r-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Kg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const a=r.items;let u=a.length-1,d=!1,h;for(;u>=0;--u)h=a[u],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),d=!0):(a[u]=a[a.length-1],a.pop());d&&(o.draw(),this._notify(o,r,e,"progress")),a.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bn=new q_;const ap="transparent",Y_={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Qm(t||ap),o=r.valid&&Qm(e||ap);return o&&o.valid?o.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class K_{constructor(e,n,r,o){const a=n[r];o=Jo([e.to,o,a,e.from]);const u=Jo([e.from,a,o]);this._active=!0,this._fn=e.fn||Y_[e.type||typeof u],this._easing=xi[e.easing]||xi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=u,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const o=this._target[this._prop],a=r-this._start,u=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(u,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Jo([e.to,n,o,e.from]),this._from=Jo([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,o=this._prop,a=this._from,u=this._loop,d=this._to;let h;if(this._active=a!==d&&(u||n<r),!this._active){this._target[o]=d,this._notify(!0);return}if(n<0){this._target[o]=a;return}h=n/r%2,h=u&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(a,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][n]()}}class dx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Se(e))return;const n=Object.keys(Ye.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!Se(a))return;const u={};for(const d of n)u[d]=a[d];(Je(a.properties)&&a.properties||[o]).forEach(d=>{(d===o||!r.has(d))&&r.set(d,u)})})}_animateOptions(e,n){const r=n.options,o=Q_(e,r);if(!o)return[];const a=this._createAnimations(o,r);return r.$shared&&X_(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,o=[],a=e.$animations||(e.$animations={}),u=Object.keys(n),d=Date.now();let h;for(h=u.length-1;h>=0;--h){const m=u[h];if(m.charAt(0)==="$")continue;if(m==="options"){o.push(...this._animateOptions(e,n));continue}const g=n[m];let y=a[m];const b=r.get(m);if(y)if(b&&y.active()){y.update(b,g,d);continue}else y.cancel();if(!b||!b.duration){e[m]=g;continue}a[m]=y=new K_(b,e,m,g),o.push(y)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return bn.add(this._chart,r),!0}}function X_(t,e){const n=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const a=t[r[o]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function Q_(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function lp(t,e){const n=t&&t.options||{},r=n.reverse,o=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:o,end:r?o:a}}function G_(t,e,n){if(n===!1)return!1;const r=lp(t,n),o=lp(e,n);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function J_(t){let e,n,r,o;return Se(t)?(e=t.top,n=t.right,r=t.bottom,o=t.left):e=n=r=o=t,{top:e,right:n,bottom:r,left:o,disabled:t===!1}}function fx(t,e){const n=[],r=t._getSortedDatasetMetas(e);let o,a;for(o=0,a=r.length;o<a;++o)n.push(r[o].index);return n}function cp(t,e,n,r={}){const o=t.keys,a=r.mode==="single";let u,d,h,m;if(e===null)return;let g=!1;for(u=0,d=o.length;u<d;++u){if(h=+o[u],h===n){if(g=!0,r.all)continue;break}m=t.values[h],mt(m)&&(a||e===0||ur(e)===ur(m))&&(e+=m)}return!g&&!r.all?0:e}function Z_(t,e){const{iScale:n,vScale:r}=e,o=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",u=Object.keys(t),d=new Array(u.length);let h,m,g;for(h=0,m=u.length;h<m;++h)g=u[h],d[h]={[o]:g,[a]:t[g]};return d}function Jc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ej(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function tj(t){const{min:e,max:n,minDefined:r,maxDefined:o}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function nj(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function up(t,e,n,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const a=t[o.index];if(n&&a>0||!n&&a<0)return o.index}return null}function dp(t,e){const{chart:n,_cachedMeta:r}=t,o=n._stacks||(n._stacks={}),{iScale:a,vScale:u,index:d}=r,h=a.axis,m=u.axis,g=ej(a,u,r),y=e.length;let b;for(let w=0;w<y;++w){const N=e[w],{[h]:j,[m]:_}=N,R=N._stacks||(N._stacks={});b=R[m]=nj(o,g,j),b[d]=_,b._top=up(b,u,!0,r.type),b._bottom=up(b,u,!1,r.type);const k=b._visualValues||(b._visualValues={});k[d]=_}}function Zc(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function sj(t,e){return Es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function rj(t,e,n){return Es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ai(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const o of e){const a=o._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const eu=t=>t==="reset"||t==="none",fp=(t,e)=>e?t:Object.assign({},t),ij=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:fx(n,!0),values:null};class oj{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Jc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ai(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(y,b,w,N)=>y==="x"?b:y==="r"?N:w,a=n.xAxisID=ke(r.xAxisID,Zc(e,"x")),u=n.yAxisID=ke(r.yAxisID,Zc(e,"y")),d=n.rAxisID=ke(r.rAxisID,Zc(e,"r")),h=n.indexAxis,m=n.iAxisID=o(h,a,u,d),g=n.vAxisID=o(h,u,a,d);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ym(this._data,this),e._stacked&&ai(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Se(n)){const o=this._cachedMeta;this._data=Z_(n,o)}else if(r!==n){if(r){Ym(r,this);const o=this._cachedMeta;ai(o),o._parsed=[]}n&&Object.isExtensible(n)&&$1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=n._stacked;n._stacked=Jc(n.vScale,n),n.stack!==r.stack&&(o=!0,ai(n),n.stack=r.stack),this._resyncElements(e),(o||a!==n._stacked)&&(dp(this,n._parsed),n._stacked=Jc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:u}=r,d=a.axis;let h=e===0&&n===o.length?!0:r._sorted,m=e>0&&r._parsed[e-1],g,y,b;if(this._parsing===!1)r._parsed=o,r._sorted=!0,b=o;else{Je(o[e])?b=this.parseArrayData(r,o,e,n):Se(o[e])?b=this.parseObjectData(r,o,e,n):b=this.parsePrimitiveData(r,o,e,n);const w=()=>y[d]===null||m&&y[d]<m[d];for(g=0;g<n;++g)r._parsed[g+e]=y=b[g],h&&(w()&&(h=!1),m=y);r._sorted=h}u&&dp(this,b)}parsePrimitiveData(e,n,r,o){const{iScale:a,vScale:u}=e,d=a.axis,h=u.axis,m=a.getLabels(),g=a===u,y=new Array(o);let b,w,N;for(b=0,w=o;b<w;++b)N=b+r,y[b]={[d]:g||a.parse(m[N],N),[h]:u.parse(n[N],N)};return y}parseArrayData(e,n,r,o){const{xScale:a,yScale:u}=e,d=new Array(o);let h,m,g,y;for(h=0,m=o;h<m;++h)g=h+r,y=n[g],d[h]={x:a.parse(y[0],g),y:u.parse(y[1],g)};return d}parseObjectData(e,n,r,o){const{xScale:a,yScale:u}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,m=new Array(o);let g,y,b,w;for(g=0,y=o;g<y;++g)b=g+r,w=n[b],m[g]={x:a.parse(va(w,d),b),y:u.parse(va(w,h),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const o=this.chart,a=this._cachedMeta,u=n[e.axis],d={keys:fx(o,!0),values:n._stacks[e.axis]._visualValues};return cp(d,u,a.index,{mode:r})}updateRangeFromParsed(e,n,r,o){const a=r[n.axis];let u=a===null?NaN:a;const d=o&&r._stacks[n.axis];o&&d&&(o.values=d,u=cp(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,n){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,u=o.length,d=this._getOtherScale(e),h=ij(n,r,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=tj(d);let b,w;function N(){w=o[b];const j=w[d.axis];return!mt(w[e.axis])||g>j||y<j}for(b=0;b<u&&!(!N()&&(this.updateRangeFromParsed(m,e,w,h),a));++b);if(a){for(b=u-1;b>=0;--b)if(!N()){this.updateRangeFromParsed(m,e,w,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let o,a,u;for(o=0,a=n.length;o<a;++o)u=n[o][e.axis],mt(u)&&r.push(u);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,o=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=J_(ke(this.options.clip,G_(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],a=n.chartArea,u=[],d=this._drawStart||0,h=this._drawCount||o.length-d,m=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,a,d,h),g=d;g<d+h;++g){const y=o[g];y.hidden||(y.active&&m?u.push(y):y.draw(e,a))}for(g=0;g<u.length;++g)u[g].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];a=u.$context||(u.$context=rj(this.getContext(),e,u)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=sj(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const o=n==="active",a=this._cachedDataOpts,u=e+"-"+n,d=a[u],h=this.enableOptionSharing&&wa(r);if(d)return fp(d,h);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),g),w=Object.keys(Ye.elements[e]),N=()=>this.getContext(r,o,n),j=m.resolveNamedOptions(b,w,N,y);return j.$shared&&(j.$shared=h,a[u]=Object.freeze(fp(j,h))),j}_resolveAnimations(e,n,r){const o=this.chart,a=this._cachedDataOpts,u=`animation-${n}`,d=a[u];if(d)return d;let h;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,n),b=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(b,this.getContext(e,r,n))}const m=new dx(o,h&&h.animations);return h&&h._cacheable&&(a[u]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||eu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),o=this._sharedOptions,a=this.getSharedOptions(r),u=this.includeOptions(n,a)||a!==o;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:u}}updateElement(e,n,r,o){eu(o)?Object.assign(e,r):this._resolveAnimations(n,o).update(e,r)}updateSharedOptions(e,n,r){e&&!eu(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,o){e.active=o;const a=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[d,h,m]of this._syncList)this[d](h,m);this._syncList=[];const o=r.length,a=n.length,u=Math.min(a,o);u&&this.parse(0,u),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,n,r=!0){const o=this._cachedMeta,a=o.data,u=e+n;let d;const h=m=>{for(m.length+=n,d=m.length-1;d>=u;d--)m[d]=m[d-n]};for(h(a),d=e;d<u;++d)a[d]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,o){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,n);r._stacked&&ai(r,o)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,o]=e;this[n](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ps(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class td{static override(e){Object.assign(td.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ps()}parse(){return ps()}format(){return ps()}add(){return ps()}diff(){return ps()}startOf(){return ps()}endOf(){return ps()}}var aj={_date:td};function lj(t,e,n,r){const{controller:o,data:a,_sorted:u}=t,d=o._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&u&&a.length){const m=d._reversePixels?B1:ju;if(r){if(o._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const b=m(a,e,n-y),w=m(a,e,n+y);return{lo:b.lo,hi:w.hi}}}}else{const g=m(a,e,n);if(h){const{vScale:y}=o._cachedMeta,{_parsed:b}=t,w=b.slice(0,g.lo+1).reverse().findIndex(j=>!$e(j[y.axis]));g.lo-=Math.max(0,w);const N=b.slice(g.hi).findIndex(j=>!$e(j[y.axis]));g.hi+=Math.max(0,N)}return g}}return{lo:0,hi:a.length-1}}function Ua(t,e,n,r,o){const a=t.getSortedVisibleDatasetMetas(),u=n[e];for(let d=0,h=a.length;d<h;++d){const{index:m,data:g}=a[d],{lo:y,hi:b}=lj(a[d],e,u,o);for(let w=y;w<=b;++w){const N=g[w];N.skip||r(N,m,w)}}}function cj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,o){const a=e?Math.abs(r.x-o.x):0,u=n?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(u,2))}}function tu(t,e,n,r,o){const a=[];return!o&&!t.isPointInArea(e)||Ua(t,n,e,function(d,h,m){!o&&!Si(d,t.chartArea,0)||d.inRange(e.x,e.y,r)&&a.push({element:d,datasetIndex:h,index:m})},!0),a}function uj(t,e,n,r){let o=[];function a(u,d,h){const{startAngle:m,endAngle:g}=u.getProps(["startAngle","endAngle"],r),{angle:y}=qg(u,{x:e.x,y:e.y});Vu(y,m,g)&&o.push({element:u,datasetIndex:d,index:h})}return Ua(t,n,e,a),o}function dj(t,e,n,r,o,a){let u=[];const d=cj(n);let h=Number.POSITIVE_INFINITY;function m(g,y,b){const w=g.inRange(e.x,e.y,o);if(r&&!w)return;const N=g.getCenterPoint(o);if(!(!!a||t.isPointInArea(N))&&!w)return;const _=d(e,N);_<h?(u=[{element:g,datasetIndex:y,index:b}],h=_):_===h&&u.push({element:g,datasetIndex:y,index:b})}return Ua(t,n,e,m),u}function nu(t,e,n,r,o,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?uj(t,e,n,o):dj(t,e,n,r,o,a)}function hp(t,e,n,r,o){const a=[],u=n==="x"?"inXRange":"inYRange";let d=!1;return Ua(t,n,e,(h,m,g)=>{h[u]&&h[u](e[n],o)&&(a.push({element:h,datasetIndex:m,index:g}),d=d||h.inRange(e.x,e.y,o))}),r&&!d?[]:a}var fj={modes:{index(t,e,n,r){const o=gs(e,t),a=n.axis||"x",u=n.includeInvisible||!1,d=n.intersect?tu(t,o,a,r,u):nu(t,o,a,!1,r,u),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=d[0].index,y=m.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:m.index,index:g})}),h):[]},dataset(t,e,n,r){const o=gs(e,t),a=n.axis||"xy",u=n.includeInvisible||!1;let d=n.intersect?tu(t,o,a,r,u):nu(t,o,a,!1,r,u);if(d.length>0){const h=d[0].datasetIndex,m=t.getDatasetMeta(h).data;d=[];for(let g=0;g<m.length;++g)d.push({element:m[g],datasetIndex:h,index:g})}return d},point(t,e,n,r){const o=gs(e,t),a=n.axis||"xy",u=n.includeInvisible||!1;return tu(t,o,a,r,u)},nearest(t,e,n,r){const o=gs(e,t),a=n.axis||"xy",u=n.includeInvisible||!1;return nu(t,o,a,n.intersect,r,u)},x(t,e,n,r){const o=gs(e,t);return hp(t,o,"x",n.intersect,r)},y(t,e,n,r){const o=gs(e,t);return hp(t,o,"y",n.intersect,r)}}};const hx=["left","top","right","bottom"];function li(t,e){return t.filter(n=>n.pos===e)}function mp(t,e){return t.filter(n=>hx.indexOf(n.pos)===-1&&n.box.axis===e)}function ci(t,e){return t.sort((n,r)=>{const o=e?r:n,a=e?n:r;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function hj(t){const e=[];let n,r,o,a,u,d;for(n=0,r=(t||[]).length;n<r;++n)o=t[n],{position:a,options:{stack:u,stackWeight:d=1}}=o,e.push({index:n,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:u&&a+u,stackWeight:d});return e}function mj(t){const e={};for(const n of t){const{stack:r,pos:o,stackWeight:a}=n;if(!r||!hx.includes(o))continue;const u=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=a}return e}function pj(t,e){const n=mj(t),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let a,u,d;for(a=0,u=t.length;a<u;++a){d=t[a];const{fullSize:h}=d.box,m=n[d.stack],g=m&&d.stackWeight/m.weight;d.horizontal?(d.width=g?g*r:h&&e.availableWidth,d.height=o):(d.width=r,d.height=g?g*o:h&&e.availableHeight)}return n}function gj(t){const e=hj(t),n=ci(e.filter(m=>m.box.fullSize),!0),r=ci(li(e,"left"),!0),o=ci(li(e,"right")),a=ci(li(e,"top"),!0),u=ci(li(e,"bottom")),d=mp(e,"x"),h=mp(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:o.concat(h).concat(u).concat(d),chartArea:li(e,"chartArea"),vertical:r.concat(o).concat(h),horizontal:a.concat(u).concat(d)}}function pp(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function mx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xj(t,e,n,r){const{pos:o,box:a}=n,u=t.maxPadding;if(!Se(o)){n.size&&(t[o]-=n.size);const y=r[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,t[o]+=n.size}a.getPadding&&mx(u,a.getPadding());const d=Math.max(0,e.outerWidth-pp(u,t,"left","right")),h=Math.max(0,e.outerHeight-pp(u,t,"top","bottom")),m=d!==t.w,g=h!==t.h;return t.w=d,t.h=h,n.horizontal?{same:m,other:g}:{same:g,other:m}}function yj(t){const e=t.maxPadding;function n(r){const o=Math.max(e[r]-t[r],0);return t[r]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function bj(t,e){const n=e.maxPadding;function r(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(u=>{a[u]=Math.max(e[u],n[u])}),a}return r(t?["left","right"]:["top","bottom"])}function hi(t,e,n,r){const o=[];let a,u,d,h,m,g;for(a=0,u=t.length,m=0;a<u;++a){d=t[a],h=d.box,h.update(d.width||e.w,d.height||e.h,bj(d.horizontal,e));const{same:y,other:b}=xj(e,n,d,r);m|=y&&o.length,g=g||b,h.fullSize||o.push(d)}return m&&hi(o,e,n,r)||g}function na(t,e,n,r,o){t.top=n,t.left=e,t.right=e+r,t.bottom=n+o,t.width=r,t.height=o}function gp(t,e,n,r){const o=n.padding;let{x:a,y:u}=e;for(const d of t){const h=d.box,m=r[d.stack]||{placed:0,weight:1},g=d.stackWeight/m.weight||1;if(d.horizontal){const y=e.w*g,b=m.size||h.height;wa(m.start)&&(u=m.start),h.fullSize?na(h,o.left,u,n.outerWidth-o.right-o.left,b):na(h,e.left+m.placed,u,y,b),m.start=u,m.placed+=y,u=h.bottom}else{const y=e.h*g,b=m.size||h.width;wa(m.start)&&(a=m.start),h.fullSize?na(h,a,o.top,b,n.outerHeight-o.bottom-o.top):na(h,a,e.top+m.placed,b,y),m.start=a,m.placed+=y,a=h.right}}e.x=a,e.y=u}var $t={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const o=Ht(t.options.layout.padding),a=Math.max(e-o.width,0),u=Math.max(n-o.height,0),d=gj(t.boxes),h=d.vertical,m=d.horizontal;Me(t.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const g=h.reduce((j,_)=>_.box.options&&_.box.options.display===!1?j:j+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:a,availableHeight:u,vBoxMaxWidth:a/2/g,hBoxMaxHeight:u/2}),b=Object.assign({},o);mx(b,Ht(r));const w=Object.assign({maxPadding:b,w:a,h:u,x:o.left,y:o.top},o),N=pj(h.concat(m),y);hi(d.fullSize,w,y,N),hi(h,w,y,N),hi(m,w,y,N)&&hi(h,w,y,N),yj(w),gp(d.leftAndTop,w,y,N),w.x+=w.w,w.y+=w.h,gp(d.rightAndBottom,w,y,N),t.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Me(d.chartArea,j=>{const _=j.box;Object.assign(_,t.chartArea),_.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class px{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,o){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):r)}}isAttached(e){return!0}updateConfig(e){}}class vj extends px{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const da="$chartjs",wj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xp=t=>t===null||t==="";function _j(t,e){const n=t.style,r=t.getAttribute("height"),o=t.getAttribute("width");if(t[da]={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xp(o)){const a=sp(t,"width");a!==void 0&&(t.width=a)}if(xp(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=sp(t,"height");a!==void 0&&(t.height=a)}return t}const gx=A_?{passive:!0}:!1;function jj(t,e,n){t&&t.addEventListener(e,n,gx)}function Nj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,gx)}function kj(t,e){const n=wj[t.type]||t.type,{x:r,y:o}=gs(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:o!==void 0?o:null}}function Sa(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Sj(t,e,n){const r=t.canvas,o=new MutationObserver(a=>{let u=!1;for(const d of a)u=u||Sa(d.addedNodes,r),u=u&&!Sa(d.removedNodes,r);u&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function Cj(t,e,n){const r=t.canvas,o=new MutationObserver(a=>{let u=!1;for(const d of a)u=u||Sa(d.removedNodes,r),u=u&&!Sa(d.addedNodes,r);u&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ei=new Map;let yp=0;function xx(){const t=window.devicePixelRatio;t!==yp&&(yp=t,Ei.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Ej(t,e){Ei.size||window.addEventListener("resize",xx),Ei.set(t,e)}function Pj(t){Ei.delete(t),Ei.size||window.removeEventListener("resize",xx)}function Rj(t,e,n){const r=t.canvas,o=r&&ed(r);if(!o)return;const a=Xg((d,h)=>{const m=o.clientWidth;n(d,h),m<o.clientWidth&&n()},window),u=new ResizeObserver(d=>{const h=d[0],m=h.contentRect.width,g=h.contentRect.height;m===0&&g===0||a(m,g)});return u.observe(o),Ej(t,a),u}function su(t,e,n){n&&n.disconnect(),e==="resize"&&Pj(t)}function Tj(t,e,n){const r=t.canvas,o=Xg(a=>{t.ctx!==null&&n(kj(a,t))},t);return jj(r,e,o),o}class Mj extends px{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(_j(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[da])return!1;const r=n[da].initial;["height","width"].forEach(a=>{const u=r[a];$e(u)?n.removeAttribute(a):n.setAttribute(a,u)});const o=r.style||{};return Object.keys(o).forEach(a=>{n.style[a]=o[a]}),n.width=n.width,delete n[da],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),u={attach:Sj,detach:Cj,resize:Rj}[n]||Tj;o[n]=u(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),o=r[n];if(!o)return;({attach:su,detach:su,resize:su}[n]||Nj)(e,n,o),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,o){return D_(e,n,r,o)}isAttached(e){const n=e&&ed(e);return!!(n&&n.isConnected)}}function Dj(t){return!Zu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?vj:Mj}class kn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ja(this.x)&&ja(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const o={};return e.forEach(a=>{o[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),o}}function Aj(t,e){const n=t.options.ticks,r=Oj(t),o=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?Fj(e):[],u=a.length,d=a[0],h=a[u-1],m=[];if(u>o)return Ij(e,m,a,u/o),m;const g=Lj(a,e,o);if(u>0){let y,b;const w=u>1?Math.round((h-d)/(u-1)):null;for(sa(e,m,g,$e(w)?0:d-w,d),y=0,b=u-1;y<b;y++)sa(e,m,g,a[y],a[y+1]);return sa(e,m,g,h,$e(w)?e.length:h+w),m}return sa(e,m,g),m}function Oj(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(r,o))}function Lj(t,e,n){const r=zj(t),o=e.length/n;if(!r)return Math.max(o,1);const a=D1(r);for(let u=0,d=a.length-1;u<d;u++){const h=a[u];if(h>o)return h}return Math.max(o,1)}function Fj(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Ij(t,e,n,r){let o=0,a=n[0],u;for(r=Math.ceil(r),u=0;u<t.length;u++)u===a&&(e.push(t[u]),o++,a=n[o*r])}function sa(t,e,n,r,o){const a=ke(r,0),u=Math.min(ke(o,t.length),t.length);let d=0,h,m,g;for(n=Math.ceil(n),o&&(h=o-r,n=h/Math.floor(h/n)),g=a;g<0;)d++,g=Math.round(a+d*n);for(m=Math.max(a,0);m<u;m++)m===g&&(e.push(t[m]),d++,g=Math.round(a+d*n))}function zj(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Bj=t=>t==="left"?"right":t==="right"?"left":t,bp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,vp=(t,e)=>Math.min(e||t,t);function wp(t,e){const n=[],r=t.length/e,o=t.length;let a=0;for(;a<o;a+=r)n.push(t[Math.floor(a)]);return n}function Uj(t,e,n){const r=t.ticks.length,o=Math.min(e,r-1),a=t._startPixel,u=t._endPixel,d=1e-6;let h=t.getPixelForTick(o),m;if(!(n&&(r===1?m=Math.max(h-a,u-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(o-1))/2,h+=o<e?m:-m,h<a-d||h>u+d)))return h}function $j(t,e){Me(t,n=>{const r=n.gc,o=r.length/2;let a;if(o>e){for(a=0;a<o;++a)delete n.data[r[a]];r.splice(0,o)}})}function ui(t){return t.drawTicks?t.tickLength:0}function _p(t,e){if(!t.display)return 0;const n=ht(t.font,e),r=Ht(t.padding);return(Je(t.text)?t.text.length:1)*n.lineHeight+r.height}function Hj(t,e){return Es(t,{scale:e,type:"scale"})}function Wj(t,e,n){return Es(t,{tick:n,index:e,type:"tick"})}function Vj(t,e,n){let r=Yu(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Bj(r)),r}function qj(t,e,n,r){const{top:o,left:a,bottom:u,right:d,chart:h}=t,{chartArea:m,scales:g}=h;let y=0,b,w,N;const j=u-o,_=d-a;if(t.isHorizontal()){if(w=dt(r,a,d),Se(n)){const R=Object.keys(n)[0],k=n[R];N=g[R].getPixelForValue(k)+j-e}else n==="center"?N=(m.bottom+m.top)/2+j-e:N=bp(t,n,e);b=d-a}else{if(Se(n)){const R=Object.keys(n)[0],k=n[R];w=g[R].getPixelForValue(k)-_+e}else n==="center"?w=(m.left+m.right)/2-_+e:w=bp(t,n,e);N=dt(r,u,o),y=n==="left"?-it:it}return{titleX:w,titleY:N,maxWidth:b,rotation:y}}class br extends kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:o}=this;return e=rn(e,Number.POSITIVE_INFINITY),n=rn(n,Number.NEGATIVE_INFINITY),r=rn(r,Number.POSITIVE_INFINITY),o=rn(o,Number.NEGATIVE_INFINITY),{min:rn(e,r),max:rn(n,o),minDefined:mt(e),maxDefined:mt(n)}}getMinMax(e){let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds(),u;if(o&&a)return{min:n,max:r};const d=this.getMatchingVisibleMetas();for(let h=0,m=d.length;h<m;++h)u=d[h].controller.getMinMax(this,e),o||(n=Math.min(n,u.min)),a||(r=Math.max(r,u.max));return n=a&&n>r?r:n,r=o&&n>r?n:r,{min:rn(n,rn(r,n)),max:rn(r,rn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:o,grace:a,ticks:u}=this.options,d=u.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=d_(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?wp(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=Aj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fe(this.options.afterUpdate,[this])}beforeSetDimensions(){Fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Fe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,o,a;for(r=0,o=e.length;r<o;r++)a=e[r],a.label=Fe(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=vp(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,a=n.maxRotation;let u=o,d,h,m;if(!this._isVisible()||!n.display||o>=a||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,b=g.highest.height,w=kt(this.chart.width-y,0,this.maxWidth);d=e.offset?this.maxWidth/r:w/(r-1),y+6>d&&(d=w/(r-(e.offset?.5:1)),h=this.maxHeight-ui(e.grid)-n.padding-_p(e.title,this.chart.options.font),m=Math.sqrt(y*y+b*b),u=F1(Math.min(Math.asin(kt((g.highest.height+6)/d,-1,1)),Math.asin(kt(h/m,-1,1))-Math.asin(kt(b/m,-1,1)))),u=Math.max(o,Math.min(a,u))),this.labelRotation=u}afterCalculateLabelRotation(){Fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:o,grid:a}}=this,u=this._isVisible(),d=this.isHorizontal();if(u){const h=_p(o,n.options.font);if(d?(e.width=this.maxWidth,e.height=ui(a)+h):(e.height=this.maxHeight,e.width=ui(a)+h),r.display&&this.ticks.length){const{first:m,last:g,widest:y,highest:b}=this._getLabelSizes(),w=r.padding*2,N=vs(this.labelRotation),j=Math.cos(N),_=Math.sin(N);if(d){const R=r.mirror?0:_*y.width+j*b.height;e.height=Math.min(this.maxHeight,e.height+R+w)}else{const R=r.mirror?0:j*y.width+_*b.height;e.width=Math.min(this.maxWidth,e.width+R+w)}this._calculatePadding(m,g,_,j)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,o){const{ticks:{align:a,padding:u},position:d}=this.options,h=this.labelRotation!==0,m=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;h?m?(b=o*e.width,w=r*n.height):(b=r*e.height,w=o*n.width):a==="start"?w=n.width:a==="end"?b=e.width:a!=="inner"&&(b=e.width/2,w=n.width/2),this.paddingLeft=Math.max((b-g+u)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-y+u)*this.width/(this.width-y),0)}else{let g=n.height/2,y=e.height/2;a==="start"?(g=0,y=e.height):a==="end"&&(g=n.height,y=0),this.paddingTop=g+u,this.paddingBottom=y+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)$e(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=wp(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:o,_longestTextCache:a}=this,u=[],d=[],h=Math.floor(n/vp(n,r));let m=0,g=0,y,b,w,N,j,_,R,k,D,T,L;for(y=0;y<n;y+=h){if(N=e[y].label,j=this._resolveTickFontOptions(y),o.font=_=j.string,R=a[_]=a[_]||{data:{},gc:[]},k=j.lineHeight,D=T=0,!$e(N)&&!Je(N))D=Jm(o,R.data,R.gc,D,N),T=k;else if(Je(N))for(b=0,w=N.length;b<w;++b)L=N[b],!$e(L)&&!Je(L)&&(D=Jm(o,R.data,R.gc,D,L),T+=k);u.push(D),d.push(T),m=Math.max(D,m),g=Math.max(T,g)}$j(a,n);const V=u.indexOf(m),z=d.indexOf(g),q=Y=>({width:u[Y]||0,height:d[Y]||0});return{first:q(0),last:q(n-1),widest:q(V),highest:q(z),widths:u,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return z1(this._alignToPixels?ms(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Wj(this.getContext(),e,r))}return this.$context||(this.$context=Hj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=vs(this.labelRotation),r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),a=this._getLabelSizes(),u=e.autoSkipPadding||0,d=a?a.widest.width+u:0,h=a?a.highest.height+u:0;return this.isHorizontal()?h*r>d*o?d/r:h/o:h*o<d*r?h/r:d/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,o=this.options,{grid:a,position:u,border:d}=o,h=a.offset,m=this.isHorizontal(),y=this.ticks.length+(h?1:0),b=ui(a),w=[],N=d.setContext(this.getContext()),j=N.display?N.width:0,_=j/2,R=function(me){return ms(r,me,j)};let k,D,T,L,V,z,q,Y,se,re,F,X;if(u==="top")k=R(this.bottom),z=this.bottom-b,Y=k-_,re=R(e.top)+_,X=e.bottom;else if(u==="bottom")k=R(this.top),re=e.top,X=R(e.bottom)-_,z=k+_,Y=this.top+b;else if(u==="left")k=R(this.right),V=this.right-b,q=k-_,se=R(e.left)+_,F=e.right;else if(u==="right")k=R(this.left),se=e.left,F=R(e.right)-_,V=k+_,q=this.left+b;else if(n==="x"){if(u==="center")k=R((e.top+e.bottom)/2+.5);else if(Se(u)){const me=Object.keys(u)[0],ue=u[me];k=R(this.chart.scales[me].getPixelForValue(ue))}re=e.top,X=e.bottom,z=k+_,Y=z+b}else if(n==="y"){if(u==="center")k=R((e.left+e.right)/2);else if(Se(u)){const me=Object.keys(u)[0],ue=u[me];k=R(this.chart.scales[me].getPixelForValue(ue))}V=k-_,q=V-b,se=e.left,F=e.right}const ne=ke(o.ticks.maxTicksLimit,y),ce=Math.max(1,Math.ceil(y/ne));for(D=0;D<y;D+=ce){const me=this.getContext(D),ue=a.setContext(me),G=d.setContext(me),te=ue.lineWidth,P=ue.color,E=G.dash||[],U=G.dashOffset,A=ue.tickWidth,H=ue.tickColor,ae=ue.tickBorderDash||[],xe=ue.tickBorderDashOffset;T=Uj(this,D,h),T!==void 0&&(L=ms(r,T,te),m?V=q=se=F=L:z=Y=re=X=L,w.push({tx1:V,ty1:z,tx2:q,ty2:Y,x1:se,y1:re,x2:F,y2:X,width:te,color:P,borderDash:E,borderDashOffset:U,tickWidth:A,tickColor:H,tickBorderDash:ae,tickBorderDashOffset:xe}))}return this._ticksLength=y,this._borderValue=k,w}_computeLabelItems(e){const n=this.axis,r=this.options,{position:o,ticks:a}=r,u=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:m,padding:g,mirror:y}=a,b=ui(r.grid),w=b+g,N=y?-g:w,j=-vs(this.labelRotation),_=[];let R,k,D,T,L,V,z,q,Y,se,re,F,X="middle";if(o==="top")V=this.bottom-N,z=this._getXAxisLabelAlignment();else if(o==="bottom")V=this.top+N,z=this._getXAxisLabelAlignment();else if(o==="left"){const ce=this._getYAxisLabelAlignment(b);z=ce.textAlign,L=ce.x}else if(o==="right"){const ce=this._getYAxisLabelAlignment(b);z=ce.textAlign,L=ce.x}else if(n==="x"){if(o==="center")V=(e.top+e.bottom)/2+w;else if(Se(o)){const ce=Object.keys(o)[0],me=o[ce];V=this.chart.scales[ce].getPixelForValue(me)+w}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")L=(e.left+e.right)/2-w;else if(Se(o)){const ce=Object.keys(o)[0],me=o[ce];L=this.chart.scales[ce].getPixelForValue(me)}z=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(h==="start"?X="top":h==="end"&&(X="bottom"));const ne=this._getLabelSizes();for(R=0,k=d.length;R<k;++R){D=d[R],T=D.label;const ce=a.setContext(this.getContext(R));q=this.getPixelForTick(R)+a.labelOffset,Y=this._resolveTickFontOptions(R),se=Y.lineHeight,re=Je(T)?T.length:1;const me=re/2,ue=ce.color,G=ce.textStrokeColor,te=ce.textStrokeWidth;let P=z;u?(L=q,z==="inner"&&(R===k-1?P=this.options.reverse?"left":"right":R===0?P=this.options.reverse?"right":"left":P="center"),o==="top"?m==="near"||j!==0?F=-re*se+se/2:m==="center"?F=-ne.highest.height/2-me*se+se:F=-ne.highest.height+se/2:m==="near"||j!==0?F=se/2:m==="center"?F=ne.highest.height/2-me*se:F=ne.highest.height-re*se,y&&(F*=-1),j!==0&&!ce.showLabelBackdrop&&(L+=se/2*Math.sin(j))):(V=q,F=(1-re)*se/2);let E;if(ce.showLabelBackdrop){const U=Ht(ce.backdropPadding),A=ne.heights[R],H=ne.widths[R];let ae=F-U.top,xe=0-U.left;switch(X){case"middle":ae-=A/2;break;case"bottom":ae-=A;break}switch(z){case"center":xe-=H/2;break;case"right":xe-=H;break;case"inner":R===k-1?xe-=H:R>0&&(xe-=H/2);break}E={left:xe,top:ae,width:H+U.width,height:A+U.height,color:ce.backdropColor}}_.push({label:T,font:Y,textOffset:F,options:{rotation:j,color:ue,strokeColor:G,strokeWidth:te,textAlign:P,textBaseline:X,translation:[L,V],backdrop:E}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-vs(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:o,padding:a}}=this.options,u=this._getLabelSizes(),d=e+a,h=u.widest.width;let m,g;return n==="left"?o?(g=this.right+a,r==="near"?m="left":r==="center"?(m="center",g+=h/2):(m="right",g+=h)):(g=this.right-d,r==="near"?m="right":r==="center"?(m="center",g-=h/2):(m="left",g=this.left)):n==="right"?o?(g=this.left+a,r==="near"?m="right":r==="center"?(m="center",g-=h/2):(m="left",g-=h)):(g=this.left+d,r==="near"?m="left":r==="center"?(m="center",g+=h/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:o,width:a,height:u}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,o,a,u),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,u;const d=(h,m,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(m.x,m.y),r.stroke(),r.restore())};if(n.display)for(a=0,u=o.length;a<u;++a){const h=o[a];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:o}}=this,a=r.setContext(this.getContext()),u=r.display?a.width:0;if(!u)return;const d=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,g,y,b;this.isHorizontal()?(m=ms(e,this.left,u)-u/2,g=ms(e,this.right,d)+d/2,y=b=h):(y=ms(e,this.top,u)-u/2,b=ms(e,this.bottom,d)+d/2,m=g=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(m,y),n.lineTo(g,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&Ia(r,o);const a=this.getLabelItems(e);for(const u of a){const d=u.options,h=u.font,m=u.label,g=u.textOffset;Ci(r,m,0,g,h,d)}o&&za(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:o}}=this;if(!r.display)return;const a=ht(r.font),u=Ht(r.padding),d=r.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||Se(n)?(h+=u.bottom,Je(r.text)&&(h+=a.lineHeight*(r.text.length-1))):h+=u.top;const{titleX:m,titleY:g,maxWidth:y,rotation:b}=qj(this,h,n,d);Ci(e,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:b,textAlign:Vj(d,n,o),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ke(e.grid&&e.grid.z,-1),o=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==br.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let a,u;for(a=0,u=n.length;a<u;++a){const d=n[a];d[r]===this.id&&(!e||d.type===e)&&o.push(d)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ht(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ra{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Xj(n)&&(r=this.register(n));const o=this.items,a=e.id,u=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,Yj(e,u,r),this.override&&Ye.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,o=this.scope;r in n&&delete n[r],o&&r in Ye[o]&&(delete Ye[o][r],this.override&&delete Ss[r])}}function Yj(t,e,n){const r=ki(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,r),t.defaultRoutes&&Kj(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function Kj(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),o=r.pop(),a=[t].concat(r).join("."),u=e[n].split("."),d=u.pop(),h=u.join(".");Ye.route(a,o,h,d)})}function Xj(t){return"id"in t&&"defaults"in t}class Qj{constructor(){this.controllers=new ra(oj,"datasets",!0),this.elements=new ra(kn,"elements"),this.plugins=new ra(Object,"plugins"),this.scales=new ra(br,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(o=>{const a=r||this._getRegistryForType(o);r||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):Me(o,u=>{const d=r||this._getRegistryForType(u);this._exec(e,d,u)})})}_exec(e,n,r){const o=Wu(e);Fe(r["before"+o],[],r),n[e](r),Fe(r["after"+o],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var an=new Qj;class Gj{constructor(){this._init=[]}notify(e,n,r,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=o?this._descriptors(e).filter(o):this._descriptors(e),u=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),u}_notify(e,n,r,o){o=o||{};for(const a of e){const u=a.plugin,d=u[r],h=[n,o,a.options];if(Fe(d,h,u)===!1&&o.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,o=ke(r.options&&r.options.plugins,{}),a=Jj(r);return o===!1&&!n?[]:e2(e,a,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,o=(a,u)=>a.filter(d=>!u.some(h=>d.plugin.id===h.plugin.id));this._notify(o(n,r),e,"stop"),this._notify(o(r,n),e,"start")}}function Jj(t){const e={},n=[],r=Object.keys(an.plugins.items);for(let a=0;a<r.length;a++)n.push(an.getPlugin(r[a]));const o=t.plugins||[];for(let a=0;a<o.length;a++){const u=o[a];n.indexOf(u)===-1&&(n.push(u),e[u.id]=!0)}return{plugins:n,localIds:e}}function Zj(t,e){return!e&&t===!1?null:t===!0?{}:t}function e2(t,{plugins:e,localIds:n},r,o){const a=[],u=t.getContext();for(const d of e){const h=d.id,m=Zj(r[h],o);m!==null&&a.push({plugin:d,options:t2(t.config,{plugin:d,local:n[h]},m,u)})}return a}function t2(t,{plugin:e,local:n},r,o){const a=t.pluginScopeKeys(e),u=t.getOptionScopes(r,a);return n&&e.defaults&&u.push(e.defaults),t.createResolver(u,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Su(t,e){const n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function n2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function s2(t,e){return t===e?"_index_":"_value_"}function jp(t){if(t==="x"||t==="y"||t==="r")return t}function r2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Cu(t,...e){if(jp(t))return t;for(const n of e){const r=n.axis||r2(n.position)||t.length>1&&jp(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Np(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function i2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Np(t,"x",n[0])||Np(t,"y",n[0])}return{}}function o2(t,e){const n=Ss[t.type]||{scales:{}},r=e.scales||{},o=Su(t.type,e),a=Object.create(null);return Object.keys(r).forEach(u=>{const d=r[u];if(!Se(d))return console.error(`Invalid scale configuration for scale: ${u}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const h=Cu(u,d,i2(u,t),Ye.scales[d.type]),m=s2(h,o),g=n.scales||{};a[u]=pi(Object.create(null),[{axis:h},d,g[h],g[m]])}),t.data.datasets.forEach(u=>{const d=u.type||t.type,h=u.indexAxis||Su(d,e),g=(Ss[d]||{}).scales||{};Object.keys(g).forEach(y=>{const b=n2(y,h),w=u[b+"AxisID"]||b;a[w]=a[w]||Object.create(null),pi(a[w],[{axis:b},r[w],g[y]])})}),Object.keys(a).forEach(u=>{const d=a[u];pi(d,[Ye.scales[d.type],Ye.scale])}),a}function yx(t){const e=t.options||(t.options={});e.plugins=ke(e.plugins,{}),e.scales=o2(t,e)}function bx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function a2(t){return t=t||{},t.data=bx(t.data),yx(t),t}const kp=new Map,vx=new Set;function ia(t,e){let n=kp.get(t);return n||(n=e(),kp.set(t,n),vx.add(n)),n}const di=(t,e,n)=>{const r=va(e,n);r!==void 0&&t.add(r)};class l2{constructor(e){this._config=a2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ia(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ia(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ia(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ia(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let o=r.get(e);return(!o||n)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,n,r){const{options:o,type:a}=this,u=this._cachedScopes(e,r),d=u.get(n);if(d)return d;const h=new Set;n.forEach(g=>{e&&(h.add(e),g.forEach(y=>di(h,e,y))),g.forEach(y=>di(h,o,y)),g.forEach(y=>di(h,Ss[a]||{},y)),g.forEach(y=>di(h,Ye,y)),g.forEach(y=>di(h,Nu,y))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),vx.has(n)&&u.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ss[n]||{},Ye.datasets[n]||{},{type:n},Ye,Nu]}resolveNamedOptions(e,n,r,o=[""]){const a={$shared:!0},{resolver:u,subPrefixes:d}=Sp(this._resolverCache,e,o);let h=u;if(u2(u,n)){a.$shared=!1,r=Gn(r)?r():r;const m=this.createResolver(e,r,d);h=dr(u,r,m)}for(const m of n)a[m]=h[m];return a}createResolver(e,n,r=[""],o){const{resolver:a}=Sp(this._resolverCache,e,r);return Se(n)?dr(a,n,void 0,o):a}}function Sp(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const o=n.join();let a=r.get(o);return a||(a={resolver:Qu(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},r.set(o,a)),a}const c2=t=>Se(t)&&Object.getOwnPropertyNames(t).some(e=>Gn(t[e]));function u2(t,e){const{isScriptable:n,isIndexable:r}=ex(t);for(const o of e){const a=n(o),u=r(o),d=(u||a)&&t[o];if(a&&(Gn(d)||c2(d))||u&&Je(d))return!0}return!1}var d2="4.5.0";const f2=["top","bottom","left","right","chartArea"];function Cp(t,e){return t==="top"||t==="bottom"||f2.indexOf(t)===-1&&e==="x"}function Ep(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Pp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Fe(n&&n.onComplete,[t],e)}function h2(t){const e=t.chart,n=e.options.animation;Fe(n&&n.onProgress,[t],e)}function wx(t){return Zu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const fa={},Rp=t=>{const e=wx(t);return Object.values(fa).filter(n=>n.canvas===e).pop()};function m2(t,e,n){const r=Object.keys(t);for(const o of r){const a=+o;if(a>=e){const u=t[o];delete t[o],(n>0||a>e)&&(t[a+n]=u)}}}function p2(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}class _x{static defaults=Ye;static instances=fa;static overrides=Ss;static registry=an;static version=d2;static getChart=Rp;static register(...e){an.add(...e),Tp()}static unregister(...e){an.remove(...e),Tp()}constructor(e,n){const r=this.config=new l2(n),o=wx(e),a=Rp(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const u=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Dj(o)),this.platform.updateConfig(r);const d=this.platform.acquireContext(o,u.aspectRatio),h=d&&d.canvas,m=h&&h.height,g=h&&h.width;if(this.id=N1(),this.ctx=d,this.canvas=h,this.width=g,this.height=m,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Gj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=W1(y=>this.update(y),u.resizeDelay||0),this._dataChanges=[],fa[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}bn.listen(this,"complete",Pp),bn.listen(this,"progress",h2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:o,_aspectRatio:a}=this;return $e(e)?n&&a?a:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return an}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():np(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zm(this.canvas,this.ctx),this}stop(){return bn.stop(this),this}resize(e,n){bn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(o,e,n,a),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,np(this,d,!0)&&(this.notifyPlugins("resize",{size:u}),Fe(r.onResize,[this,u],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Me(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,o=Object.keys(r).reduce((u,d)=>(u[d]=!1,u),{});let a=[];n&&(a=a.concat(Object.keys(n).map(u=>{const d=n[u],h=Cu(u,d),m=h==="r",g=h==="x";return{options:d,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),Me(a,u=>{const d=u.options,h=d.id,m=Cu(h,d),g=ke(d.type,u.dtype);(d.position===void 0||Cp(d.position,m)!==Cp(u.dposition))&&(d.position=u.dposition),o[h]=!0;let y=null;if(h in r&&r[h].type===g)y=r[h];else{const b=an.getScale(g);y=new b({id:h,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(d,e)}),Me(o,(u,d)=>{u||delete r[d]}),Me(r,u=>{$t.configure(this,u,u.options),$t.addBox(this,u)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((o,a)=>o.index-a.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Ep("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,o)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){const a=n[r];let u=this.getDatasetMeta(r);const d=a.type||this.config.type;if(u.type&&u.type!==d&&(this._destroyDatasetMeta(r),u=this.getDatasetMeta(r)),u.type=d,u.indexAxis=a.indexAxis||Su(d,this.options),u.order=a.order||0,u.index=r,u.label=""+a.label,u.visible=this.isDatasetVisible(r),u.controller)u.controller.updateIndex(r),u.controller.linkScales();else{const h=an.getController(d),{datasetElementType:m,dataElementType:g}=Ye.datasets[d];Object.assign(h,{dataElementType:an.getElement(g),datasetElementType:m&&an.getElement(m)}),u.controller=new h(this,r),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){Me(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:y}=this.getDatasetMeta(m),b=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(b),u=Math.max(+y.getMaxOverflow(),u)}u=this._minPadding=r.layout.autoPadding?u:0,this._updateLayout(u),o||Me(a,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ep("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Me(this.scales,e=>{$t.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Hm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:a}of n){const u=r==="_removeElements"?-a:a;m2(e,o,u)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(u=>u[0]===a).map((u,d)=>d+","+u.splice(1).join(","))),o=r(0);for(let a=1;a<n;a++)if(!Hm(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$t.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Me(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Gn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bn.has(this)?this.attached&&!bn.running(this)&&bn.start(this):(this.draw(),Pp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let o,a;for(o=0,a=n.length;o<a;++o){const u=n[o];(!e||u.visible)&&r.push(u)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=ux(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&Ia(n,o),e.controller.draw(),o&&za(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Si(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,o){const a=fj.modes[n];return typeof a=="function"?a(this,e,r,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let o=r.filter(a=>a&&a._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const o=r?"show":"hide",a=this.getDatasetMeta(e),u=a.controller._resolveAnimations(void 0,o);wa(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),u.update(a,{visible:r}),this.update(d=>d.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Zm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete fa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,u)=>{n.addEventListener(this,a,u),e[a]=u},o=(a,u,d)=>{a.offsetX=u,a.offsetY=d,this._eventHandler(a)};Me(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},o=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},a=(h,m)=>{this.canvas&&this.resize(h,m)};let u;const d=()=>{o("attach",d),this.attached=!0,this.resize(),r("resize",a),r("detach",u)};u=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",d)},n.isAttached(this.canvas)?d():u()}unbindEvents(){Me(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Me(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const o=r?"set":"remove";let a,u,d,h;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){u=e[d];const m=u&&this.getDatasetMeta(u.datasetIndex).controller;m&&m[o+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:u})=>{const d=this.getDatasetMeta(a);if(!d)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:d.data[u],index:u}});!ya(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const o=this.options.hover,a=(h,m)=>h.filter(g=>!m.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),u=a(n,e),d=r?e:a(e,n);u.length&&this.updateHoverStyle(u,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=u=>(u.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:o=[],options:a}=this,u=n,d=this._getActiveElements(e,o,r,u),h=R1(e),m=p2(e,this._lastEvent,r,h);r&&(this._lastEvent=null,Fe(a.onHover,[e,d,this],this),h&&Fe(a.onClick,[e,d,this],this));const g=!ya(d,o);return(g||n)&&(this._active=d,this._updateHoverStyles(d,o,n)),this._lastEvent=m,g}_getActiveElements(e,n,r,o){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}}function Tp(){return Me(_x.instances,t=>t._plugins.invalidate())}function g2(t,e,n){const{startAngle:r,x:o,y:a,outerRadius:u,innerRadius:d,options:h}=e,{borderWidth:m,borderJoinStyle:g}=h,y=Math.min(m/u,Dt(r-n));if(t.beginPath(),t.arc(o,a,u-m/2,r+y/2,n-y/2),d>0){const b=Math.min(m/d,Dt(r-n));t.arc(o,a,d+m/2,n-b/2,r+b/2,!0)}else{const b=Math.min(m/2,u*Dt(r-n));if(g==="round")t.arc(o,a,b,n-De/2,r+De/2,!0);else if(g==="bevel"){const w=2*b*b,N=-w*Math.cos(n+De/2)+o,j=-w*Math.sin(n+De/2)+a,_=w*Math.cos(r+De/2)+o,R=w*Math.sin(r+De/2)+a;t.lineTo(N,j),t.lineTo(_,R)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function x2(t,e,n){const{startAngle:r,pixelMargin:o,x:a,y:u,outerRadius:d,innerRadius:h}=e;let m=o/d;t.beginPath(),t.arc(a,u,d,r-m,n+m),h>o?(m=o/h,t.arc(a,u,h,n+m,r-m,!0)):t.arc(a,u,o,n+it,r-it),t.closePath(),t.clip()}function y2(t){return Xu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function b2(t,e,n,r){const o=y2(t.options.borderRadius),a=(n-e)/2,u=Math.min(a,r*e/2),d=h=>{const m=(n-Math.min(a,h))*r/2;return kt(h,0,Math.min(a,m))};return{outerStart:d(o.outerStart),outerEnd:d(o.outerEnd),innerStart:kt(o.innerStart,0,u),innerEnd:kt(o.innerEnd,0,u)}}function rr(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ca(t,e,n,r,o,a){const{x:u,y:d,startAngle:h,pixelMargin:m,innerRadius:g}=e,y=Math.max(e.outerRadius+r+n-m,0),b=g>0?g+r+n+m:0;let w=0;const N=o-h;if(r){const ce=g>0?g-r:0,me=y>0?y-r:0,ue=(ce+me)/2,G=ue!==0?N*ue/(ue+r):N;w=(N-G)/2}const j=Math.max(.001,N*y-n/De)/y,_=(N-j)/2,R=h+_+w,k=o-_-w,{outerStart:D,outerEnd:T,innerStart:L,innerEnd:V}=b2(e,b,y,k-R),z=y-D,q=y-T,Y=R+D/z,se=k-T/q,re=b+L,F=b+V,X=R+L/re,ne=k-V/F;if(t.beginPath(),a){const ce=(Y+se)/2;if(t.arc(u,d,y,Y,ce),t.arc(u,d,y,ce,se),T>0){const te=rr(q,se,u,d);t.arc(te.x,te.y,T,se,k+it)}const me=rr(F,k,u,d);if(t.lineTo(me.x,me.y),V>0){const te=rr(F,ne,u,d);t.arc(te.x,te.y,V,k+it,ne+Math.PI)}const ue=(k-V/b+(R+L/b))/2;if(t.arc(u,d,b,k-V/b,ue,!0),t.arc(u,d,b,ue,R+L/b,!0),L>0){const te=rr(re,X,u,d);t.arc(te.x,te.y,L,X+Math.PI,R-it)}const G=rr(z,R,u,d);if(t.lineTo(G.x,G.y),D>0){const te=rr(z,Y,u,d);t.arc(te.x,te.y,D,R-it,Y)}}else{t.moveTo(u,d);const ce=Math.cos(Y)*y+u,me=Math.sin(Y)*y+d;t.lineTo(ce,me);const ue=Math.cos(se)*y+u,G=Math.sin(se)*y+d;t.lineTo(ue,G)}t.closePath()}function v2(t,e,n,r,o){const{fullCircles:a,startAngle:u,circumference:d}=e;let h=e.endAngle;if(a){Ca(t,e,n,r,h,o);for(let m=0;m<a;++m)t.fill();isNaN(d)||(h=u+(d%nt||nt))}return Ca(t,e,n,r,h,o),t.fill(),h}function w2(t,e,n,r,o){const{fullCircles:a,startAngle:u,circumference:d,options:h}=e,{borderWidth:m,borderJoinStyle:g,borderDash:y,borderDashOffset:b,borderRadius:w}=h,N=h.borderAlign==="inner";if(!m)return;t.setLineDash(y||[]),t.lineDashOffset=b,N?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let j=e.endAngle;if(a){Ca(t,e,n,r,j,o);for(let _=0;_<a;++_)t.stroke();isNaN(d)||(j=u+(d%nt||nt))}N&&x2(t,e,j),h.selfJoin&&j-u>=De&&w===0&&g!=="miter"&&g2(t,e,j),a||(Ca(t,e,n,r,j,o),t.stroke())}class _2 extends kn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const o=this.getProps(["x","y"],r),{angle:a,distance:u}=qg(o,{x:e,y:n}),{startAngle:d,endAngle:h,innerRadius:m,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,w=ke(y,h-d),N=Vu(a,d,h)&&d!==h,j=w>=nt||N,_=_n(u,m+b,g+b);return j&&_}getCenterPoint(e){const{x:n,y:r,startAngle:o,endAngle:a,innerRadius:u,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,g=(o+a)/2,y=(u+d+m+h)/2;return{x:n+Math.cos(g)*y,y:r+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,o=(n.offset||0)/4,a=(n.spacing||0)/2,u=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>nt?Math.floor(r/nt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*o,Math.sin(d)*o);const h=1-Math.sin(Math.min(De,r||0)),m=o*h;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,v2(e,this,m,a,u),w2(e,this,m,a,u),e.restore()}}function jx(t,e,n=e){t.lineCap=ke(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ke(n.borderDash,e.borderDash)),t.lineDashOffset=ke(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ke(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ke(n.borderWidth,e.borderWidth),t.strokeStyle=ke(n.borderColor,e.borderColor)}function j2(t,e,n){t.lineTo(n.x,n.y)}function N2(t){return t.stepped?n_:t.tension||t.cubicInterpolationMode==="monotone"?s_:j2}function Nx(t,e,n={}){const r=t.length,{start:o=0,end:a=r-1}=n,{start:u,end:d}=e,h=Math.max(o,u),m=Math.min(a,d),g=o<u&&a<u||o>d&&a>d;return{count:r,start:h,loop:e.loop,ilen:m<h&&!g?r+m-h:m-h}}function k2(t,e,n,r){const{points:o,options:a}=e,{count:u,start:d,loop:h,ilen:m}=Nx(o,n,r),g=N2(a);let{move:y=!0,reverse:b}=r||{},w,N,j;for(w=0;w<=m;++w)N=o[(d+(b?m-w:w))%u],!N.skip&&(y?(t.moveTo(N.x,N.y),y=!1):g(t,j,N,b,a.stepped),j=N);return h&&(N=o[(d+(b?m:0))%u],g(t,j,N,b,a.stepped)),!!h}function S2(t,e,n,r){const o=e.points,{count:a,start:u,ilen:d}=Nx(o,n,r),{move:h=!0,reverse:m}=r||{};let g=0,y=0,b,w,N,j,_,R;const k=T=>(u+(m?d-T:T))%a,D=()=>{j!==_&&(t.lineTo(g,_),t.lineTo(g,j),t.lineTo(g,R))};for(h&&(w=o[k(0)],t.moveTo(w.x,w.y)),b=0;b<=d;++b){if(w=o[k(b)],w.skip)continue;const T=w.x,L=w.y,V=T|0;V===N?(L<j?j=L:L>_&&(_=L),g=(y*g+T)/++y):(D(),t.lineTo(T,L),N=V,y=0,j=_=L),R=L}D()}function Eu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?S2:k2}function C2(t){return t.stepped?O_:t.tension||t.cubicInterpolationMode==="monotone"?L_:xs}function E2(t,e,n,r){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,r)&&o.closePath()),jx(t,e.options),t.stroke(o)}function P2(t,e,n,r){const{segments:o,options:a}=e,u=Eu(e);for(const d of o)jx(t,a,d.style),t.beginPath(),u(t,e,d,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const R2=typeof Path2D=="function";function T2(t,e,n,r){R2&&!e.options.segment?E2(t,e,n,r):P2(t,e,n,r)}class $a extends kn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;C_(this._points,r,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$_(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,o=e[n],a=this.points,u=cx(this,{property:n,start:o,end:o});if(!u.length)return;const d=[],h=C2(r);let m,g;for(m=0,g=u.length;m<g;++m){const{start:y,end:b}=u[m],w=a[y],N=a[b];if(w===N){d.push(w);continue}const j=Math.abs((o-w[n])/(N[n]-w[n])),_=h(w,N,j,r.stepped);_[n]=e[n],d.push(_)}return d.length===1?d[0]:d}pathSegment(e,n,r){return Eu(this)(e,this,n,r)}path(e,n,r){const o=this.segments,a=Eu(this);let u=this._loop;n=n||0,r=r||this.points.length-n;for(const d of o)u&=a(e,this,d,{start:n,end:n+r-1});return!!u}draw(e,n,r,o){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),T2(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Mp(t,e,n,r){const o=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<o.radius+o.hitRadius}class M2 extends kn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const o=this.options,{x:a,y:u}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(n-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,n){return Mp(this,e,"x",n)}inYRange(e,n){return Mp(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Si(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,ku(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function kx(t,e){const{x:n,y:r,base:o,width:a,height:u}=t.getProps(["x","y","base","width","height"],e);let d,h,m,g,y;return t.horizontal?(y=u/2,d=Math.min(n,o),h=Math.max(n,o),m=r-y,g=r+y):(y=a/2,d=n-y,h=n+y,m=Math.min(r,o),g=Math.max(r,o)),{left:d,top:m,right:h,bottom:g}}function Kn(t,e,n,r){return t?0:kt(e,n,r)}function D2(t,e,n){const r=t.options.borderWidth,o=t.borderSkipped,a=Zg(r);return{t:Kn(o.top,a.top,0,n),r:Kn(o.right,a.right,0,e),b:Kn(o.bottom,a.bottom,0,n),l:Kn(o.left,a.left,0,e)}}function A2(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,a=ar(o),u=Math.min(e,n),d=t.borderSkipped,h=r||Se(o);return{topLeft:Kn(!h||d.top||d.left,a.topLeft,0,u),topRight:Kn(!h||d.top||d.right,a.topRight,0,u),bottomLeft:Kn(!h||d.bottom||d.left,a.bottomLeft,0,u),bottomRight:Kn(!h||d.bottom||d.right,a.bottomRight,0,u)}}function O2(t){const e=kx(t),n=e.right-e.left,r=e.bottom-e.top,o=D2(t,n/2,r/2),a=A2(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function ru(t,e,n,r){const o=e===null,a=n===null,d=t&&!(o&&a)&&kx(t,r);return d&&(o||_n(e,d.left,d.right))&&(a||_n(n,d.top,d.bottom))}function L2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function F2(t,e){t.rect(e.x,e.y,e.w,e.h)}function iu(t,e,n={}){const r=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,u=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+r,y:t.y+o,w:t.w+a,h:t.h+u,radius:t.radius}}class I2 extends kn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:o}}=this,{inner:a,outer:u}=O2(this),d=L2(u.radius)?Na:F2;e.save(),(u.w!==a.w||u.h!==a.h)&&(e.beginPath(),d(e,iu(u,n,a)),e.clip(),d(e,iu(a,-n,u)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),d(e,iu(a,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,r){return ru(this,e,n,r)}inXRange(e,n){return ru(this,e,null,n)}inYRange(e,n){return ru(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+o)/2:n,y:a?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function z2(t,e,n){const r=t.segments,o=t.points,a=e.points,u=[];for(const d of r){let{start:h,end:m}=d;m=Ha(h,m,o);const g=Pu(n,o[h],o[m],d.loop);if(!e.segments){u.push({source:d,target:g,start:o[h],end:o[m]});continue}const y=cx(e,g);for(const b of y){const w=Pu(n,a[b.start],a[b.end],b.loop),N=lx(d,o,w);for(const j of N)u.push({source:j,target:b,start:{[n]:Dp(g,w,"start",Math.max)},end:{[n]:Dp(g,w,"end",Math.min)}})}}return u}function Pu(t,e,n,r){if(r)return;let o=e[t],a=n[t];return t==="angle"&&(o=Dt(o),a=Dt(a)),{property:t,start:o,end:a}}function B2(t,e){const{x:n=null,y:r=null}=t||{},o=e.points,a=[];return e.segments.forEach(({start:u,end:d})=>{d=Ha(u,d,o);const h=o[u],m=o[d];r!==null?(a.push({x:h.x,y:r}),a.push({x:m.x,y:r})):n!==null&&(a.push({x:n,y:h.y}),a.push({x:n,y:m.y}))}),a}function Ha(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Dp(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Sx(t,e){let n=[],r=!1;return Je(t)?(r=!0,n=t):n=B2(t,e),n.length?new $a({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Ap(t){return t&&t.fill!==!1}function U2(t,e,n){let o=t[e].fill;const a=[e];let u;if(!n)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!mt(o))return o;if(u=t[o],!u)return!1;if(u.visible)return o;a.push(o),o=u.fill}return!1}function $2(t,e,n){const r=q2(t);if(Se(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return mt(o)&&Math.floor(o)===o?H2(r[0],e,o,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function H2(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function W2(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Se(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function V2(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Se(t)?r=t.value:r=e.getBaseValue(),r}function q2(t){const e=t.options,n=e.fill;let r=ke(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Y2(t){const{scale:e,index:n,line:r}=t,o=[],a=r.segments,u=r.points,d=K2(e,n);d.push(Sx({x:null,y:e.bottom},r));for(let h=0;h<a.length;h++){const m=a[h];for(let g=m.start;g<=m.end;g++)X2(o,u[g],d)}return new $a({points:o,options:{}})}function K2(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const a=r[o];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function X2(t,e,n){const r=[];for(let o=0;o<n.length;o++){const a=n[o],{first:u,last:d,point:h}=Q2(a,e,"x");if(!(!h||u&&d)){if(u)r.unshift(h);else if(t.push(h),!d)break}}t.push(...r)}function Q2(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const o=r[n],a=t.segments,u=t.points;let d=!1,h=!1;for(let m=0;m<a.length;m++){const g=a[m],y=u[g.start][n],b=u[g.end][n];if(_n(o,y,b)){d=o===y,h=o===b;break}}return{first:d,last:h,point:r}}class Cx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:o,y:a,radius:u}=this;return n=n||{start:0,end:nt},e.arc(o,a,u,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:o}=this,a=e.angle;return{x:n+Math.cos(a)*o,y:r+Math.sin(a)*o,angle:a}}}function G2(t){const{chart:e,fill:n,line:r}=t;if(mt(n))return J2(e,n);if(n==="stack")return Y2(t);if(n==="shape")return!0;const o=Z2(t);return o instanceof Cx?o:Sx(o,r)}function J2(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Z2(t){return(t.scale||{}).getPointPositionForValue?tN(t):eN(t)}function eN(t){const{scale:e={},fill:n}=t,r=W2(n,e);if(mt(r)){const o=e.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function tN(t){const{scale:e,fill:n}=t,r=e.options,o=e.getLabels().length,a=r.reverse?e.max:e.min,u=V2(n,e,a),d=[];if(r.grid.circular){const h=e.getPointPositionForValue(0,a);return new Cx({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(u)})}for(let h=0;h<o;++h)d.push(e.getPointPositionForValue(h,u));return d}function ou(t,e,n){const r=G2(e),{chart:o,index:a,line:u,scale:d,axis:h}=e,m=u.options,g=m.fill,y=m.backgroundColor,{above:b=y,below:w=y}=g||{},N=o.getDatasetMeta(a),j=ux(o,N);r&&u.points.length&&(Ia(t,n),nN(t,{line:u,target:r,above:b,below:w,area:n,scale:d,axis:h,clip:j}),za(t))}function nN(t,e){const{line:n,target:r,above:o,below:a,area:u,scale:d,clip:h}=e,m=n._loop?"angle":e.axis;t.save();let g=a;a!==o&&(m==="x"?(Op(t,r,u.top),au(t,{line:n,target:r,color:o,scale:d,property:m,clip:h}),t.restore(),t.save(),Op(t,r,u.bottom)):m==="y"&&(Lp(t,r,u.left),au(t,{line:n,target:r,color:a,scale:d,property:m,clip:h}),t.restore(),t.save(),Lp(t,r,u.right),g=o)),au(t,{line:n,target:r,color:g,scale:d,property:m,clip:h}),t.restore()}function Op(t,e,n){const{segments:r,points:o}=e;let a=!0,u=!1;t.beginPath();for(const d of r){const{start:h,end:m}=d,g=o[h],y=o[Ha(h,m,o)];a?(t.moveTo(g.x,g.y),a=!1):(t.lineTo(g.x,n),t.lineTo(g.x,g.y)),u=!!e.pathSegment(t,d,{move:u}),u?t.closePath():t.lineTo(y.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Lp(t,e,n){const{segments:r,points:o}=e;let a=!0,u=!1;t.beginPath();for(const d of r){const{start:h,end:m}=d,g=o[h],y=o[Ha(h,m,o)];a?(t.moveTo(g.x,g.y),a=!1):(t.lineTo(n,g.y),t.lineTo(g.x,g.y)),u=!!e.pathSegment(t,d,{move:u}),u?t.closePath():t.lineTo(n,y.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function au(t,e){const{line:n,target:r,property:o,color:a,scale:u,clip:d}=e,h=z2(n,r,o);for(const{source:m,target:g,start:y,end:b}of h){const{style:{backgroundColor:w=a}={}}=m,N=r!==!0;t.save(),t.fillStyle=w,sN(t,u,d,N&&Pu(o,y,b)),t.beginPath();const j=!!n.pathSegment(t,m);let _;if(N){j?t.closePath():Fp(t,r,b,o);const R=!!r.pathSegment(t,g,{move:j,reverse:!0});_=j&&R,_||Fp(t,r,y,o)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function sN(t,e,n,r){const o=e.chart.chartArea,{property:a,start:u,end:d}=r||{};if(a==="x"||a==="y"){let h,m,g,y;a==="x"?(h=u,m=o.top,g=d,y=o.bottom):(h=o.left,m=u,g=o.right,y=d),t.beginPath(),n&&(h=Math.max(h,n.left),g=Math.min(g,n.right),m=Math.max(m,n.top),y=Math.min(y,n.bottom)),t.rect(h,m,g-h,y-m),t.clip()}}function Fp(t,e,n,r){const o=e.interpolate(n,r);o&&t.lineTo(o.x,o.y)}var rN={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,o=[];let a,u,d,h;for(u=0;u<r;++u)a=t.getDatasetMeta(u),d=a.dataset,h=null,d&&d.options&&d instanceof $a&&(h={visible:t.isDatasetVisible(u),index:u,fill:$2(d,u,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:d}),a.$filler=h,o.push(h);for(u=0;u<r;++u)h=o[u],!(!h||h.fill===!1)&&(h.fill=U2(o,u,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let u=o.length-1;u>=0;--u){const d=o[u].$filler;d&&(d.line.updateControlPoints(a,d.axis),r&&d.fill&&ou(t.ctx,d,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;Ap(a)&&ou(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!Ap(r)||n.drawTime!=="beforeDatasetDraw"||ou(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ip=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},iN=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class zp extends kn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Fe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=ht(r.font),a=o.size,u=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=Ip(r,a);let m,g;n.font=o.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(u,a,d,h)+10):(g=this.maxHeight,m=this._fitCols(u,o,d,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,o){const{ctx:a,maxWidth:u,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],g=o+d;let y=e;a.textAlign="left",a.textBaseline="middle";let b=-1,w=-g;return this.legendItems.forEach((N,j)=>{const _=r+n/2+a.measureText(N.text).width;(j===0||m[m.length-1]+_+2*d>u)&&(y+=g,m[m.length-(j>0?0:1)]=0,w+=g,b++),h[j]={left:0,top:w,row:b,width:_,height:o},m[m.length-1]+=_+d}),y}_fitCols(e,n,r,o){const{ctx:a,maxHeight:u,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],g=u-e;let y=d,b=0,w=0,N=0,j=0;return this.legendItems.forEach((_,R)=>{const{itemWidth:k,itemHeight:D}=oN(r,n,a,_,o);R>0&&w+D+2*d>g&&(y+=b+d,m.push({width:b,height:w}),N+=b+d,j++,b=w=0),h[R]={left:N,top:w,col:j,width:k,height:D},b=Math.max(b,k),w+=D+d}),y+=b,m.push({width:b,height:w}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:o},rtl:a}}=this,u=lr(a,this.left,this.width);if(this.isHorizontal()){let d=0,h=dt(r,this.left+o,this.right-this.lineWidths[d]);for(const m of n)d!==m.row&&(d=m.row,h=dt(r,this.left+o,this.right-this.lineWidths[d])),m.top+=this.top+e+o,m.left=u.leftForLtr(u.x(h),m.width),h+=m.width+o}else{let d=0,h=dt(r,this.top+e+o,this.bottom-this.columnSizes[d].height);for(const m of n)m.col!==d&&(d=m.col,h=dt(r,this.top+e+o,this.bottom-this.columnSizes[d].height)),m.top=h,m.left+=this.left+o,m.left=u.leftForLtr(u.x(m.left),m.width),h+=m.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ia(e,this),this._draw(),za(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:o}=this,{align:a,labels:u}=e,d=Ye.color,h=lr(e.rtl,this.left,this.width),m=ht(u.font),{padding:g}=u,y=m.size,b=y/2;let w;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=m.string;const{boxWidth:N,boxHeight:j,itemHeight:_}=Ip(u,y),R=function(V,z,q){if(isNaN(N)||N<=0||isNaN(j)||j<0)return;o.save();const Y=ke(q.lineWidth,1);if(o.fillStyle=ke(q.fillStyle,d),o.lineCap=ke(q.lineCap,"butt"),o.lineDashOffset=ke(q.lineDashOffset,0),o.lineJoin=ke(q.lineJoin,"miter"),o.lineWidth=Y,o.strokeStyle=ke(q.strokeStyle,d),o.setLineDash(ke(q.lineDash,[])),u.usePointStyle){const se={radius:j*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:Y},re=h.xPlus(V,N/2),F=z+b;Jg(o,se,re,F,u.pointStyleWidth&&N)}else{const se=z+Math.max((y-j)/2,0),re=h.leftForLtr(V,N),F=ar(q.borderRadius);o.beginPath(),Object.values(F).some(X=>X!==0)?Na(o,{x:re,y:se,w:N,h:j,radius:F}):o.rect(re,se,N,j),o.fill(),Y!==0&&o.stroke()}o.restore()},k=function(V,z,q){Ci(o,q.text,V,z+_/2,m,{strikethrough:q.hidden,textAlign:h.textAlign(q.textAlign)})},D=this.isHorizontal(),T=this._computeTitleHeight();D?w={x:dt(a,this.left+g,this.right-r[0]),y:this.top+g+T,line:0}:w={x:this.left+g,y:dt(a,this.top+T+g,this.bottom-n[0].height),line:0},ix(this.ctx,e.textDirection);const L=_+g;this.legendItems.forEach((V,z)=>{o.strokeStyle=V.fontColor,o.fillStyle=V.fontColor;const q=o.measureText(V.text).width,Y=h.textAlign(V.textAlign||(V.textAlign=u.textAlign)),se=N+b+q;let re=w.x,F=w.y;h.setWidth(this.width),D?z>0&&re+se+g>this.right&&(F=w.y+=L,w.line++,re=w.x=dt(a,this.left+g,this.right-r[w.line])):z>0&&F+L>this.bottom&&(re=w.x=re+n[w.line].width+g,w.line++,F=w.y=dt(a,this.top+T+g,this.bottom-n[w.line].height));const X=h.x(re);if(R(X,F,V),re=V1(Y,re+N+b,D?re+se:this.right,e.rtl),k(h.x(re),F,V),D)w.x+=se+g;else if(typeof V.text!="string"){const ne=m.lineHeight;w.y+=Ex(V,ne)+g}else w.y+=L}),ox(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ht(n.font),o=Ht(n.padding);if(!n.display)return;const a=lr(e.rtl,this.left,this.width),u=this.ctx,d=n.position,h=r.size/2,m=o.top+h;let g,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+m,y=dt(e.align,y,this.right-b);else{const N=this.columnSizes.reduce((j,_)=>Math.max(j,_.height),0);g=m+dt(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const w=dt(d,y,y+b);u.textAlign=a.textAlign(Yu(d)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=r.string,Ci(u,n.text,w,g,r)}_computeTitleHeight(){const e=this.options.title,n=ht(e.font),r=Ht(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,o,a;if(_n(e,this.left,this.right)&&_n(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(o=a[r],_n(e,o.left,o.left+o.width)&&_n(n,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!cN(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=iN(o,r);o&&!a&&Fe(n.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!a&&Fe(n.onHover,[e,r,this],this)}else r&&Fe(n.onClick,[e,r,this],this)}}function oN(t,e,n,r,o){const a=aN(r,t,e,n),u=lN(o,r,e.lineHeight);return{itemWidth:a,itemHeight:u}}function aN(t,e,n,r){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((a,u)=>a.length>u.length?a:u)),e+n.size/2+r.measureText(o).width}function lN(t,e,n){let r=t;return typeof e.text!="string"&&(r=Ex(e,n)),r}function Ex(t,e){const n=t.text?t.text.length:0;return e*n}function cN(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var uN={id:"legend",_element:zp,start(t,e,n){const r=t.legend=new zp({ctx:t.ctx,options:n,chart:t});$t.configure(t,r,n),$t.addBox(t,r)},stop(t){$t.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;$t.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,o=n.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:o,color:a,useBorderRadius:u,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),g=Ht(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:r||m.pointStyle,rotation:m.rotation,textAlign:o||m.textAlign,borderRadius:u&&(d||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Px extends kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=Je(r.text)?r.text.length:1;this._padding=Ht(r.padding);const a=o*ht(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:o,right:a,options:u}=this,d=u.align;let h=0,m,g,y;return this.isHorizontal()?(g=dt(d,r,a),y=n+e,m=a-r):(u.position==="left"?(g=r+e,y=dt(d,o,n),h=De*-.5):(g=a-e,y=dt(d,n,o),h=De*.5),m=o-n),{titleX:g,titleY:y,maxWidth:m,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=ht(n.font),a=r.lineHeight/2+this._padding.top,{titleX:u,titleY:d,maxWidth:h,rotation:m}=this._drawArgs(a);Ci(e,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:m,textAlign:Yu(n.align),textBaseline:"middle",translation:[u,d]})}}function dN(t,e){const n=new Px({ctx:t.ctx,options:e,chart:t});$t.configure(t,n,e),$t.addBox(t,n),t.titleBlock=n}var fN={id:"title",_element:Px,start(t,e,n){dN(t,n)},stop(t){const e=t.titleBlock;$t.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;$t.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mi={average(t){if(!t.length)return!1;let e,n,r=new Set,o=0,a=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();r.add(h.x),o+=h.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((d,h)=>d+h)/r.size,y:o/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,o=Number.POSITIVE_INFINITY,a,u,d;for(a=0,u=t.length;a<u;++a){const h=t[a].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),g=_u(e,m);g<o&&(o=g,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,r=h.y}return{x:n,y:r}}};function on(t,e){return e&&(Je(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function vn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function hN(t,e){const{element:n,datasetIndex:r,index:o}=e,a=t.getDatasetMeta(r).controller,{label:u,value:d}=a.getLabelAndValue(o);return{chart:t,label:u,parsed:a.getParsed(o),raw:t.data.datasets[r].data[o],formattedValue:d,dataset:a.getDataset(),dataIndex:o,datasetIndex:r,element:n}}function Bp(t,e){const n=t.chart.ctx,{body:r,footer:o,title:a}=t,{boxWidth:u,boxHeight:d}=e,h=ht(e.bodyFont),m=ht(e.titleFont),g=ht(e.footerFont),y=a.length,b=o.length,w=r.length,N=Ht(e.padding);let j=N.height,_=0,R=r.reduce((T,L)=>T+L.before.length+L.lines.length+L.after.length,0);if(R+=t.beforeBody.length+t.afterBody.length,y&&(j+=y*m.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),R){const T=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;j+=w*T+(R-w)*h.lineHeight+(R-1)*e.bodySpacing}b&&(j+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let k=0;const D=function(T){_=Math.max(_,n.measureText(T).width+k)};return n.save(),n.font=m.string,Me(t.title,D),n.font=h.string,Me(t.beforeBody.concat(t.afterBody),D),k=e.displayColors?u+2+e.boxPadding:0,Me(r,T=>{Me(T.before,D),Me(T.lines,D),Me(T.after,D)}),k=0,n.font=g.string,Me(t.footer,D),n.restore(),_+=N.width,{width:_,height:j}}function mN(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function pN(t,e,n,r){const{x:o,width:a}=r,u=n.caretSize+n.caretPadding;if(t==="left"&&o+a+u>e.width||t==="right"&&o-a-u<0)return!0}function gN(t,e,n,r){const{x:o,width:a}=n,{width:u,chartArea:{left:d,right:h}}=t;let m="center";return r==="center"?m=o<=(d+h)/2?"left":"right":o<=a/2?m="left":o>=u-a/2&&(m="right"),pN(m,t,e,n)&&(m="center"),m}function Up(t,e,n){const r=n.yAlign||e.yAlign||mN(t,n);return{xAlign:n.xAlign||e.xAlign||gN(t,e,n,r),yAlign:r}}function xN(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function yN(t,e,n){let{y:r,height:o}=t;return e==="top"?r+=n:e==="bottom"?r-=o+n:r-=o/2,r}function $p(t,e,n,r){const{caretSize:o,caretPadding:a,cornerRadius:u}=t,{xAlign:d,yAlign:h}=n,m=o+a,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:w}=ar(u);let N=xN(e,d);const j=yN(e,h,m);return h==="center"?d==="left"?N+=m:d==="right"&&(N-=m):d==="left"?N-=Math.max(g,b)+o:d==="right"&&(N+=Math.max(y,w)+o),{x:kt(N,0,r.width-e.width),y:kt(j,0,r.height-e.height)}}function oa(t,e,n){const r=Ht(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Hp(t){return on([],vn(t))}function bN(t,e,n){return Es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Wp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Rx={beforeTitle:yn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:yn,beforeBody:yn,beforeLabel:yn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $e(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yn,afterBody:yn,beforeFooter:yn,footer:yn,afterFooter:yn};function jt(t,e,n,r){const o=t[e].call(n,r);return typeof o>"u"?Rx[e].call(n,r):o}class Vp extends kn{static positioners=mi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,a=new dx(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=bN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,o=jt(r,"beforeTitle",this,e),a=jt(r,"title",this,e),u=jt(r,"afterTitle",this,e);let d=[];return d=on(d,vn(o)),d=on(d,vn(a)),d=on(d,vn(u)),d}getBeforeBody(e,n){return Hp(jt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,o=[];return Me(e,a=>{const u={before:[],lines:[],after:[]},d=Wp(r,a);on(u.before,vn(jt(d,"beforeLabel",this,a))),on(u.lines,jt(d,"label",this,a)),on(u.after,vn(jt(d,"afterLabel",this,a))),o.push(u)}),o}getAfterBody(e,n){return Hp(jt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,o=jt(r,"beforeFooter",this,e),a=jt(r,"footer",this,e),u=jt(r,"afterFooter",this,e);let d=[];return d=on(d,vn(o)),d=on(d,vn(a)),d=on(d,vn(u)),d}_createItems(e){const n=this._active,r=this.chart.data,o=[],a=[],u=[];let d=[],h,m;for(h=0,m=n.length;h<m;++h)d.push(hN(this.chart,n[h]));return e.filter&&(d=d.filter((g,y,b)=>e.filter(g,y,b,r))),e.itemSort&&(d=d.sort((g,y)=>e.itemSort(g,y,r))),Me(d,g=>{const y=Wp(e.callbacks,g);o.push(jt(y,"labelColor",this,g)),a.push(jt(y,"labelPointStyle",this,g)),u.push(jt(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=u,this.dataPoints=d,d}update(e,n){const r=this.options.setContext(this.getContext()),o=this._active;let a,u=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const d=mi[r.position].call(this,o,this._eventPosition);u=this._createItems(r),this.title=this.getTitle(u,r),this.beforeBody=this.getBeforeBody(u,r),this.body=this.getBody(u,r),this.afterBody=this.getAfterBody(u,r),this.footer=this.getFooter(u,r);const h=this._size=Bp(this,r),m=Object.assign({},d,h),g=Up(this.chart,r,m),y=$p(r,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=u,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,o){const a=this.getCaretPosition(e,r,o);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:o,yAlign:a}=this,{caretSize:u,cornerRadius:d}=r,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:y}=ar(d),{x:b,y:w}=e,{width:N,height:j}=n;let _,R,k,D,T,L;return a==="center"?(T=w+j/2,o==="left"?(_=b,R=_-u,D=T+u,L=T-u):(_=b+N,R=_+u,D=T-u,L=T+u),k=_):(o==="left"?R=b+Math.max(h,g)+u:o==="right"?R=b+N-Math.max(m,y)-u:R=this.caretX,a==="top"?(D=w,T=D-u,_=R-u,k=R+u):(D=w+j,T=D+u,_=R+u,k=R-u),L=D),{x1:_,x2:R,x3:k,y1:D,y2:T,y3:L}}drawTitle(e,n,r){const o=this.title,a=o.length;let u,d,h;if(a){const m=lr(r.rtl,this.x,this.width);for(e.x=oa(this,r.titleAlign,r),n.textAlign=m.textAlign(r.titleAlign),n.textBaseline="middle",u=ht(r.titleFont),d=r.titleSpacing,n.fillStyle=r.titleColor,n.font=u.string,h=0;h<a;++h)n.fillText(o[h],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+d,h+1===a&&(e.y+=r.titleMarginBottom-d)}}_drawColorBox(e,n,r,o,a){const u=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:h,boxWidth:m}=a,g=ht(a.bodyFont),y=oa(this,"left",a),b=o.x(y),w=h<g.lineHeight?(g.lineHeight-h)/2:0,N=n.y+w;if(a.usePointStyle){const j={radius:Math.min(m,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},_=o.leftForLtr(b,m)+m/2,R=N+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ku(e,j,_,R),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,ku(e,j,_,R)}else{e.lineWidth=Se(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const j=o.leftForLtr(b,m),_=o.leftForLtr(o.xPlus(b,1),m-2),R=ar(u.borderRadius);Object.values(R).some(k=>k!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Na(e,{x:j,y:N,w:m,h,radius:R}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),Na(e,{x:_,y:N+1,w:m-2,h:h-2,radius:R}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(j,N,m,h),e.strokeRect(j,N,m,h),e.fillStyle=u.backgroundColor,e.fillRect(_,N+1,m-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:o}=this,{bodySpacing:a,bodyAlign:u,displayColors:d,boxHeight:h,boxWidth:m,boxPadding:g}=r,y=ht(r.bodyFont);let b=y.lineHeight,w=0;const N=lr(r.rtl,this.x,this.width),j=function(q){n.fillText(q,N.x(e.x+w),e.y+b/2),e.y+=b+a},_=N.textAlign(u);let R,k,D,T,L,V,z;for(n.textAlign=u,n.textBaseline="middle",n.font=y.string,e.x=oa(this,_,r),n.fillStyle=r.bodyColor,Me(this.beforeBody,j),w=d&&_!=="right"?u==="center"?m/2+g:m+2+g:0,T=0,V=o.length;T<V;++T){for(R=o[T],k=this.labelTextColors[T],n.fillStyle=k,Me(R.before,j),D=R.lines,d&&D.length&&(this._drawColorBox(n,e,T,N,r),b=Math.max(y.lineHeight,h)),L=0,z=D.length;L<z;++L)j(D[L]),b=y.lineHeight;Me(R.after,j)}w=0,b=y.lineHeight,Me(this.afterBody,j),e.y-=a}drawFooter(e,n,r){const o=this.footer,a=o.length;let u,d;if(a){const h=lr(r.rtl,this.x,this.width);for(e.x=oa(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=h.textAlign(r.footerAlign),n.textBaseline="middle",u=ht(r.footerFont),n.fillStyle=r.footerColor,n.font=u.string,d=0;d<a;++d)n.fillText(o[d],h.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+r.footerSpacing}}drawBackground(e,n,r,o){const{xAlign:a,yAlign:u}=this,{x:d,y:h}=e,{width:m,height:g}=r,{topLeft:y,topRight:b,bottomLeft:w,bottomRight:N}=ar(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(d+y,h),u==="top"&&this.drawCaret(e,n,r,o),n.lineTo(d+m-b,h),n.quadraticCurveTo(d+m,h,d+m,h+b),u==="center"&&a==="right"&&this.drawCaret(e,n,r,o),n.lineTo(d+m,h+g-N),n.quadraticCurveTo(d+m,h+g,d+m-N,h+g),u==="bottom"&&this.drawCaret(e,n,r,o),n.lineTo(d+w,h+g),n.quadraticCurveTo(d,h+g,d,h+g-w),u==="center"&&a==="left"&&this.drawCaret(e,n,r,o),n.lineTo(d,h+y),n.quadraticCurveTo(d,h,d+y,h),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const u=mi[e.position].call(this,this._active,this._eventPosition);if(!u)return;const d=this._size=Bp(this,e),h=Object.assign({},u,this._size),m=Up(n,e,h),g=$p(e,h,m,n);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=d.width,this.height=d.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const u=Ht(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,n),ix(e,n.textDirection),a.y+=u.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),ox(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,o=e.map(({datasetIndex:d,index:h})=>{const m=this.chart.getDatasetMeta(d);if(!m)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:m.data[h],index:h}}),a=!ya(r,o),u=this._positionChanged(o,n);(a||u)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],u=this._getActiveElements(e,a,n,r),d=this._positionChanged(u,e),h=n||!ya(u,a)||d;return h&&(this._active=u,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,r,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const u=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&u.reverse(),u}_positionChanged(e,n){const{caretX:r,caretY:o,options:a}=this,u=mi[a.position].call(this,e,n);return u!==!1&&(r!==u.x||o!==u.y)}}var vN={id:"tooltip",_element:Vp,positioners:mi,afterInit(t,e,n){n&&(t.tooltip=new Vp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Rx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wN=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function _N(t,e,n,r){const o=t.indexOf(e);if(o===-1)return wN(t,e,n,r);const a=t.lastIndexOf(e);return o!==a?n:o}const jN=(t,e)=>t===null?null:kt(Math.round(t),0,e);function qp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class NN extends br{static id="category";static defaults={ticks:{callback:qp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:o,label:a}of n)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($e(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:_N(r,e,ke(n,e),this._addedLabels),jN(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,o=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let u=e;u<=n;u++)o.push({value:u});return o}getLabelForValue(e){return qp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function kN(t,e){const n=[],{bounds:o,step:a,min:u,max:d,precision:h,count:m,maxTicks:g,maxDigits:y,includeBounds:b}=t,w=a||1,N=g-1,{min:j,max:_}=e,R=!$e(u),k=!$e(d),D=!$e(m),T=(_-j)/(y+1);let L=Vm((_-j)/N/w)*w,V,z,q,Y;if(L<1e-14&&!R&&!k)return[{value:j},{value:_}];Y=Math.ceil(_/L)-Math.floor(j/L),Y>N&&(L=Vm(Y*L/N/w)*w),$e(h)||(V=Math.pow(10,h),L=Math.ceil(L*V)/V),o==="ticks"?(z=Math.floor(j/L)*L,q=Math.ceil(_/L)*L):(z=j,q=_),R&&k&&a&&O1((d-u)/a,L/1e3)?(Y=Math.round(Math.min((d-u)/L,g)),L=(d-u)/Y,z=u,q=d):D?(z=R?u:z,q=k?d:q,Y=m-1,L=(q-z)/Y):(Y=(q-z)/L,gi(Y,Math.round(Y),L/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const se=Math.max(qm(L),qm(z));V=Math.pow(10,$e(h)?se:h),z=Math.round(z*V)/V,q=Math.round(q*V)/V;let re=0;for(R&&(b&&z!==u?(n.push({value:u}),z<u&&re++,gi(Math.round((z+re*L)*V)/V,u,Yp(u,T,t))&&re++):z<u&&re++);re<Y;++re){const F=Math.round((z+re*L)*V)/V;if(k&&F>d)break;n.push({value:F})}return k&&b&&q!==d?n.length&&gi(n[n.length-1].value,d,Yp(d,T,t))?n[n.length-1].value=d:n.push({value:d}):(!k||q===d)&&n.push({value:q}),n}function Yp(t,e,{horizontal:n,minRotation:r}){const o=vs(r),a=(n?Math.sin(o):Math.cos(o))||.001,u=.75*e*(""+t).length;return Math.min(e/a,u)}class SN extends br{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:o,max:a}=this;const u=h=>o=n?o:h,d=h=>a=r?a:h;if(e){const h=ur(o),m=ur(a);h<0&&m<0?d(0):h>0&&m>0&&u(0)}if(o===a){let h=a===0?1:Math.abs(a*.05);d(a+h),e||u(o-h)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,u=kN(o,a);return e.bounds==="ticks"&&L1(u,this,"value"),e.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-n)/Math.max(e.length-1,1)/2;n-=o,r+=o}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Qg(e,this.chart.options.locale,this.options.ticks.format)}}class CN extends SN{static id="linear";static defaults={ticks:{callback:Gg.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=mt(e)?e:0,this.max=mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=vs(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Wa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(Wa);function Kp(t,e){return t-e}function Xp(t,e){if($e(e))return null;const n=t._adapter,{parser:r,round:o,isoWeekday:a}=t._parseOpts;let u=e;return typeof r=="function"&&(u=r(u)),mt(u)||(u=typeof r=="string"?n.parse(u,r):n.parse(u)),u===null?null:(o&&(u=o==="week"&&(ja(a)||a===!0)?n.startOf(u,"isoWeek",a):n.startOf(u,o)),+u)}function Qp(t,e,n,r){const o=Nt.length;for(let a=Nt.indexOf(t);a<o-1;++a){const u=Wa[Nt[a]],d=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-e)/(d*u.size))<=r)return Nt[a]}return Nt[o-1]}function EN(t,e,n,r,o){for(let a=Nt.length-1;a>=Nt.indexOf(n);a--){const u=Nt[a];if(Wa[u].common&&t._adapter.diff(o,r,u)>=e-1)return u}return Nt[n?Nt.indexOf(n):0]}function PN(t){for(let e=Nt.indexOf(t)+1,n=Nt.length;e<n;++e)if(Wa[Nt[e]].common)return Nt[e]}function Gp(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:o}=qu(n,e),a=n[r]>=e?n[r]:n[o];t[a]=!0}}function RN(t,e,n,r){const o=t._adapter,a=+o.startOf(e[0].value,r),u=e[e.length-1].value;let d,h;for(d=a;d<=u;d=+o.add(d,1,r))h=n[d],h>=0&&(e[h].major=!0);return e}function Jp(t,e,n){const r=[],o={},a=e.length;let u,d;for(u=0;u<a;++u)d=e[u],o[d]=u,r.push({value:d,major:!1});return a===0||!n?r:RN(t,r,o,n)}class Zp extends br{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),o=this._adapter=new aj._date(e.adapters.date);o.init(n),pi(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Xp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:o,max:a,minDefined:u,maxDefined:d}=this.getUserBounds();function h(m){!u&&!isNaN(m.min)&&(o=Math.min(o,m.min)),!d&&!isNaN(m.max)&&(a=Math.max(a,m.max))}(!u||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=mt(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),a=mt(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,u=this.max,d=U1(o,a,u);return this._unit=n.unit||(r.autoSkip?Qp(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):EN(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:PN(this._unit),this.initOffsets(o),e.reverse&&d.reverse(),Jp(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;n=kt(n,0,u),r=kt(r,0,u),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,o=this.options,a=o.time,u=a.unit||Qp(a.minUnit,n,r,this._getLabelCapacity(n)),d=ke(o.ticks.stepSize,1),h=u==="week"?a.isoWeekday:!1,m=ja(h)||h===!0,g={};let y=n,b,w;if(m&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,m?"day":u),e.diff(r,n,u)>1e5*d)throw new Error(n+" and "+r+" are too far apart with stepSize of "+d+" "+u);const N=o.ticks.source==="data"&&this.getDataTimestamps();for(b=y,w=0;b<r;b=+e.add(b,d,u),w++)Gp(g,b,N);return(b===r||o.bounds==="ticks"||w===1)&&Gp(g,b,N),Object.keys(g).sort(Kp).map(j=>+j)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,a=this._unit,u=n||o[a];return this._adapter.format(e,u)}_tickFormatFunction(e,n,r,o){const a=this.options,u=a.ticks.callback;if(u)return Fe(u,[e,n,r],this);const d=a.time.displayFormats,h=this._unit,m=this._majorUnit,g=h&&d[h],y=m&&d[m],b=r[n],w=m&&y&&b&&b.major;return this._adapter.format(e,o||(w?y:g))}generateTickLabels(e){let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,o=vs(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(o),u=Math.sin(o),d=this._resolveTickFontOptions(0).size;return{w:r*a+d*u,h:r*u+d*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Jp(this,[e],this._majorUnit),o),u=this._getLabelSize(a),d=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const o=this.getLabels();for(n=0,r=o.length;n<r;++n)e.push(Xp(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return H1(e.sort(Kp))}}function aa(t,e,n){let r=0,o=t.length-1,a,u,d,h;n?(e>=t[r].pos&&e<=t[o].pos&&({lo:r,hi:o}=ju(t,"pos",e)),{pos:a,time:d}=t[r],{pos:u,time:h}=t[o]):(e>=t[r].time&&e<=t[o].time&&({lo:r,hi:o}=ju(t,"time",e)),{time:a,pos:d}=t[r],{time:u,pos:h}=t[o]);const m=u-a;return m?d+(h-d)*(e-a)/m:d}class QN extends Zp{static id="timeseries";static defaults=Zp.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=aa(n,this.min),this._tableRange=aa(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,o=[],a=[];let u,d,h,m,g;for(u=0,d=e.length;u<d;++u)m=e[u],m>=n&&m<=r&&o.push(m);if(o.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(u=0,d=o.length;u<d;++u)g=o[u+1],h=o[u-1],m=o[u],Math.round((g+h)/2)!==m&&a.push({time:m,pos:u/(d-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(aa(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return aa(this._table,r*this._tableRange+this._minPos,!0)}}_x.register(NN,CN,M2,$a,I2,_2,fN,vN,uN,rN);function TN(){return l.jsx(Ab,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsxs(um,{children:[l.jsx(ut,{path:"/login",element:l.jsx(Tw,{})}),l.jsx(ut,{path:"/",element:localStorage.getItem("access_token")||localStorage.getItem("authToken")?l.jsx(cu,{to:"/dashboard",replace:!0}):l.jsx(cu,{to:"/login",replace:!0})}),l.jsx(ut,{path:"/*",element:l.jsx(Ew,{children:l.jsx(Cw,{children:l.jsxs(um,{children:[l.jsx(ut,{path:"/dashboard",element:l.jsx(Ow,{})}),l.jsx(ut,{path:"/user-management",element:l.jsx(Aw,{})}),l.jsx(ut,{path:"/role-management",element:l.jsx(Bw,{})}),l.jsx(ut,{path:"/campaign-types",element:l.jsx($w,{})}),l.jsx(ut,{path:"/campaign-data",element:l.jsx(Hw,{})}),l.jsx(ut,{path:"/cards",element:l.jsx(Yw,{})}),l.jsx(ut,{path:"/card-users",element:l.jsx(Xw,{})}),l.jsx(ut,{path:"/campaigns",element:l.jsx(Vw,{})}),l.jsx(ut,{path:"/analytics",element:l.jsx("div",{className:"p-6",children:"Analytics Module (Coming Soon)"})}),l.jsx(ut,{path:"/reports-table",element:l.jsx(t1,{})}),l.jsx(ut,{path:"/reports",element:l.jsx(Jw,{})}),l.jsx(ut,{path:"/settings",element:l.jsx("div",{className:"p-6",children:"Settings Module (Coming Soon)"})})]})})})})]})})}Fy.createRoot(document.getElementById("root")).render(l.jsx(Tu.StrictMode,{children:l.jsx(TN,{})}));

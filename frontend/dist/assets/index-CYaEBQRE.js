function vy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oc={exports:{}},si={},Fc={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function wy(){if(Qh)return je;Qh=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function w(E,q,L){this.props=E,this.context=q,this.refs=_,this.updater=L||N}w.prototype.isReactComponent={},w.prototype.setState=function(E,q){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,q,"setState")},w.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function P(){}P.prototype=w.prototype;function k(E,q,L){this.props=E,this.context=q,this.refs=_,this.updater=L||N}var R=k.prototype=new P;R.constructor=k,j(R,w.prototype),R.isPureReactComponent=!0;var M=Array.isArray,F=Object.prototype.hasOwnProperty,V={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function D(E,q,L){var G,pe={},xe=null,Ce=null;if(q!=null)for(G in q.ref!==void 0&&(Ce=q.ref),q.key!==void 0&&(xe=""+q.key),q)F.call(q,G)&&!z.hasOwnProperty(G)&&(pe[G]=q[G]);var ee=arguments.length-2;if(ee===1)pe.children=L;else if(1<ee){for(var ge=Array(ee),Re=0;Re<ee;Re++)ge[Re]=arguments[Re+2];pe.children=ge}if(E&&E.defaultProps)for(G in ee=E.defaultProps,ee)pe[G]===void 0&&(pe[G]=ee[G]);return{$$typeof:t,type:E,key:xe,ref:Ce,props:pe,_owner:V.current}}function H(E,q){return{$$typeof:t,type:E.type,key:q,ref:E.ref,props:E.props,_owner:E._owner}}function Q(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function ne(E){var q={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(L){return q[L]})}var Y=/\/+/g;function se(E,q){return typeof E=="object"&&E!==null&&E.key!=null?ne(""+E.key):q.toString(36)}function ue(E,q,L,G,pe){var xe=typeof E;(xe==="undefined"||xe==="boolean")&&(E=null);var Ce=!1;if(E===null)Ce=!0;else switch(xe){case"string":case"number":Ce=!0;break;case"object":switch(E.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=E,pe=pe(Ce),E=G===""?"."+se(Ce,0):G,M(pe)?(L="",E!=null&&(L=E.replace(Y,"$&/")+"/"),ue(pe,q,L,"",function(Re){return Re})):pe!=null&&(Q(pe)&&(pe=H(pe,L+(!pe.key||Ce&&Ce.key===pe.key?"":(""+pe.key).replace(Y,"$&/")+"/")+E)),q.push(pe)),1;if(Ce=0,G=G===""?".":G+":",M(E))for(var ee=0;ee<E.length;ee++){xe=E[ee];var ge=G+se(xe,ee);Ce+=ue(xe,q,L,ge,pe)}else if(ge=b(E),typeof ge=="function")for(E=ge.call(E),ee=0;!(xe=E.next()).done;)xe=xe.value,ge=G+se(xe,ee++),Ce+=ue(xe,q,L,ge,pe);else if(xe==="object")throw q=String(E),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ae(E,q,L){if(E==null)return E;var G=[],pe=0;return ue(E,G,"","",function(xe){return q.call(L,xe,pe++)}),G}function fe(E){if(E._status===-1){var q=E._result;q=q(),q.then(function(L){(E._status===0||E._status===-1)&&(E._status=1,E._result=L)},function(L){(E._status===0||E._status===-1)&&(E._status=2,E._result=L)}),E._status===-1&&(E._status=0,E._result=q)}if(E._status===1)return E._result.default;throw E._result}var le={current:null},O={transition:null},K={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:O,ReactCurrentOwner:V};function $(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ae,forEach:function(E,q,L){ae(E,function(){q.apply(this,arguments)},L)},count:function(E){var q=0;return ae(E,function(){q++}),q},toArray:function(E){return ae(E,function(q){return q})||[]},only:function(E){if(!Q(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},je.Component=w,je.Fragment=n,je.Profiler=a,je.PureComponent=k,je.StrictMode=r,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,je.act=$,je.cloneElement=function(E,q,L){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var G=j({},E.props),pe=E.key,xe=E.ref,Ce=E._owner;if(q!=null){if(q.ref!==void 0&&(xe=q.ref,Ce=V.current),q.key!==void 0&&(pe=""+q.key),E.type&&E.type.defaultProps)var ee=E.type.defaultProps;for(ge in q)F.call(q,ge)&&!z.hasOwnProperty(ge)&&(G[ge]=q[ge]===void 0&&ee!==void 0?ee[ge]:q[ge])}var ge=arguments.length-2;if(ge===1)G.children=L;else if(1<ge){ee=Array(ge);for(var Re=0;Re<ge;Re++)ee[Re]=arguments[Re+2];G.children=ee}return{$$typeof:t,type:E.type,key:pe,ref:xe,props:G,_owner:Ce}},je.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:o,_context:E},E.Consumer=E},je.createElement=D,je.createFactory=function(E){var q=D.bind(null,E);return q.type=E,q},je.createRef=function(){return{current:null}},je.forwardRef=function(E){return{$$typeof:d,render:E}},je.isValidElement=Q,je.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:fe}},je.memo=function(E,q){return{$$typeof:m,type:E,compare:q===void 0?null:q}},je.startTransition=function(E){var q=O.transition;O.transition={};try{E()}finally{O.transition=q}},je.unstable_act=$,je.useCallback=function(E,q){return le.current.useCallback(E,q)},je.useContext=function(E){return le.current.useContext(E)},je.useDebugValue=function(){},je.useDeferredValue=function(E){return le.current.useDeferredValue(E)},je.useEffect=function(E,q){return le.current.useEffect(E,q)},je.useId=function(){return le.current.useId()},je.useImperativeHandle=function(E,q,L){return le.current.useImperativeHandle(E,q,L)},je.useInsertionEffect=function(E,q){return le.current.useInsertionEffect(E,q)},je.useLayoutEffect=function(E,q){return le.current.useLayoutEffect(E,q)},je.useMemo=function(E,q){return le.current.useMemo(E,q)},je.useReducer=function(E,q,L){return le.current.useReducer(E,q,L)},je.useRef=function(E){return le.current.useRef(E)},je.useState=function(E){return le.current.useState(E)},je.useSyncExternalStore=function(E,q,L){return le.current.useSyncExternalStore(E,q,L)},je.useTransition=function(){return le.current.useTransition()},je.version="18.3.1",je}var Gh;function Pu(){return Gh||(Gh=1,Fc.exports=wy()),Fc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function _y(){if(Jh)return si;Jh=1;var t=Pu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var g,y={},b=null,N=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(N=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:b,ref:N,props:y,_owner:a.current}}return si.Fragment=n,si.jsx=u,si.jsxs=u,si}var Zh;function jy(){return Zh||(Zh=1,Oc.exports=_y()),Oc.exports}var l=jy(),S=Pu();const Ru=Qp(S),Ny=vy({__proto__:null,default:Ru},[S]);var $a={},Lc={exports:{}},_t={},Ic={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function ky(){return em||(em=1,(function(t){function e(O,K){var $=O.length;O.push(K);e:for(;0<$;){var E=$-1>>>1,q=O[E];if(0<a(q,K))O[E]=K,O[$]=q,$=E;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var K=O[0],$=O.pop();if($!==K){O[0]=$;e:for(var E=0,q=O.length,L=q>>>1;E<L;){var G=2*(E+1)-1,pe=O[G],xe=G+1,Ce=O[xe];if(0>a(pe,$))xe<q&&0>a(Ce,pe)?(O[E]=Ce,O[xe]=$,E=xe):(O[E]=pe,O[G]=$,E=G);else if(xe<q&&0>a(Ce,$))O[E]=Ce,O[xe]=$,E=xe;else break e}}return K}function a(O,K){var $=O.sortIndex-K.sortIndex;return $!==0?$:O.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,b=3,N=!1,j=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(O){for(var K=n(m);K!==null;){if(K.callback===null)r(m);else if(K.startTime<=O)r(m),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(m)}}function M(O){if(_=!1,R(O),!j)if(n(h)!==null)j=!0,fe(F);else{var K=n(m);K!==null&&le(M,K.startTime-O)}}function F(O,K){j=!1,_&&(_=!1,P(D),D=-1),N=!0;var $=b;try{for(R(K),y=n(h);y!==null&&(!(y.expirationTime>K)||O&&!ne());){var E=y.callback;if(typeof E=="function"){y.callback=null,b=y.priorityLevel;var q=E(y.expirationTime<=K);K=t.unstable_now(),typeof q=="function"?y.callback=q:y===n(h)&&r(h),R(K)}else r(h);y=n(h)}if(y!==null)var L=!0;else{var G=n(m);G!==null&&le(M,G.startTime-K),L=!1}return L}finally{y=null,b=$,N=!1}}var V=!1,z=null,D=-1,H=5,Q=-1;function ne(){return!(t.unstable_now()-Q<H)}function Y(){if(z!==null){var O=t.unstable_now();Q=O;var K=!0;try{K=z(!0,O)}finally{K?se():(V=!1,z=null)}}else V=!1}var se;if(typeof k=="function")se=function(){k(Y)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ae=ue.port2;ue.port1.onmessage=Y,se=function(){ae.postMessage(null)}}else se=function(){w(Y,0)};function fe(O){z=O,V||(V=!0,se())}function le(O,K){D=w(function(){O(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){j||N||(j=!0,fe(F))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(O){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var $=b;b=K;try{return O()}finally{b=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=b;b=O;try{return K()}finally{b=$}},t.unstable_scheduleCallback=function(O,K,$){var E=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?E+$:E):$=E,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,O={id:g++,callback:K,priorityLevel:O,startTime:$,expirationTime:q,sortIndex:-1},$>E?(O.sortIndex=$,e(m,O),n(h)===null&&O===n(m)&&(_?(P(D),D=-1):_=!0,le(M,$-E))):(O.sortIndex=q,e(h,O),j||N||(j=!0,fe(F))),O},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(O){var K=b;return function(){var $=b;b=K;try{return O.apply(this,arguments)}finally{b=$}}}})(zc)),zc}var tm;function Sy(){return tm||(tm=1,Ic.exports=ky()),Ic.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Cy(){if(nm)return _t;nm=1;var t=Pu(),e=Sy();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(a[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function b(s){return h.call(y,s)?!0:h.call(g,s)?!1:m.test(s)?y[s]=!0:(g[s]=!0,!1)}function N(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,i,c,f){if(i===null||typeof i>"u"||N(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(s,i,c,f,p,x,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=v}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];w[i]=new _(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(P,k);w[i]=new _(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(P,k);w[i]=new _(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(P,k);w[i]=new _(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,i,c,f){var p=w.hasOwnProperty(i)?w[i]:null;(p!==null?p.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,c,p,f)&&(c=null),f||p===null?b(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,f=p.attributeNamespace,c===null?s.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ne=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),O=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var $=Object.assign,E;function q(s){if(E===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);E=i&&i[1]||""}return`
`+E+s}var L=!1;function G(s,i){if(!s||L)return"";L=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var f=U}Reflect.construct(s,[],i)}else{try{i.call()}catch(U){f=U}s.call(i.prototype)}else{try{throw Error()}catch(U){f=U}s()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var p=U.stack.split(`
`),x=f.stack.split(`
`),v=p.length-1,C=x.length-1;1<=v&&0<=C&&p[v]!==x[C];)C--;for(;1<=v&&0<=C;v--,C--)if(p[v]!==x[C]){if(v!==1||C!==1)do if(v--,C--,0>C||p[v]!==x[C]){var T=`
`+p[v].replace(" at new "," at ");return s.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",s.displayName)),T}while(1<=v&&0<=C);break}}}finally{L=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?q(s):""}function pe(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=G(s.type,!1),s;case 11:return s=G(s.type.render,!1),s;case 1:return s=G(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case V:return"Portal";case H:return"Profiler";case D:return"StrictMode";case se:return"Suspense";case ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ne:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case Y:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ae:return i=s.displayName||null,i!==null?i:xe(s.type)||"Memo";case fe:i=s._payload,s=s._init;try{return xe(s(i))}catch{}}return null}function Ce(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ee(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ge(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Re(s){var i=ge(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,x=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(v){f=""+v,x.call(this,v)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(v){f=""+v},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function me(s){s._valueTracker||(s._valueTracker=Re(s))}function ze(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=ge(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function Di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function $o(s,i){var c=i.checked;return $({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function nd(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=ee(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function sd(s,i){i=i.checked,i!=null&&R(s,"checked",i,!1)}function Ho(s,i){sd(s,i);var c=ee(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Wo(s,i.type,c):i.hasOwnProperty("defaultValue")&&Wo(s,i.type,ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function rd(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Wo(s,i,c){(i!=="number"||Di(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var yr=Array.isArray;function Ps(s,i,c,f){if(s=s.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=i.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&f&&(s[c].defaultSelected=!0)}else{for(c=""+ee(c),i=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,f&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Vo(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return $({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function id(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(yr(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:ee(c)}}function ad(s,i){var c=ee(i.value),f=ee(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function od(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function ld(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?ld(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ai,cd=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,p){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ai.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function br(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nx=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(s){Nx.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),vr[i]=vr[s]})});function ud(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||vr.hasOwnProperty(s)&&vr[s]?(""+i).trim():i+"px"}function dd(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,p=ud(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,p):s[c]=p}}var kx=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(s,i){if(i){if(kx[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ko(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function Qo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Go=null,Rs=null,Ts=null;function fd(s){if(s=$r(s)){if(typeof Go!="function")throw Error(n(280));var i=s.stateNode;i&&(i=sa(i),Go(s.stateNode,s.type,i))}}function hd(s){Rs?Ts?Ts.push(s):Ts=[s]:Rs=s}function md(){if(Rs){var s=Rs,i=Ts;if(Ts=Rs=null,fd(s),i)for(s=0;s<i.length;s++)fd(i[s])}}function pd(s,i){return s(i)}function gd(){}var Jo=!1;function xd(s,i,c){if(Jo)return s(i,c);Jo=!0;try{return pd(s,i,c)}finally{Jo=!1,(Rs!==null||Ts!==null)&&(gd(),md())}}function wr(s,i){var c=s.stateNode;if(c===null)return null;var f=sa(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var Zo=!1;if(d)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Zo=!1}function Sx(s,i,c,f,p,x,v,C,T){var U=Array.prototype.slice.call(arguments,3);try{i.apply(c,U)}catch(J){this.onError(J)}}var jr=!1,Oi=null,Fi=!1,el=null,Cx={onError:function(s){jr=!0,Oi=s}};function Ex(s,i,c,f,p,x,v,C,T){jr=!1,Oi=null,Sx.apply(Cx,arguments)}function Px(s,i,c,f,p,x,v,C,T){if(Ex.apply(this,arguments),jr){if(jr){var U=Oi;jr=!1,Oi=null}else throw Error(n(198));Fi||(Fi=!0,el=U)}}function ts(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function yd(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function bd(s){if(ts(s)!==s)throw Error(n(188))}function Rx(s){var i=s.alternate;if(!i){if(i=ts(s),i===null)throw Error(n(188));return i!==s?null:s}for(var c=s,f=i;;){var p=c.return;if(p===null)break;var x=p.alternate;if(x===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===c)return bd(p),s;if(x===f)return bd(p),i;x=x.sibling}throw Error(n(188))}if(c.return!==f.return)c=p,f=x;else{for(var v=!1,C=p.child;C;){if(C===c){v=!0,c=p,f=x;break}if(C===f){v=!0,f=p,c=x;break}C=C.sibling}if(!v){for(C=x.child;C;){if(C===c){v=!0,c=x,f=p;break}if(C===f){v=!0,f=x,c=p;break}C=C.sibling}if(!v)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:i}function vd(s){return s=Rx(s),s!==null?wd(s):null}function wd(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=wd(s);if(i!==null)return i;s=s.sibling}return null}var _d=e.unstable_scheduleCallback,jd=e.unstable_cancelCallback,Tx=e.unstable_shouldYield,Mx=e.unstable_requestPaint,Ve=e.unstable_now,Dx=e.unstable_getCurrentPriorityLevel,tl=e.unstable_ImmediatePriority,Nd=e.unstable_UserBlockingPriority,Li=e.unstable_NormalPriority,Ax=e.unstable_LowPriority,kd=e.unstable_IdlePriority,Ii=null,Jt=null;function Ox(s){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Ii,s,void 0,(s.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Ix,Fx=Math.log,Lx=Math.LN2;function Ix(s){return s>>>=0,s===0?32:31-(Fx(s)/Lx|0)|0}var zi=64,Bi=4194304;function Nr(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ui(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,p=s.suspendedLanes,x=s.pingedLanes,v=c&268435455;if(v!==0){var C=v&~p;C!==0?f=Nr(C):(x&=v,x!==0&&(f=Nr(x)))}else v=c&~p,v!==0?f=Nr(v):x!==0&&(f=Nr(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&p)===0&&(p=f&-f,x=i&-i,p>=x||p===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-Wt(i),p=1<<c,f|=s[c],i&=~p;return f}function zx(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bx(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes;0<x;){var v=31-Wt(x),C=1<<v,T=p[v];T===-1?((C&c)===0||(C&f)!==0)&&(p[v]=zx(C,i)):T<=i&&(s.expiredLanes|=C),x&=~C}}function nl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Sd(){var s=zi;return zi<<=1,(zi&4194240)===0&&(zi=64),s}function sl(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function kr(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Wt(i),s[i]=c}function Ux(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-Wt(c),x=1<<p;i[p]=0,f[p]=-1,s[p]=-1,c&=~x}}function rl(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-Wt(c),p=1<<f;p&i|s[f]&i&&(s[f]|=i),c&=~p}}var Te=0;function Cd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ed,il,Pd,Rd,Td,al=!1,$i=[],Sn=null,Cn=null,En=null,Sr=new Map,Cr=new Map,Pn=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(s,i){switch(s){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Sr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(i.pointerId)}}function Er(s,i,c,f,p,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[p]},i!==null&&(i=$r(i),i!==null&&il(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Hx(s,i,c,f,p){switch(i){case"focusin":return Sn=Er(Sn,s,i,c,f,p),!0;case"dragenter":return Cn=Er(Cn,s,i,c,f,p),!0;case"mouseover":return En=Er(En,s,i,c,f,p),!0;case"pointerover":var x=p.pointerId;return Sr.set(x,Er(Sr.get(x)||null,s,i,c,f,p)),!0;case"gotpointercapture":return x=p.pointerId,Cr.set(x,Er(Cr.get(x)||null,s,i,c,f,p)),!0}return!1}function Dd(s){var i=ns(s.target);if(i!==null){var c=ts(i);if(c!==null){if(i=c.tag,i===13){if(i=yd(c),i!==null){s.blockedOn=i,Td(s.priority,function(){Pd(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hi(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=ll(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Xo=f,c.target.dispatchEvent(f),Xo=null}else return i=$r(c),i!==null&&il(i),s.blockedOn=c,!1;i.shift()}return!0}function Ad(s,i,c){Hi(s)&&c.delete(i)}function Wx(){al=!1,Sn!==null&&Hi(Sn)&&(Sn=null),Cn!==null&&Hi(Cn)&&(Cn=null),En!==null&&Hi(En)&&(En=null),Sr.forEach(Ad),Cr.forEach(Ad)}function Pr(s,i){s.blockedOn===i&&(s.blockedOn=null,al||(al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wx)))}function Rr(s){function i(p){return Pr(p,s)}if(0<$i.length){Pr($i[0],s);for(var c=1;c<$i.length;c++){var f=$i[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Sn!==null&&Pr(Sn,s),Cn!==null&&Pr(Cn,s),En!==null&&Pr(En,s),Sr.forEach(i),Cr.forEach(i),c=0;c<Pn.length;c++)f=Pn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Pn.length&&(c=Pn[0],c.blockedOn===null);)Dd(c),c.blockedOn===null&&Pn.shift()}var Ms=M.ReactCurrentBatchConfig,Wi=!0;function Vx(s,i,c,f){var p=Te,x=Ms.transition;Ms.transition=null;try{Te=1,ol(s,i,c,f)}finally{Te=p,Ms.transition=x}}function qx(s,i,c,f){var p=Te,x=Ms.transition;Ms.transition=null;try{Te=4,ol(s,i,c,f)}finally{Te=p,Ms.transition=x}}function ol(s,i,c,f){if(Wi){var p=ll(s,i,c,f);if(p===null)kl(s,i,f,Vi,c),Md(s,f);else if(Hx(p,s,i,c,f))f.stopPropagation();else if(Md(s,f),i&4&&-1<$x.indexOf(s)){for(;p!==null;){var x=$r(p);if(x!==null&&Ed(x),x=ll(s,i,c,f),x===null&&kl(s,i,f,Vi,c),x===p)break;p=x}p!==null&&f.stopPropagation()}else kl(s,i,f,null,c)}}var Vi=null;function ll(s,i,c,f){if(Vi=null,s=Qo(f),s=ns(s),s!==null)if(i=ts(s),i===null)s=null;else if(c=i.tag,c===13){if(s=yd(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Vi=s,null}function Od(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case tl:return 1;case Nd:return 4;case Li:case Ax:return 16;case kd:return 536870912;default:return 16}default:return 16}}var Rn=null,cl=null,qi=null;function Fd(){if(qi)return qi;var s,i=cl,c=i.length,f,p="value"in Rn?Rn.value:Rn.textContent,x=p.length;for(s=0;s<c&&i[s]===p[s];s++);var v=c-s;for(f=1;f<=v&&i[c-f]===p[x-f];f++);return qi=p.slice(s,1<f?1-f:void 0)}function Yi(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ki(){return!0}function Ld(){return!1}function Pt(s){function i(c,f,p,x,v){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=x,this.target=v,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ki:Ld,this.isPropagationStopped=Ld,this}return $(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Pt(Ds),Tr=$({},Ds,{view:0,detail:0}),Yx=Pt(Tr),dl,fl,Mr,Xi=$({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Mr&&(Mr&&s.type==="mousemove"?(dl=s.screenX-Mr.screenX,fl=s.screenY-Mr.screenY):fl=dl=0,Mr=s),dl)},movementY:function(s){return"movementY"in s?s.movementY:fl}}),Id=Pt(Xi),Kx=$({},Xi,{dataTransfer:0}),Xx=Pt(Kx),Qx=$({},Tr,{relatedTarget:0}),hl=Pt(Qx),Gx=$({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Jx=Pt(Gx),Zx=$({},Ds,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),e0=Pt(Zx),t0=$({},Ds,{data:0}),zd=Pt(t0),n0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=r0[s])?!!i[s]:!1}function ml(){return i0}var a0=$({},Tr,{key:function(s){if(s.key){var i=n0[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Yi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?s0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(s){return s.type==="keypress"?Yi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Yi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),o0=Pt(a0),l0=$({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Pt(l0),c0=$({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),u0=Pt(c0),d0=$({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),f0=Pt(d0),h0=$({},Xi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=Pt(h0),p0=[9,13,27,32],pl=d&&"CompositionEvent"in window,Dr=null;d&&"documentMode"in document&&(Dr=document.documentMode);var g0=d&&"TextEvent"in window&&!Dr,Ud=d&&(!pl||Dr&&8<Dr&&11>=Dr),$d=" ",Hd=!1;function Wd(s,i){switch(s){case"keyup":return p0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var As=!1;function x0(s,i){switch(s){case"compositionend":return Vd(i);case"keypress":return i.which!==32?null:(Hd=!0,$d);case"textInput":return s=i.data,s===$d&&Hd?null:s;default:return null}}function y0(s,i){if(As)return s==="compositionend"||!pl&&Wd(s,i)?(s=Fd(),qi=cl=Rn=null,As=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ud&&i.locale!=="ko"?null:i.data;default:return null}}var b0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!b0[s.type]:i==="textarea"}function Yd(s,i,c,f){hd(f),i=ea(i,"onChange"),0<i.length&&(c=new ul("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var Ar=null,Or=null;function v0(s){ff(s,0)}function Qi(s){var i=zs(s);if(ze(i))return s}function w0(s,i){if(s==="change")return i}var Kd=!1;if(d){var gl;if(d){var xl="oninput"in document;if(!xl){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),xl=typeof Xd.oninput=="function"}gl=xl}else gl=!1;Kd=gl&&(!document.documentMode||9<document.documentMode)}function Qd(){Ar&&(Ar.detachEvent("onpropertychange",Gd),Or=Ar=null)}function Gd(s){if(s.propertyName==="value"&&Qi(Or)){var i=[];Yd(i,Or,s,Qo(s)),xd(v0,i)}}function _0(s,i,c){s==="focusin"?(Qd(),Ar=i,Or=c,Ar.attachEvent("onpropertychange",Gd)):s==="focusout"&&Qd()}function j0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qi(Or)}function N0(s,i){if(s==="click")return Qi(i)}function k0(s,i){if(s==="input"||s==="change")return Qi(i)}function S0(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Vt=typeof Object.is=="function"?Object.is:S0;function Fr(s,i){if(Vt(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!h.call(i,p)||!Vt(s[p],i[p]))return!1}return!0}function Jd(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Zd(s,i){var c=Jd(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Jd(c)}}function ef(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?ef(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function tf(){for(var s=window,i=Di();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=Di(s.document)}return i}function yl(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function C0(s){var i=tf(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&ef(c.ownerDocument.documentElement,c)){if(f!==null&&yl(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,x=Math.min(f.start,p);f=f.end===void 0?x:Math.min(f.end,p),!s.extend&&x>f&&(p=f,f=x,x=p),p=Zd(c,x);var v=Zd(c,f);p&&v&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),x>f?(s.addRange(i),s.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var E0=d&&"documentMode"in document&&11>=document.documentMode,Os=null,bl=null,Lr=null,vl=!1;function nf(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vl||Os==null||Os!==Di(f)||(f=Os,"selectionStart"in f&&yl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Lr&&Fr(Lr,f)||(Lr=f,f=ea(bl,"onSelect"),0<f.length&&(i=new ul("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=Os)))}function Gi(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Fs={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},wl={},sf={};d&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Ji(s){if(wl[s])return wl[s];if(!Fs[s])return s;var i=Fs[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in sf)return wl[s]=i[c];return s}var rf=Ji("animationend"),af=Ji("animationiteration"),of=Ji("animationstart"),lf=Ji("transitionend"),cf=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(s,i){cf.set(s,i),o(i,[s])}for(var _l=0;_l<uf.length;_l++){var jl=uf[_l],P0=jl.toLowerCase(),R0=jl[0].toUpperCase()+jl.slice(1);Tn(P0,"on"+R0)}Tn(rf,"onAnimationEnd"),Tn(af,"onAnimationIteration"),Tn(of,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(lf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function df(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,Px(f,i,void 0,s),s.currentTarget=null}function ff(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],p=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var v=f.length-1;0<=v;v--){var C=f[v],T=C.instance,U=C.currentTarget;if(C=C.listener,T!==x&&p.isPropagationStopped())break e;df(p,C,U),x=T}else for(v=0;v<f.length;v++){if(C=f[v],T=C.instance,U=C.currentTarget,C=C.listener,T!==x&&p.isPropagationStopped())break e;df(p,C,U),x=T}}}if(Fi)throw s=el,Fi=!1,el=null,s}function Oe(s,i){var c=i[Tl];c===void 0&&(c=i[Tl]=new Set);var f=s+"__bubble";c.has(f)||(hf(i,s,2,!1),c.add(f))}function Nl(s,i,c){var f=0;i&&(f|=4),hf(c,s,f,i)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function zr(s){if(!s[Zi]){s[Zi]=!0,r.forEach(function(c){c!=="selectionchange"&&(T0.has(c)||Nl(c,!1,s),Nl(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Zi]||(i[Zi]=!0,Nl("selectionchange",!1,i))}}function hf(s,i,c,f){switch(Od(i)){case 1:var p=Vx;break;case 4:p=qx;break;default:p=ol}c=p.bind(null,i,c,s),p=void 0,!Zo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),f?p!==void 0?s.addEventListener(i,c,{capture:!0,passive:p}):s.addEventListener(i,c,!0):p!==void 0?s.addEventListener(i,c,{passive:p}):s.addEventListener(i,c,!1)}function kl(s,i,c,f,p){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var v=f.tag;if(v===3||v===4){var C=f.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(v===4)for(v=f.return;v!==null;){var T=v.tag;if((T===3||T===4)&&(T=v.stateNode.containerInfo,T===p||T.nodeType===8&&T.parentNode===p))return;v=v.return}for(;C!==null;){if(v=ns(C),v===null)return;if(T=v.tag,T===5||T===6){f=x=v;continue e}C=C.parentNode}}f=f.return}xd(function(){var U=x,J=Qo(c),Z=[];e:{var X=cf.get(s);if(X!==void 0){var ie=ul,ce=s;switch(s){case"keypress":if(Yi(c)===0)break e;case"keydown":case"keyup":ie=o0;break;case"focusin":ce="focus",ie=hl;break;case"focusout":ce="blur",ie=hl;break;case"beforeblur":case"afterblur":ie=hl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=u0;break;case rf:case af:case of:ie=Jx;break;case lf:ie=f0;break;case"scroll":ie=Yx;break;case"wheel":ie=m0;break;case"copy":case"cut":case"paste":ie=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Bd}var de=(i&4)!==0,qe=!de&&s==="scroll",I=de?X!==null?X+"Capture":null:X;de=[];for(var A=U,B;A!==null;){B=A;var te=B.stateNode;if(B.tag===5&&te!==null&&(B=te,I!==null&&(te=wr(A,I),te!=null&&de.push(Br(A,te,B)))),qe)break;A=A.return}0<de.length&&(X=new ie(X,ce,null,c,J),Z.push({event:X,listeners:de}))}}if((i&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",X&&c!==Xo&&(ce=c.relatedTarget||c.fromElement)&&(ns(ce)||ce[cn]))break e;if((ie||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,ie?(ce=c.relatedTarget||c.toElement,ie=U,ce=ce?ns(ce):null,ce!==null&&(qe=ts(ce),ce!==qe||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ie=null,ce=U),ie!==ce)){if(de=Id,te="onMouseLeave",I="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(de=Bd,te="onPointerLeave",I="onPointerEnter",A="pointer"),qe=ie==null?X:zs(ie),B=ce==null?X:zs(ce),X=new de(te,A+"leave",ie,c,J),X.target=qe,X.relatedTarget=B,te=null,ns(J)===U&&(de=new de(I,A+"enter",ce,c,J),de.target=B,de.relatedTarget=qe,te=de),qe=te,ie&&ce)t:{for(de=ie,I=ce,A=0,B=de;B;B=Ls(B))A++;for(B=0,te=I;te;te=Ls(te))B++;for(;0<A-B;)de=Ls(de),A--;for(;0<B-A;)I=Ls(I),B--;for(;A--;){if(de===I||I!==null&&de===I.alternate)break t;de=Ls(de),I=Ls(I)}de=null}else de=null;ie!==null&&mf(Z,X,ie,de,!1),ce!==null&&qe!==null&&mf(Z,qe,ce,de,!0)}}e:{if(X=U?zs(U):window,ie=X.nodeName&&X.nodeName.toLowerCase(),ie==="select"||ie==="input"&&X.type==="file")var he=w0;else if(qd(X))if(Kd)he=k0;else{he=j0;var ye=_0}else(ie=X.nodeName)&&ie.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=N0);if(he&&(he=he(s,U))){Yd(Z,he,c,J);break e}ye&&ye(s,X,U),s==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Wo(X,"number",X.value)}switch(ye=U?zs(U):window,s){case"focusin":(qd(ye)||ye.contentEditable==="true")&&(Os=ye,bl=U,Lr=null);break;case"focusout":Lr=bl=Os=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,nf(Z,c,J);break;case"selectionchange":if(E0)break;case"keydown":case"keyup":nf(Z,c,J)}var be;if(pl)e:{switch(s){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else As?Wd(s,c)&&(ve="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ve="onCompositionStart");ve&&(Ud&&c.locale!=="ko"&&(As||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&As&&(be=Fd()):(Rn=J,cl="value"in Rn?Rn.value:Rn.textContent,As=!0)),ye=ea(U,ve),0<ye.length&&(ve=new zd(ve,s,null,c,J),Z.push({event:ve,listeners:ye}),be?ve.data=be:(be=Vd(c),be!==null&&(ve.data=be)))),(be=g0?x0(s,c):y0(s,c))&&(U=ea(U,"onBeforeInput"),0<U.length&&(J=new zd("onBeforeInput","beforeinput",null,c,J),Z.push({event:J,listeners:U}),J.data=be))}ff(Z,i)})}function Br(s,i,c){return{instance:s,listener:i,currentTarget:c}}function ea(s,i){for(var c=i+"Capture",f=[];s!==null;){var p=s,x=p.stateNode;p.tag===5&&x!==null&&(p=x,x=wr(s,c),x!=null&&f.unshift(Br(s,x,p)),x=wr(s,i),x!=null&&f.push(Br(s,x,p))),s=s.return}return f}function Ls(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function mf(s,i,c,f,p){for(var x=i._reactName,v=[];c!==null&&c!==f;){var C=c,T=C.alternate,U=C.stateNode;if(T!==null&&T===f)break;C.tag===5&&U!==null&&(C=U,p?(T=wr(c,x),T!=null&&v.unshift(Br(c,T,C))):p||(T=wr(c,x),T!=null&&v.push(Br(c,T,C)))),c=c.return}v.length!==0&&s.push({event:i,listeners:v})}var M0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function pf(s){return(typeof s=="string"?s:""+s).replace(M0,`
`).replace(D0,"")}function ta(s,i,c){if(i=pf(i),pf(s)!==i&&c)throw Error(n(425))}function na(){}var Sl=null,Cl=null;function El(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(s){return gf.resolve(null).then(s).catch(F0)}:Pl;function F0(s){setTimeout(function(){throw s})}function Rl(s,i){var c=i,f=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(f===0){s.removeChild(p),Rr(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=p}while(c);Rr(i)}function Mn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function xf(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Is,Ur="__reactProps$"+Is,cn="__reactContainer$"+Is,Tl="__reactEvents$"+Is,L0="__reactListeners$"+Is,I0="__reactHandles$"+Is;function ns(s){var i=s[Zt];if(i)return i;for(var c=s.parentNode;c;){if(i=c[cn]||c[Zt]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=xf(s);s!==null;){if(c=s[Zt])return c;s=xf(s)}return i}s=c,c=s.parentNode}return null}function $r(s){return s=s[Zt]||s[cn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function zs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function sa(s){return s[Ur]||null}var Ml=[],Bs=-1;function Dn(s){return{current:s}}function Fe(s){0>Bs||(s.current=Ml[Bs],Ml[Bs]=null,Bs--)}function Ae(s,i){Bs++,Ml[Bs]=s.current,s.current=i}var An={},at=Dn(An),xt=Dn(!1),ss=An;function Us(s,i){var c=s.type.contextTypes;if(!c)return An;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var p={},x;for(x in c)p[x]=i[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function yt(s){return s=s.childContextTypes,s!=null}function ra(){Fe(xt),Fe(at)}function yf(s,i,c){if(at.current!==An)throw Error(n(168));Ae(at,i),Ae(xt,c)}function bf(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var p in f)if(!(p in i))throw Error(n(108,Ce(s)||"Unknown",p));return $({},c,f)}function ia(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||An,ss=at.current,Ae(at,s),Ae(xt,xt.current),!0}function vf(s,i,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=bf(s,i,ss),f.__reactInternalMemoizedMergedChildContext=s,Fe(xt),Fe(at),Ae(at,s)):Fe(xt),Ae(xt,c)}var un=null,aa=!1,Dl=!1;function wf(s){un===null?un=[s]:un.push(s)}function z0(s){aa=!0,wf(s)}function On(){if(!Dl&&un!==null){Dl=!0;var s=0,i=Te;try{var c=un;for(Te=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}un=null,aa=!1}catch(p){throw un!==null&&(un=un.slice(s+1)),_d(tl,On),p}finally{Te=i,Dl=!1}}return null}var $s=[],Hs=0,oa=null,la=0,At=[],Ot=0,rs=null,dn=1,fn="";function is(s,i){$s[Hs++]=la,$s[Hs++]=oa,oa=s,la=i}function _f(s,i,c){At[Ot++]=dn,At[Ot++]=fn,At[Ot++]=rs,rs=s;var f=dn;s=fn;var p=32-Wt(f)-1;f&=~(1<<p),c+=1;var x=32-Wt(i)+p;if(30<x){var v=p-p%5;x=(f&(1<<v)-1).toString(32),f>>=v,p-=v,dn=1<<32-Wt(i)+p|c<<p|f,fn=x+s}else dn=1<<x|c<<p|f,fn=s}function Al(s){s.return!==null&&(is(s,1),_f(s,1,0))}function Ol(s){for(;s===oa;)oa=$s[--Hs],$s[Hs]=null,la=$s[--Hs],$s[Hs]=null;for(;s===rs;)rs=At[--Ot],At[Ot]=null,fn=At[--Ot],At[Ot]=null,dn=At[--Ot],At[Ot]=null}var Rt=null,Tt=null,Ie=!1,qt=null;function jf(s,i){var c=zt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function Nf(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Rt=s,Tt=Mn(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Rt=s,Tt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=rs!==null?{id:dn,overflow:fn}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=zt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,Rt=s,Tt=null,!0):!1;default:return!1}}function Fl(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ll(s){if(Ie){var i=Tt;if(i){var c=i;if(!Nf(s,i)){if(Fl(s))throw Error(n(418));i=Mn(c.nextSibling);var f=Rt;i&&Nf(s,i)?jf(f,c):(s.flags=s.flags&-4097|2,Ie=!1,Rt=s)}}else{if(Fl(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ie=!1,Rt=s}}}function kf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rt=s}function ca(s){if(s!==Rt)return!1;if(!Ie)return kf(s),Ie=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!El(s.type,s.memoizedProps)),i&&(i=Tt)){if(Fl(s))throw Sf(),Error(n(418));for(;i;)jf(s,i),i=Mn(i.nextSibling)}if(kf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Tt=Mn(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Tt=null}}else Tt=Rt?Mn(s.stateNode.nextSibling):null;return!0}function Sf(){for(var s=Tt;s;)s=Mn(s.nextSibling)}function Ws(){Tt=Rt=null,Ie=!1}function Il(s){qt===null?qt=[s]:qt.push(s)}var B0=M.ReactCurrentBatchConfig;function Hr(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var p=f,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(v){var C=p.refs;v===null?delete C[x]:C[x]=v},i._stringRef=x,i)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function ua(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Cf(s){var i=s._init;return i(s._payload)}function Ef(s){function i(I,A){if(s){var B=I.deletions;B===null?(I.deletions=[A],I.flags|=16):B.push(A)}}function c(I,A){if(!s)return null;for(;A!==null;)i(I,A),A=A.sibling;return null}function f(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function p(I,A){return I=Hn(I,A),I.index=0,I.sibling=null,I}function x(I,A,B){return I.index=B,s?(B=I.alternate,B!==null?(B=B.index,B<A?(I.flags|=2,A):B):(I.flags|=2,A)):(I.flags|=1048576,A)}function v(I){return s&&I.alternate===null&&(I.flags|=2),I}function C(I,A,B,te){return A===null||A.tag!==6?(A=Pc(B,I.mode,te),A.return=I,A):(A=p(A,B),A.return=I,A)}function T(I,A,B,te){var he=B.type;return he===z?J(I,A,B.props.children,te,B.key):A!==null&&(A.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===fe&&Cf(he)===A.type)?(te=p(A,B.props),te.ref=Hr(I,A,B),te.return=I,te):(te=Aa(B.type,B.key,B.props,null,I.mode,te),te.ref=Hr(I,A,B),te.return=I,te)}function U(I,A,B,te){return A===null||A.tag!==4||A.stateNode.containerInfo!==B.containerInfo||A.stateNode.implementation!==B.implementation?(A=Rc(B,I.mode,te),A.return=I,A):(A=p(A,B.children||[]),A.return=I,A)}function J(I,A,B,te,he){return A===null||A.tag!==7?(A=hs(B,I.mode,te,he),A.return=I,A):(A=p(A,B),A.return=I,A)}function Z(I,A,B){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Pc(""+A,I.mode,B),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return B=Aa(A.type,A.key,A.props,null,I.mode,B),B.ref=Hr(I,null,A),B.return=I,B;case V:return A=Rc(A,I.mode,B),A.return=I,A;case fe:var te=A._init;return Z(I,te(A._payload),B)}if(yr(A)||K(A))return A=hs(A,I.mode,B,null),A.return=I,A;ua(I,A)}return null}function X(I,A,B,te){var he=A!==null?A.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return he!==null?null:C(I,A,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return B.key===he?T(I,A,B,te):null;case V:return B.key===he?U(I,A,B,te):null;case fe:return he=B._init,X(I,A,he(B._payload),te)}if(yr(B)||K(B))return he!==null?null:J(I,A,B,te,null);ua(I,B)}return null}function ie(I,A,B,te,he){if(typeof te=="string"&&te!==""||typeof te=="number")return I=I.get(B)||null,C(A,I,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case F:return I=I.get(te.key===null?B:te.key)||null,T(A,I,te,he);case V:return I=I.get(te.key===null?B:te.key)||null,U(A,I,te,he);case fe:var ye=te._init;return ie(I,A,B,ye(te._payload),he)}if(yr(te)||K(te))return I=I.get(B)||null,J(A,I,te,he,null);ua(A,te)}return null}function ce(I,A,B,te){for(var he=null,ye=null,be=A,ve=A=0,tt=null;be!==null&&ve<B.length;ve++){be.index>ve?(tt=be,be=null):tt=be.sibling;var Pe=X(I,be,B[ve],te);if(Pe===null){be===null&&(be=tt);break}s&&be&&Pe.alternate===null&&i(I,be),A=x(Pe,A,ve),ye===null?he=Pe:ye.sibling=Pe,ye=Pe,be=tt}if(ve===B.length)return c(I,be),Ie&&is(I,ve),he;if(be===null){for(;ve<B.length;ve++)be=Z(I,B[ve],te),be!==null&&(A=x(be,A,ve),ye===null?he=be:ye.sibling=be,ye=be);return Ie&&is(I,ve),he}for(be=f(I,be);ve<B.length;ve++)tt=ie(be,I,ve,B[ve],te),tt!==null&&(s&&tt.alternate!==null&&be.delete(tt.key===null?ve:tt.key),A=x(tt,A,ve),ye===null?he=tt:ye.sibling=tt,ye=tt);return s&&be.forEach(function(Wn){return i(I,Wn)}),Ie&&is(I,ve),he}function de(I,A,B,te){var he=K(B);if(typeof he!="function")throw Error(n(150));if(B=he.call(B),B==null)throw Error(n(151));for(var ye=he=null,be=A,ve=A=0,tt=null,Pe=B.next();be!==null&&!Pe.done;ve++,Pe=B.next()){be.index>ve?(tt=be,be=null):tt=be.sibling;var Wn=X(I,be,Pe.value,te);if(Wn===null){be===null&&(be=tt);break}s&&be&&Wn.alternate===null&&i(I,be),A=x(Wn,A,ve),ye===null?he=Wn:ye.sibling=Wn,ye=Wn,be=tt}if(Pe.done)return c(I,be),Ie&&is(I,ve),he;if(be===null){for(;!Pe.done;ve++,Pe=B.next())Pe=Z(I,Pe.value,te),Pe!==null&&(A=x(Pe,A,ve),ye===null?he=Pe:ye.sibling=Pe,ye=Pe);return Ie&&is(I,ve),he}for(be=f(I,be);!Pe.done;ve++,Pe=B.next())Pe=ie(be,I,ve,Pe.value,te),Pe!==null&&(s&&Pe.alternate!==null&&be.delete(Pe.key===null?ve:Pe.key),A=x(Pe,A,ve),ye===null?he=Pe:ye.sibling=Pe,ye=Pe);return s&&be.forEach(function(by){return i(I,by)}),Ie&&is(I,ve),he}function qe(I,A,B,te){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case F:e:{for(var he=B.key,ye=A;ye!==null;){if(ye.key===he){if(he=B.type,he===z){if(ye.tag===7){c(I,ye.sibling),A=p(ye,B.props.children),A.return=I,I=A;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===fe&&Cf(he)===ye.type){c(I,ye.sibling),A=p(ye,B.props),A.ref=Hr(I,ye,B),A.return=I,I=A;break e}c(I,ye);break}else i(I,ye);ye=ye.sibling}B.type===z?(A=hs(B.props.children,I.mode,te,B.key),A.return=I,I=A):(te=Aa(B.type,B.key,B.props,null,I.mode,te),te.ref=Hr(I,A,B),te.return=I,I=te)}return v(I);case V:e:{for(ye=B.key;A!==null;){if(A.key===ye)if(A.tag===4&&A.stateNode.containerInfo===B.containerInfo&&A.stateNode.implementation===B.implementation){c(I,A.sibling),A=p(A,B.children||[]),A.return=I,I=A;break e}else{c(I,A);break}else i(I,A);A=A.sibling}A=Rc(B,I.mode,te),A.return=I,I=A}return v(I);case fe:return ye=B._init,qe(I,A,ye(B._payload),te)}if(yr(B))return ce(I,A,B,te);if(K(B))return de(I,A,B,te);ua(I,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,A!==null&&A.tag===6?(c(I,A.sibling),A=p(A,B),A.return=I,I=A):(c(I,A),A=Pc(B,I.mode,te),A.return=I,I=A),v(I)):c(I,A)}return qe}var Vs=Ef(!0),Pf=Ef(!1),da=Dn(null),fa=null,qs=null,zl=null;function Bl(){zl=qs=fa=null}function Ul(s){var i=da.current;Fe(da),s._currentValue=i}function $l(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function Ys(s,i){fa=s,zl=qs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(bt=!0),s.firstContext=null)}function Ft(s){var i=s._currentValue;if(zl!==s)if(s={context:s,memoizedValue:i,next:null},qs===null){if(fa===null)throw Error(n(308));qs=s,fa.dependencies={lanes:0,firstContext:s}}else qs=qs.next=s;return i}var as=null;function Hl(s){as===null?as=[s]:as.push(s)}function Rf(s,i,c,f){var p=i.interleaved;return p===null?(c.next=c,Hl(i)):(c.next=p.next,p.next=c),i.interleaved=c,hn(s,f)}function hn(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Fn=!1;function Wl(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tf(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Ln(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ee&2)!==0){var p=f.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),f.pending=i,hn(s,c)}return p=f.interleaved,p===null?(i.next=i,Hl(f)):(i.next=p.next,p.next=i),f.interleaved=i,hn(s,c)}function ha(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,rl(s,c)}}function Mf(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var v={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?p=x=v:x=x.next=v,c=c.next}while(c!==null);x===null?p=x=i:x=x.next=i}else p=x=i;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function ma(s,i,c,f){var p=s.updateQueue;Fn=!1;var x=p.firstBaseUpdate,v=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var T=C,U=T.next;T.next=null,v===null?x=U:v.next=U,v=T;var J=s.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==v&&(C===null?J.firstBaseUpdate=U:C.next=U,J.lastBaseUpdate=T))}if(x!==null){var Z=p.baseState;v=0,J=U=T=null,C=x;do{var X=C.lane,ie=C.eventTime;if((f&X)===X){J!==null&&(J=J.next={eventTime:ie,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ce=s,de=C;switch(X=i,ie=c,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){Z=ce.call(ie,Z,X);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,X=typeof ce=="function"?ce.call(ie,Z,X):ce,X==null)break e;Z=$({},Z,X);break e;case 2:Fn=!0}}C.callback!==null&&C.lane!==0&&(s.flags|=64,X=p.effects,X===null?p.effects=[C]:X.push(C))}else ie={eventTime:ie,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(U=J=ie,T=Z):J=J.next=ie,v|=X;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;X=C,C=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(J===null&&(T=Z),p.baseState=T,p.firstBaseUpdate=U,p.lastBaseUpdate=J,i=p.shared.interleaved,i!==null){p=i;do v|=p.lane,p=p.next;while(p!==i)}else x===null&&(p.shared.lanes=0);cs|=v,s.lanes=v,s.memoizedState=Z}}function Df(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],p=f.callback;if(p!==null){if(f.callback=null,f=c,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var Wr={},en=Dn(Wr),Vr=Dn(Wr),qr=Dn(Wr);function os(s){if(s===Wr)throw Error(n(174));return s}function Vl(s,i){switch(Ae(qr,i),Ae(Vr,s),Ae(en,Wr),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:qo(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=qo(i,s)}Fe(en),Ae(en,i)}function Ks(){Fe(en),Fe(Vr),Fe(qr)}function Af(s){os(qr.current);var i=os(en.current),c=qo(i,s.type);i!==c&&(Ae(Vr,s),Ae(en,c))}function ql(s){Vr.current===s&&(Fe(en),Fe(Vr))}var Be=Dn(0);function pa(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yl=[];function Kl(){for(var s=0;s<Yl.length;s++)Yl[s]._workInProgressVersionPrimary=null;Yl.length=0}var ga=M.ReactCurrentDispatcher,Xl=M.ReactCurrentBatchConfig,ls=0,Ue=null,Qe=null,Ze=null,xa=!1,Yr=!1,Kr=0,U0=0;function ot(){throw Error(n(321))}function Ql(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!Vt(s[c],i[c]))return!1;return!0}function Gl(s,i,c,f,p,x){if(ls=x,Ue=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ga.current=s===null||s.memoizedState===null?V0:q0,s=c(f,p),Yr){x=0;do{if(Yr=!1,Kr=0,25<=x)throw Error(n(301));x+=1,Ze=Qe=null,i.updateQueue=null,ga.current=Y0,s=c(f,p)}while(Yr)}if(ga.current=va,i=Qe!==null&&Qe.next!==null,ls=0,Ze=Qe=Ue=null,xa=!1,i)throw Error(n(300));return s}function Jl(){var s=Kr!==0;return Kr=0,s}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ue.memoizedState=Ze=s:Ze=Ze.next=s,Ze}function Lt(){if(Qe===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=Qe.next;var i=Ze===null?Ue.memoizedState:Ze.next;if(i!==null)Ze=i,Qe=s;else{if(s===null)throw Error(n(310));Qe=s,s={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ze===null?Ue.memoizedState=Ze=s:Ze=Ze.next=s}return Ze}function Xr(s,i){return typeof i=="function"?i(s):i}function Zl(s){var i=Lt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=Qe,p=f.baseQueue,x=c.pending;if(x!==null){if(p!==null){var v=p.next;p.next=x.next,x.next=v}f.baseQueue=p=x,c.pending=null}if(p!==null){x=p.next,f=f.baseState;var C=v=null,T=null,U=x;do{var J=U.lane;if((ls&J)===J)T!==null&&(T=T.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:s(f,U.action);else{var Z={lane:J,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};T===null?(C=T=Z,v=f):T=T.next=Z,Ue.lanes|=J,cs|=J}U=U.next}while(U!==null&&U!==x);T===null?v=f:T.next=C,Vt(f,i.memoizedState)||(bt=!0),i.memoizedState=f,i.baseState=v,i.baseQueue=T,c.lastRenderedState=f}if(s=c.interleaved,s!==null){p=s;do x=p.lane,Ue.lanes|=x,cs|=x,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function ec(s){var i=Lt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,p=c.pending,x=i.memoizedState;if(p!==null){c.pending=null;var v=p=p.next;do x=s(x,v.action),v=v.next;while(v!==p);Vt(x,i.memoizedState)||(bt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,f]}function Of(){}function Ff(s,i){var c=Ue,f=Lt(),p=i(),x=!Vt(f.memoizedState,p);if(x&&(f.memoizedState=p,bt=!0),f=f.queue,tc(zf.bind(null,c,f,s),[s]),f.getSnapshot!==i||x||Ze!==null&&Ze.memoizedState.tag&1){if(c.flags|=2048,Qr(9,If.bind(null,c,f,p,i),void 0,null),et===null)throw Error(n(349));(ls&30)!==0||Lf(c,i,p)}return p}function Lf(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Ue.updateQueue,i===null?(i={lastEffect:null,stores:null},Ue.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function If(s,i,c,f){i.value=c,i.getSnapshot=f,Bf(i)&&Uf(s)}function zf(s,i,c){return c(function(){Bf(i)&&Uf(s)})}function Bf(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!Vt(s,c)}catch{return!0}}function Uf(s){var i=hn(s,1);i!==null&&Qt(i,s,1,-1)}function $f(s){var i=tn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:s},i.queue=s,s=s.dispatch=W0.bind(null,Ue,s),[i.memoizedState,s]}function Qr(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=Ue.updateQueue,i===null?(i={lastEffect:null,stores:null},Ue.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function Hf(){return Lt().memoizedState}function ya(s,i,c,f){var p=tn();Ue.flags|=s,p.memoizedState=Qr(1|i,c,void 0,f===void 0?null:f)}function ba(s,i,c,f){var p=Lt();f=f===void 0?null:f;var x=void 0;if(Qe!==null){var v=Qe.memoizedState;if(x=v.destroy,f!==null&&Ql(f,v.deps)){p.memoizedState=Qr(i,c,x,f);return}}Ue.flags|=s,p.memoizedState=Qr(1|i,c,x,f)}function Wf(s,i){return ya(8390656,8,s,i)}function tc(s,i){return ba(2048,8,s,i)}function Vf(s,i){return ba(4,2,s,i)}function qf(s,i){return ba(4,4,s,i)}function Yf(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Kf(s,i,c){return c=c!=null?c.concat([s]):null,ba(4,4,Yf.bind(null,i,s),c)}function nc(){}function Xf(s,i){var c=Lt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Ql(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function Qf(s,i){var c=Lt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Ql(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function Gf(s,i,c){return(ls&21)===0?(s.baseState&&(s.baseState=!1,bt=!0),s.memoizedState=c):(Vt(c,i)||(c=Sd(),Ue.lanes|=c,cs|=c,s.baseState=!0),i)}function $0(s,i){var c=Te;Te=c!==0&&4>c?c:4,s(!0);var f=Xl.transition;Xl.transition={};try{s(!1),i()}finally{Te=c,Xl.transition=f}}function Jf(){return Lt().memoizedState}function H0(s,i,c){var f=Un(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Zf(s))eh(i,c);else if(c=Rf(s,i,c,f),c!==null){var p=gt();Qt(c,s,f,p),th(c,i,f)}}function W0(s,i,c){var f=Un(s),p={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zf(s))eh(i,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var v=i.lastRenderedState,C=x(v,c);if(p.hasEagerState=!0,p.eagerState=C,Vt(C,v)){var T=i.interleaved;T===null?(p.next=p,Hl(i)):(p.next=T.next,T.next=p),i.interleaved=p;return}}catch{}finally{}c=Rf(s,i,p,f),c!==null&&(p=gt(),Qt(c,s,f,p),th(c,i,f))}}function Zf(s){var i=s.alternate;return s===Ue||i!==null&&i===Ue}function eh(s,i){Yr=xa=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function th(s,i,c){if((c&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,rl(s,c)}}var va={readContext:Ft,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},V0={readContext:Ft,useCallback:function(s,i){return tn().memoizedState=[s,i===void 0?null:i],s},useContext:Ft,useEffect:Wf,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,ya(4194308,4,Yf.bind(null,i,s),c)},useLayoutEffect:function(s,i){return ya(4194308,4,s,i)},useInsertionEffect:function(s,i){return ya(4,2,s,i)},useMemo:function(s,i){var c=tn();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=tn();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=H0.bind(null,Ue,s),[f.memoizedState,s]},useRef:function(s){var i=tn();return s={current:s},i.memoizedState=s},useState:$f,useDebugValue:nc,useDeferredValue:function(s){return tn().memoizedState=s},useTransition:function(){var s=$f(!1),i=s[0];return s=$0.bind(null,s[1]),tn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=Ue,p=tn();if(Ie){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),et===null)throw Error(n(349));(ls&30)!==0||Lf(f,i,c)}p.memoizedState=c;var x={value:c,getSnapshot:i};return p.queue=x,Wf(zf.bind(null,f,x,s),[s]),f.flags|=2048,Qr(9,If.bind(null,f,x,c,i),void 0,null),c},useId:function(){var s=tn(),i=et.identifierPrefix;if(Ie){var c=fn,f=dn;c=(f&~(1<<32-Wt(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=Kr++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=U0++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},q0={readContext:Ft,useCallback:Xf,useContext:Ft,useEffect:tc,useImperativeHandle:Kf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Qf,useReducer:Zl,useRef:Hf,useState:function(){return Zl(Xr)},useDebugValue:nc,useDeferredValue:function(s){var i=Lt();return Gf(i,Qe.memoizedState,s)},useTransition:function(){var s=Zl(Xr)[0],i=Lt().memoizedState;return[s,i]},useMutableSource:Of,useSyncExternalStore:Ff,useId:Jf,unstable_isNewReconciler:!1},Y0={readContext:Ft,useCallback:Xf,useContext:Ft,useEffect:tc,useImperativeHandle:Kf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Qf,useReducer:ec,useRef:Hf,useState:function(){return ec(Xr)},useDebugValue:nc,useDeferredValue:function(s){var i=Lt();return Qe===null?i.memoizedState=s:Gf(i,Qe.memoizedState,s)},useTransition:function(){var s=ec(Xr)[0],i=Lt().memoizedState;return[s,i]},useMutableSource:Of,useSyncExternalStore:Ff,useId:Jf,unstable_isNewReconciler:!1};function Yt(s,i){if(s&&s.defaultProps){i=$({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function sc(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:$({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var wa={isMounted:function(s){return(s=s._reactInternals)?ts(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=gt(),p=Un(s),x=mn(f,p);x.payload=i,c!=null&&(x.callback=c),i=Ln(s,x,p),i!==null&&(Qt(i,s,p,f),ha(i,s,p))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=gt(),p=Un(s),x=mn(f,p);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Ln(s,x,p),i!==null&&(Qt(i,s,p,f),ha(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=gt(),f=Un(s),p=mn(c,f);p.tag=2,i!=null&&(p.callback=i),i=Ln(s,p,f),i!==null&&(Qt(i,s,f,c),ha(i,s,f))}};function nh(s,i,c,f,p,x,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,v):i.prototype&&i.prototype.isPureReactComponent?!Fr(c,f)||!Fr(p,x):!0}function sh(s,i,c){var f=!1,p=An,x=i.contextType;return typeof x=="object"&&x!==null?x=Ft(x):(p=yt(i)?ss:at.current,f=i.contextTypes,x=(f=f!=null)?Us(s,p):An),i=new i(c,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wa,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=x),i}function rh(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&wa.enqueueReplaceState(i,i.state,null)}function rc(s,i,c,f){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs={},Wl(s);var x=i.contextType;typeof x=="object"&&x!==null?p.context=Ft(x):(x=yt(i)?ss:at.current,p.context=Us(s,x)),p.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(sc(s,i,x,c),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&wa.enqueueReplaceState(p,p.state,null),ma(s,c,p,f),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Xs(s,i){try{var c="",f=i;do c+=pe(f),f=f.return;while(f);var p=c}catch(x){p=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:p,digest:null}}function ic(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function ac(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function ih(s,i,c){c=mn(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){Ea||(Ea=!0,wc=f),ac(s,i)},c}function ah(s,i,c){c=mn(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=i.value;c.payload=function(){return f(p)},c.callback=function(){ac(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){ac(s,i),typeof f!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),c}function oh(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new K0;var p=new Set;f.set(i,p)}else p=f.get(i),p===void 0&&(p=new Set,f.set(i,p));p.has(c)||(p.add(c),s=ly.bind(null,s,i,c),i.then(s,s))}function lh(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function ch(s,i,c,f,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=mn(-1,1),i.tag=2,Ln(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var X0=M.ReactCurrentOwner,bt=!1;function pt(s,i,c,f){i.child=s===null?Pf(i,null,c,f):Vs(i,s.child,c,f)}function uh(s,i,c,f,p){c=c.render;var x=i.ref;return Ys(i,p),f=Gl(s,i,c,f,x,p),c=Jl(),s!==null&&!bt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,pn(s,i,p)):(Ie&&c&&Al(i),i.flags|=1,pt(s,i,f,p),i.child)}function dh(s,i,c,f,p){if(s===null){var x=c.type;return typeof x=="function"&&!Ec(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,fh(s,i,x,f,p)):(s=Aa(c.type,null,f,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&p)===0){var v=x.memoizedProps;if(c=c.compare,c=c!==null?c:Fr,c(v,f)&&s.ref===i.ref)return pn(s,i,p)}return i.flags|=1,s=Hn(x,f),s.ref=i.ref,s.return=i,i.child=s}function fh(s,i,c,f,p){if(s!==null){var x=s.memoizedProps;if(Fr(x,f)&&s.ref===i.ref)if(bt=!1,i.pendingProps=f=x,(s.lanes&p)!==0)(s.flags&131072)!==0&&(bt=!0);else return i.lanes=s.lanes,pn(s,i,p)}return oc(s,i,c,f,p)}function hh(s,i,c){var f=i.pendingProps,p=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Gs,Mt),Mt|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ae(Gs,Mt),Mt|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,Ae(Gs,Mt),Mt|=f}else x!==null?(f=x.baseLanes|c,i.memoizedState=null):f=c,Ae(Gs,Mt),Mt|=f;return pt(s,i,p,c),i.child}function mh(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function oc(s,i,c,f,p){var x=yt(c)?ss:at.current;return x=Us(i,x),Ys(i,p),c=Gl(s,i,c,f,x,p),f=Jl(),s!==null&&!bt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,pn(s,i,p)):(Ie&&f&&Al(i),i.flags|=1,pt(s,i,c,p),i.child)}function ph(s,i,c,f,p){if(yt(c)){var x=!0;ia(i)}else x=!1;if(Ys(i,p),i.stateNode===null)ja(s,i),sh(i,c,f),rc(i,c,f,p),f=!0;else if(s===null){var v=i.stateNode,C=i.memoizedProps;v.props=C;var T=v.context,U=c.contextType;typeof U=="object"&&U!==null?U=Ft(U):(U=yt(c)?ss:at.current,U=Us(i,U));var J=c.getDerivedStateFromProps,Z=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==f||T!==U)&&rh(i,v,f,U),Fn=!1;var X=i.memoizedState;v.state=X,ma(i,f,v,p),T=i.memoizedState,C!==f||X!==T||xt.current||Fn?(typeof J=="function"&&(sc(i,c,J,f),T=i.memoizedState),(C=Fn||nh(i,c,C,f,X,T,U))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=T),v.props=f,v.state=T,v.context=U,f=C):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{v=i.stateNode,Tf(s,i),C=i.memoizedProps,U=i.type===i.elementType?C:Yt(i.type,C),v.props=U,Z=i.pendingProps,X=v.context,T=c.contextType,typeof T=="object"&&T!==null?T=Ft(T):(T=yt(c)?ss:at.current,T=Us(i,T));var ie=c.getDerivedStateFromProps;(J=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==Z||X!==T)&&rh(i,v,f,T),Fn=!1,X=i.memoizedState,v.state=X,ma(i,f,v,p);var ce=i.memoizedState;C!==Z||X!==ce||xt.current||Fn?(typeof ie=="function"&&(sc(i,c,ie,f),ce=i.memoizedState),(U=Fn||nh(i,c,U,f,X,ce,T)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,ce,T),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,ce,T)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ce),v.props=f,v.state=ce,v.context=T,f=U):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),f=!1)}return lc(s,i,c,f,x,p)}function lc(s,i,c,f,p,x){mh(s,i);var v=(i.flags&128)!==0;if(!f&&!v)return p&&vf(i,c,!1),pn(s,i,x);f=i.stateNode,X0.current=i;var C=v&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&v?(i.child=Vs(i,s.child,null,x),i.child=Vs(i,null,C,x)):pt(s,i,C,x),i.memoizedState=f.state,p&&vf(i,c,!0),i.child}function gh(s){var i=s.stateNode;i.pendingContext?yf(s,i.pendingContext,i.pendingContext!==i.context):i.context&&yf(s,i.context,!1),Vl(s,i.containerInfo)}function xh(s,i,c,f,p){return Ws(),Il(p),i.flags|=256,pt(s,i,c,f),i.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function uc(s){return{baseLanes:s,cachePool:null,transitions:null}}function yh(s,i,c){var f=i.pendingProps,p=Be.current,x=!1,v=(i.flags&128)!==0,C;if((C=v)||(C=s!==null&&s.memoizedState===null?!1:(p&2)!==0),C?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ae(Be,p&1),s===null)return Ll(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=f.children,s=f.fallback,x?(f=i.mode,x=i.child,v={mode:"hidden",children:v},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=v):x=Oa(v,f,0,null),s=hs(s,f,c,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=uc(c),i.memoizedState=cc,s):dc(i,v));if(p=s.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return Q0(s,i,v,f,C,p,c);if(x){x=f.fallback,v=i.mode,p=s.child,C=p.sibling;var T={mode:"hidden",children:f.children};return(v&1)===0&&i.child!==p?(f=i.child,f.childLanes=0,f.pendingProps=T,i.deletions=null):(f=Hn(p,T),f.subtreeFlags=p.subtreeFlags&14680064),C!==null?x=Hn(C,x):(x=hs(x,v,c,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,v=s.child.memoizedState,v=v===null?uc(c):{baseLanes:v.baseLanes|c,cachePool:null,transitions:v.transitions},x.memoizedState=v,x.childLanes=s.childLanes&~c,i.memoizedState=cc,f}return x=s.child,s=x.sibling,f=Hn(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function dc(s,i){return i=Oa({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function _a(s,i,c,f){return f!==null&&Il(f),Vs(i,s.child,null,c),s=dc(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Q0(s,i,c,f,p,x,v){if(c)return i.flags&256?(i.flags&=-257,f=ic(Error(n(422))),_a(s,i,v,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=f.fallback,p=i.mode,f=Oa({mode:"visible",children:f.children},p,0,null),x=hs(x,p,v,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Vs(i,s.child,null,v),i.child.memoizedState=uc(v),i.memoizedState=cc,x);if((i.mode&1)===0)return _a(s,i,v,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var C=f.dgst;return f=C,x=Error(n(419)),f=ic(x,f,void 0),_a(s,i,v,f)}if(C=(v&s.childLanes)!==0,bt||C){if(f=et,f!==null){switch(v&-v){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(f.suspendedLanes|v))!==0?0:p,p!==0&&p!==x.retryLane&&(x.retryLane=p,hn(s,p),Qt(f,s,p,-1))}return Cc(),f=ic(Error(n(421))),_a(s,i,v,f)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=cy.bind(null,s),p._reactRetry=i,null):(s=x.treeContext,Tt=Mn(p.nextSibling),Rt=i,Ie=!0,qt=null,s!==null&&(At[Ot++]=dn,At[Ot++]=fn,At[Ot++]=rs,dn=s.id,fn=s.overflow,rs=i),i=dc(i,f.children),i.flags|=4096,i)}function bh(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),$l(s.return,i,c)}function fc(s,i,c,f,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=p)}function vh(s,i,c){var f=i.pendingProps,p=f.revealOrder,x=f.tail;if(pt(s,i,f.children,c),f=Be.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bh(s,c,i);else if(s.tag===19)bh(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Ae(Be,f),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)s=c.alternate,s!==null&&pa(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),fc(i,!1,p,c,x);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&pa(s)===null){i.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}fc(i,!0,c,null,x);break;case"together":fc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ja(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function pn(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),cs|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,c=Hn(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=Hn(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function G0(s,i,c){switch(i.tag){case 3:gh(i),Ws();break;case 5:Af(i);break;case 1:yt(i.type)&&ia(i);break;case 4:Vl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,p=i.memoizedProps.value;Ae(da,f._currentValue),f._currentValue=p;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Ae(Be,Be.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?yh(s,i,c):(Ae(Be,Be.current&1),s=pn(s,i,c),s!==null?s.sibling:null);Ae(Be,Be.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(s.flags&128)!==0){if(f)return vh(s,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ae(Be,Be.current),f)break;return null;case 22:case 23:return i.lanes=0,hh(s,i,c)}return pn(s,i,c)}var wh,hc,_h,jh;wh=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},hc=function(){},_h=function(s,i,c,f){var p=s.memoizedProps;if(p!==f){s=i.stateNode,os(en.current);var x=null;switch(c){case"input":p=$o(s,p),f=$o(s,f),x=[];break;case"select":p=$({},p,{value:void 0}),f=$({},f,{value:void 0}),x=[];break;case"textarea":p=Vo(s,p),f=Vo(s,f),x=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=na)}Yo(c,f);var v;c=null;for(U in p)if(!f.hasOwnProperty(U)&&p.hasOwnProperty(U)&&p[U]!=null)if(U==="style"){var C=p[U];for(v in C)C.hasOwnProperty(v)&&(c||(c={}),c[v]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?x||(x=[]):(x=x||[]).push(U,null));for(U in f){var T=f[U];if(C=p?.[U],f.hasOwnProperty(U)&&T!==C&&(T!=null||C!=null))if(U==="style")if(C){for(v in C)!C.hasOwnProperty(v)||T&&T.hasOwnProperty(v)||(c||(c={}),c[v]="");for(v in T)T.hasOwnProperty(v)&&C[v]!==T[v]&&(c||(c={}),c[v]=T[v])}else c||(x||(x=[]),x.push(U,c)),c=T;else U==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,C=C?C.__html:void 0,T!=null&&C!==T&&(x=x||[]).push(U,T)):U==="children"?typeof T!="string"&&typeof T!="number"||(x=x||[]).push(U,""+T):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(T!=null&&U==="onScroll"&&Oe("scroll",s),x||C===T||(x=[])):(x=x||[]).push(U,T))}c&&(x=x||[]).push("style",c);var U=x;(i.updateQueue=U)&&(i.flags|=4)}},jh=function(s,i,c,f){c!==f&&(i.flags|=4)};function Gr(s,i){if(!Ie)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function lt(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function J0(s,i,c){var f=i.pendingProps;switch(Ol(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return yt(i.type)&&ra(),lt(i),null;case 3:return f=i.stateNode,Ks(),Fe(xt),Fe(at),Kl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(ca(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qt!==null&&(Nc(qt),qt=null))),hc(s,i),lt(i),null;case 5:ql(i);var p=os(qr.current);if(c=i.type,s!==null&&i.stateNode!=null)_h(s,i,c,f,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return lt(i),null}if(s=os(en.current),ca(i)){f=i.stateNode,c=i.type;var x=i.memoizedProps;switch(f[Zt]=i,f[Ur]=x,s=(i.mode&1)!==0,c){case"dialog":Oe("cancel",f),Oe("close",f);break;case"iframe":case"object":case"embed":Oe("load",f);break;case"video":case"audio":for(p=0;p<Ir.length;p++)Oe(Ir[p],f);break;case"source":Oe("error",f);break;case"img":case"image":case"link":Oe("error",f),Oe("load",f);break;case"details":Oe("toggle",f);break;case"input":nd(f,x),Oe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},Oe("invalid",f);break;case"textarea":id(f,x),Oe("invalid",f)}Yo(c,x),p=null;for(var v in x)if(x.hasOwnProperty(v)){var C=x[v];v==="children"?typeof C=="string"?f.textContent!==C&&(x.suppressHydrationWarning!==!0&&ta(f.textContent,C,s),p=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(x.suppressHydrationWarning!==!0&&ta(f.textContent,C,s),p=["children",""+C]):a.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&Oe("scroll",f)}switch(c){case"input":me(f),rd(f,x,!0);break;case"textarea":me(f),od(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=na)}f=p,i.updateQueue=f,f!==null&&(i.flags|=4)}else{v=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ld(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=v.createElement(c,{is:f.is}):(s=v.createElement(c),c==="select"&&(v=s,f.multiple?v.multiple=!0:f.size&&(v.size=f.size))):s=v.createElementNS(s,c),s[Zt]=i,s[Ur]=f,wh(s,i,!1,!1),i.stateNode=s;e:{switch(v=Ko(c,f),c){case"dialog":Oe("cancel",s),Oe("close",s),p=f;break;case"iframe":case"object":case"embed":Oe("load",s),p=f;break;case"video":case"audio":for(p=0;p<Ir.length;p++)Oe(Ir[p],s);p=f;break;case"source":Oe("error",s),p=f;break;case"img":case"image":case"link":Oe("error",s),Oe("load",s),p=f;break;case"details":Oe("toggle",s),p=f;break;case"input":nd(s,f),p=$o(s,f),Oe("invalid",s);break;case"option":p=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},p=$({},f,{value:void 0}),Oe("invalid",s);break;case"textarea":id(s,f),p=Vo(s,f),Oe("invalid",s);break;default:p=f}Yo(c,p),C=p;for(x in C)if(C.hasOwnProperty(x)){var T=C[x];x==="style"?dd(s,T):x==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&cd(s,T)):x==="children"?typeof T=="string"?(c!=="textarea"||T!=="")&&br(s,T):typeof T=="number"&&br(s,""+T):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(a.hasOwnProperty(x)?T!=null&&x==="onScroll"&&Oe("scroll",s):T!=null&&R(s,x,T,v))}switch(c){case"input":me(s),rd(s,f,!1);break;case"textarea":me(s),od(s);break;case"option":f.value!=null&&s.setAttribute("value",""+ee(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?Ps(s,!!f.multiple,x,!1):f.defaultValue!=null&&Ps(s,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=na)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return lt(i),null;case 6:if(s&&i.stateNode!=null)jh(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(c=os(qr.current),os(en.current),ca(i)){if(f=i.stateNode,c=i.memoizedProps,f[Zt]=i,(x=f.nodeValue!==c)&&(s=Rt,s!==null))switch(s.tag){case 3:ta(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ta(f.nodeValue,c,(s.mode&1)!==0)}x&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Zt]=i,i.stateNode=f}return lt(i),null;case 13:if(Fe(Be),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ie&&Tt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Sf(),Ws(),i.flags|=98560,x=!1;else if(x=ca(i),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Zt]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),x=!1}else qt!==null&&(Nc(qt),qt=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Be.current&1)!==0?Ge===0&&(Ge=3):Cc())),i.updateQueue!==null&&(i.flags|=4),lt(i),null);case 4:return Ks(),hc(s,i),s===null&&zr(i.stateNode.containerInfo),lt(i),null;case 10:return Ul(i.type._context),lt(i),null;case 17:return yt(i.type)&&ra(),lt(i),null;case 19:if(Fe(Be),x=i.memoizedState,x===null)return lt(i),null;if(f=(i.flags&128)!==0,v=x.rendering,v===null)if(f)Gr(x,!1);else{if(Ge!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=pa(s),v!==null){for(i.flags|=128,Gr(x,!1),f=v.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)x=c,s=f,x.flags&=14680066,v=x.alternate,v===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=v.childLanes,x.lanes=v.lanes,x.child=v.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=v.memoizedProps,x.memoizedState=v.memoizedState,x.updateQueue=v.updateQueue,x.type=v.type,s=v.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ae(Be,Be.current&1|2),i.child}s=s.sibling}x.tail!==null&&Ve()>Js&&(i.flags|=128,f=!0,Gr(x,!1),i.lanes=4194304)}else{if(!f)if(s=pa(v),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Gr(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!Ie)return lt(i),null}else 2*Ve()-x.renderingStartTime>Js&&c!==1073741824&&(i.flags|=128,f=!0,Gr(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(c=x.last,c!==null?c.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Ve(),i.sibling=null,c=Be.current,Ae(Be,f?c&1|2:c&1),i):(lt(i),null);case 22:case 23:return Sc(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Mt&1073741824)!==0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Z0(s,i){switch(Ol(i),i.tag){case 1:return yt(i.type)&&ra(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ks(),Fe(xt),Fe(at),Kl(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return ql(i),null;case 13:if(Fe(Be),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ws()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Fe(Be),null;case 4:return Ks(),null;case 10:return Ul(i.type._context),null;case 22:case 23:return Sc(),null;case 24:return null;default:return null}}var Na=!1,ct=!1,ey=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Qs(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){He(s,i,f)}else c.current=null}function mc(s,i,c){try{c()}catch(f){He(s,i,f)}}var Nh=!1;function ty(s,i){if(Sl=Wi,s=tf(),yl(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var v=0,C=-1,T=-1,U=0,J=0,Z=s,X=null;t:for(;;){for(var ie;Z!==c||p!==0&&Z.nodeType!==3||(C=v+p),Z!==x||f!==0&&Z.nodeType!==3||(T=v+f),Z.nodeType===3&&(v+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)X=Z,Z=ie;for(;;){if(Z===s)break t;if(X===c&&++U===p&&(C=v),X===x&&++J===f&&(T=v),(ie=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ie}c=C===-1||T===-1?null:{start:C,end:T}}else c=null}c=c||{start:0,end:0}}else c=null;for(Cl={focusedElem:s,selectionRange:c},Wi=!1,oe=i;oe!==null;)if(i=oe,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,oe=s;else for(;oe!==null;){i=oe;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,qe=ce.memoizedState,I=i.stateNode,A=I.getSnapshotBeforeUpdate(i.elementType===i.type?de:Yt(i.type,de),qe);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){He(i,i.return,te)}if(s=i.sibling,s!==null){s.return=i.return,oe=s;break}oe=i.return}return ce=Nh,Nh=!1,ce}function Jr(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&s)===s){var x=p.destroy;p.destroy=void 0,x!==void 0&&mc(i,c,x)}p=p.next}while(p!==f)}}function ka(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function pc(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function kh(s){var i=s.alternate;i!==null&&(s.alternate=null,kh(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Zt],delete i[Ur],delete i[Tl],delete i[L0],delete i[I0])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Sh(s){return s.tag===5||s.tag===3||s.tag===4}function Ch(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gc(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=na));else if(f!==4&&(s=s.child,s!==null))for(gc(s,i,c),s=s.sibling;s!==null;)gc(s,i,c),s=s.sibling}function xc(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(xc(s,i,c),s=s.sibling;s!==null;)xc(s,i,c),s=s.sibling}var st=null,Kt=!1;function In(s,i,c){for(c=c.child;c!==null;)Eh(s,i,c),c=c.sibling}function Eh(s,i,c){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Ii,c)}catch{}switch(c.tag){case 5:ct||Qs(c,i);case 6:var f=st,p=Kt;st=null,In(s,i,c),st=f,Kt=p,st!==null&&(Kt?(s=st,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):st.removeChild(c.stateNode));break;case 18:st!==null&&(Kt?(s=st,c=c.stateNode,s.nodeType===8?Rl(s.parentNode,c):s.nodeType===1&&Rl(s,c),Rr(s)):Rl(st,c.stateNode));break;case 4:f=st,p=Kt,st=c.stateNode.containerInfo,Kt=!0,In(s,i,c),st=f,Kt=p;break;case 0:case 11:case 14:case 15:if(!ct&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var x=p,v=x.destroy;x=x.tag,v!==void 0&&((x&2)!==0||(x&4)!==0)&&mc(c,i,v),p=p.next}while(p!==f)}In(s,i,c);break;case 1:if(!ct&&(Qs(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(C){He(c,i,C)}In(s,i,c);break;case 21:In(s,i,c);break;case 22:c.mode&1?(ct=(f=ct)||c.memoizedState!==null,In(s,i,c),ct=f):In(s,i,c);break;default:In(s,i,c)}}function Ph(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new ey),i.forEach(function(f){var p=uy.bind(null,s,f);c.has(f)||(c.add(f),f.then(p,p))})}}function Xt(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];try{var x=s,v=i,C=v;e:for(;C!==null;){switch(C.tag){case 5:st=C.stateNode,Kt=!1;break e;case 3:st=C.stateNode.containerInfo,Kt=!0;break e;case 4:st=C.stateNode.containerInfo,Kt=!0;break e}C=C.return}if(st===null)throw Error(n(160));Eh(x,v,p),st=null,Kt=!1;var T=p.alternate;T!==null&&(T.return=null),p.return=null}catch(U){He(p,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Rh(i,s),i=i.sibling}function Rh(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xt(i,s),nn(s),f&4){try{Jr(3,s,s.return),ka(3,s)}catch(de){He(s,s.return,de)}try{Jr(5,s,s.return)}catch(de){He(s,s.return,de)}}break;case 1:Xt(i,s),nn(s),f&512&&c!==null&&Qs(c,c.return);break;case 5:if(Xt(i,s),nn(s),f&512&&c!==null&&Qs(c,c.return),s.flags&32){var p=s.stateNode;try{br(p,"")}catch(de){He(s,s.return,de)}}if(f&4&&(p=s.stateNode,p!=null)){var x=s.memoizedProps,v=c!==null?c.memoizedProps:x,C=s.type,T=s.updateQueue;if(s.updateQueue=null,T!==null)try{C==="input"&&x.type==="radio"&&x.name!=null&&sd(p,x),Ko(C,v);var U=Ko(C,x);for(v=0;v<T.length;v+=2){var J=T[v],Z=T[v+1];J==="style"?dd(p,Z):J==="dangerouslySetInnerHTML"?cd(p,Z):J==="children"?br(p,Z):R(p,J,Z,U)}switch(C){case"input":Ho(p,x);break;case"textarea":ad(p,x);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!x.multiple;var ie=x.value;ie!=null?Ps(p,!!x.multiple,ie,!1):X!==!!x.multiple&&(x.defaultValue!=null?Ps(p,!!x.multiple,x.defaultValue,!0):Ps(p,!!x.multiple,x.multiple?[]:"",!1))}p[Ur]=x}catch(de){He(s,s.return,de)}}break;case 6:if(Xt(i,s),nn(s),f&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,x=s.memoizedProps;try{p.nodeValue=x}catch(de){He(s,s.return,de)}}break;case 3:if(Xt(i,s),nn(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Rr(i.containerInfo)}catch(de){He(s,s.return,de)}break;case 4:Xt(i,s),nn(s);break;case 13:Xt(i,s),nn(s),p=s.child,p.flags&8192&&(x=p.memoizedState!==null,p.stateNode.isHidden=x,!x||p.alternate!==null&&p.alternate.memoizedState!==null||(vc=Ve())),f&4&&Ph(s);break;case 22:if(J=c!==null&&c.memoizedState!==null,s.mode&1?(ct=(U=ct)||J,Xt(i,s),ct=U):Xt(i,s),nn(s),f&8192){if(U=s.memoizedState!==null,(s.stateNode.isHidden=U)&&!J&&(s.mode&1)!==0)for(oe=s,J=s.child;J!==null;){for(Z=oe=J;oe!==null;){switch(X=oe,ie=X.child,X.tag){case 0:case 11:case 14:case 15:Jr(4,X,X.return);break;case 1:Qs(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){f=X,c=X.return;try{i=f,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(de){He(f,c,de)}}break;case 5:Qs(X,X.return);break;case 22:if(X.memoizedState!==null){Dh(Z);continue}}ie!==null?(ie.return=X,oe=ie):Dh(Z)}J=J.sibling}e:for(J=null,Z=s;;){if(Z.tag===5){if(J===null){J=Z;try{p=Z.stateNode,U?(x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(C=Z.stateNode,T=Z.memoizedProps.style,v=T!=null&&T.hasOwnProperty("display")?T.display:null,C.style.display=ud("display",v))}catch(de){He(s,s.return,de)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=U?"":Z.memoizedProps}catch(de){He(s,s.return,de)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===s)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===s)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===s)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Xt(i,s),nn(s),f&4&&Ph(s);break;case 21:break;default:Xt(i,s),nn(s)}}function nn(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(Sh(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(br(p,""),f.flags&=-33);var x=Ch(s);xc(s,x,p);break;case 3:case 4:var v=f.stateNode.containerInfo,C=Ch(s);gc(s,C,v);break;default:throw Error(n(161))}}catch(T){He(s,s.return,T)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function ny(s,i,c){oe=s,Th(s)}function Th(s,i,c){for(var f=(s.mode&1)!==0;oe!==null;){var p=oe,x=p.child;if(p.tag===22&&f){var v=p.memoizedState!==null||Na;if(!v){var C=p.alternate,T=C!==null&&C.memoizedState!==null||ct;C=Na;var U=ct;if(Na=v,(ct=T)&&!U)for(oe=p;oe!==null;)v=oe,T=v.child,v.tag===22&&v.memoizedState!==null?Ah(p):T!==null?(T.return=v,oe=T):Ah(p);for(;x!==null;)oe=x,Th(x),x=x.sibling;oe=p,Na=C,ct=U}Mh(s)}else(p.subtreeFlags&8772)!==0&&x!==null?(x.return=p,oe=x):Mh(s)}}function Mh(s){for(;oe!==null;){var i=oe;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ct||ka(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!ct)if(c===null)f.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:Yt(i.type,c.memoizedProps);f.componentDidUpdate(p,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Df(i,x,f);break;case 3:var v=i.updateQueue;if(v!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Df(i,v,c)}break;case 5:var C=i.stateNode;if(c===null&&i.flags&4){c=C;var T=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&c.focus();break;case"img":T.src&&(c.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var J=U.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Rr(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ct||i.flags&512&&pc(i)}catch(X){He(i,i.return,X)}}if(i===s){oe=null;break}if(c=i.sibling,c!==null){c.return=i.return,oe=c;break}oe=i.return}}function Dh(s){for(;oe!==null;){var i=oe;if(i===s){oe=null;break}var c=i.sibling;if(c!==null){c.return=i.return,oe=c;break}oe=i.return}}function Ah(s){for(;oe!==null;){var i=oe;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{ka(4,i)}catch(T){He(i,c,T)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var p=i.return;try{f.componentDidMount()}catch(T){He(i,p,T)}}var x=i.return;try{pc(i)}catch(T){He(i,x,T)}break;case 5:var v=i.return;try{pc(i)}catch(T){He(i,v,T)}}}catch(T){He(i,i.return,T)}if(i===s){oe=null;break}var C=i.sibling;if(C!==null){C.return=i.return,oe=C;break}oe=i.return}}var sy=Math.ceil,Sa=M.ReactCurrentDispatcher,yc=M.ReactCurrentOwner,It=M.ReactCurrentBatchConfig,Ee=0,et=null,Xe=null,rt=0,Mt=0,Gs=Dn(0),Ge=0,Zr=null,cs=0,Ca=0,bc=0,ei=null,vt=null,vc=0,Js=1/0,gn=null,Ea=!1,wc=null,zn=null,Pa=!1,Bn=null,Ra=0,ti=0,_c=null,Ta=-1,Ma=0;function gt(){return(Ee&6)!==0?Ve():Ta!==-1?Ta:Ta=Ve()}function Un(s){return(s.mode&1)===0?1:(Ee&2)!==0&&rt!==0?rt&-rt:B0.transition!==null?(Ma===0&&(Ma=Sd()),Ma):(s=Te,s!==0||(s=window.event,s=s===void 0?16:Od(s.type)),s)}function Qt(s,i,c,f){if(50<ti)throw ti=0,_c=null,Error(n(185));kr(s,c,f),((Ee&2)===0||s!==et)&&(s===et&&((Ee&2)===0&&(Ca|=c),Ge===4&&$n(s,rt)),wt(s,f),c===1&&Ee===0&&(i.mode&1)===0&&(Js=Ve()+500,aa&&On()))}function wt(s,i){var c=s.callbackNode;Bx(s,i);var f=Ui(s,s===et?rt:0);if(f===0)c!==null&&jd(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&jd(c),i===1)s.tag===0?z0(Fh.bind(null,s)):wf(Fh.bind(null,s)),O0(function(){(Ee&6)===0&&On()}),c=null;else{switch(Cd(f)){case 1:c=tl;break;case 4:c=Nd;break;case 16:c=Li;break;case 536870912:c=kd;break;default:c=Li}c=Wh(c,Oh.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function Oh(s,i){if(Ta=-1,Ma=0,(Ee&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Zs()&&s.callbackNode!==c)return null;var f=Ui(s,s===et?rt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=Da(s,f);else{i=f;var p=Ee;Ee|=2;var x=Ih();(et!==s||rt!==i)&&(gn=null,Js=Ve()+500,ds(s,i));do try{ay();break}catch(C){Lh(s,C)}while(!0);Bl(),Sa.current=x,Ee=p,Xe!==null?i=0:(et=null,rt=0,i=Ge)}if(i!==0){if(i===2&&(p=nl(s),p!==0&&(f=p,i=jc(s,p))),i===1)throw c=Zr,ds(s,0),$n(s,f),wt(s,Ve()),c;if(i===6)$n(s,f);else{if(p=s.current.alternate,(f&30)===0&&!ry(p)&&(i=Da(s,f),i===2&&(x=nl(s),x!==0&&(f=x,i=jc(s,x))),i===1))throw c=Zr,ds(s,0),$n(s,f),wt(s,Ve()),c;switch(s.finishedWork=p,s.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:fs(s,vt,gn);break;case 3:if($n(s,f),(f&130023424)===f&&(i=vc+500-Ve(),10<i)){if(Ui(s,0)!==0)break;if(p=s.suspendedLanes,(p&f)!==f){gt(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Pl(fs.bind(null,s,vt,gn),i);break}fs(s,vt,gn);break;case 4:if($n(s,f),(f&4194240)===f)break;for(i=s.eventTimes,p=-1;0<f;){var v=31-Wt(f);x=1<<v,v=i[v],v>p&&(p=v),f&=~x}if(f=p,f=Ve()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*sy(f/1960))-f,10<f){s.timeoutHandle=Pl(fs.bind(null,s,vt,gn),f);break}fs(s,vt,gn);break;case 5:fs(s,vt,gn);break;default:throw Error(n(329))}}}return wt(s,Ve()),s.callbackNode===c?Oh.bind(null,s):null}function jc(s,i){var c=ei;return s.current.memoizedState.isDehydrated&&(ds(s,i).flags|=256),s=Da(s,i),s!==2&&(i=vt,vt=c,i!==null&&Nc(i)),s}function Nc(s){vt===null?vt=s:vt.push.apply(vt,s)}function ry(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var p=c[f],x=p.getSnapshot;p=p.value;try{if(!Vt(x(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $n(s,i){for(i&=~bc,i&=~Ca,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-Wt(i),f=1<<c;s[c]=-1,i&=~f}}function Fh(s){if((Ee&6)!==0)throw Error(n(327));Zs();var i=Ui(s,0);if((i&1)===0)return wt(s,Ve()),null;var c=Da(s,i);if(s.tag!==0&&c===2){var f=nl(s);f!==0&&(i=f,c=jc(s,f))}if(c===1)throw c=Zr,ds(s,0),$n(s,i),wt(s,Ve()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,fs(s,vt,gn),wt(s,Ve()),null}function kc(s,i){var c=Ee;Ee|=1;try{return s(i)}finally{Ee=c,Ee===0&&(Js=Ve()+500,aa&&On())}}function us(s){Bn!==null&&Bn.tag===0&&(Ee&6)===0&&Zs();var i=Ee;Ee|=1;var c=It.transition,f=Te;try{if(It.transition=null,Te=1,s)return s()}finally{Te=f,It.transition=c,Ee=i,(Ee&6)===0&&On()}}function Sc(){Mt=Gs.current,Fe(Gs)}function ds(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,A0(c)),Xe!==null)for(c=Xe.return;c!==null;){var f=c;switch(Ol(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ra();break;case 3:Ks(),Fe(xt),Fe(at),Kl();break;case 5:ql(f);break;case 4:Ks();break;case 13:Fe(Be);break;case 19:Fe(Be);break;case 10:Ul(f.type._context);break;case 22:case 23:Sc()}c=c.return}if(et=s,Xe=s=Hn(s.current,null),rt=Mt=i,Ge=0,Zr=null,bc=Ca=cs=0,vt=ei=null,as!==null){for(i=0;i<as.length;i++)if(c=as[i],f=c.interleaved,f!==null){c.interleaved=null;var p=f.next,x=c.pending;if(x!==null){var v=x.next;x.next=p,f.next=v}c.pending=f}as=null}return s}function Lh(s,i){do{var c=Xe;try{if(Bl(),ga.current=va,xa){for(var f=Ue.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}xa=!1}if(ls=0,Ze=Qe=Ue=null,Yr=!1,Kr=0,yc.current=null,c===null||c.return===null){Ge=1,Zr=i,Xe=null;break}e:{var x=s,v=c.return,C=c,T=i;if(i=rt,C.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var U=T,J=C,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var ie=lh(v);if(ie!==null){ie.flags&=-257,ch(ie,v,C,x,i),ie.mode&1&&oh(x,U,i),i=ie,T=U;var ce=i.updateQueue;if(ce===null){var de=new Set;de.add(T),i.updateQueue=de}else ce.add(T);break e}else{if((i&1)===0){oh(x,U,i),Cc();break e}T=Error(n(426))}}else if(Ie&&C.mode&1){var qe=lh(v);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),ch(qe,v,C,x,i),Il(Xs(T,C));break e}}x=T=Xs(T,C),Ge!==4&&(Ge=2),ei===null?ei=[x]:ei.push(x),x=v;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var I=ih(x,T,i);Mf(x,I);break e;case 1:C=T;var A=x.type,B=x.stateNode;if((x.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(zn===null||!zn.has(B)))){x.flags|=65536,i&=-i,x.lanes|=i;var te=ah(x,C,i);Mf(x,te);break e}}x=x.return}while(x!==null)}Bh(c)}catch(he){i=he,Xe===c&&c!==null&&(Xe=c=c.return);continue}break}while(!0)}function Ih(){var s=Sa.current;return Sa.current=va,s===null?va:s}function Cc(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||(cs&268435455)===0&&(Ca&268435455)===0||$n(et,rt)}function Da(s,i){var c=Ee;Ee|=2;var f=Ih();(et!==s||rt!==i)&&(gn=null,ds(s,i));do try{iy();break}catch(p){Lh(s,p)}while(!0);if(Bl(),Ee=c,Sa.current=f,Xe!==null)throw Error(n(261));return et=null,rt=0,Ge}function iy(){for(;Xe!==null;)zh(Xe)}function ay(){for(;Xe!==null&&!Tx();)zh(Xe)}function zh(s){var i=Hh(s.alternate,s,Mt);s.memoizedProps=s.pendingProps,i===null?Bh(s):Xe=i,yc.current=null}function Bh(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=J0(c,i,Mt),c!==null){Xe=c;return}}else{if(c=Z0(c,i),c!==null){c.flags&=32767,Xe=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ge=6,Xe=null;return}}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=s}while(i!==null);Ge===0&&(Ge=5)}function fs(s,i,c){var f=Te,p=It.transition;try{It.transition=null,Te=1,oy(s,i,c,f)}finally{It.transition=p,Te=f}return null}function oy(s,i,c,f){do Zs();while(Bn!==null);if((Ee&6)!==0)throw Error(n(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Ux(s,x),s===et&&(Xe=et=null,rt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Pa||(Pa=!0,Wh(Li,function(){return Zs(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=It.transition,It.transition=null;var v=Te;Te=1;var C=Ee;Ee|=4,yc.current=null,ty(s,c),Rh(c,s),C0(Cl),Wi=!!Sl,Cl=Sl=null,s.current=c,ny(c),Mx(),Ee=C,Te=v,It.transition=x}else s.current=c;if(Pa&&(Pa=!1,Bn=s,Ra=p),x=s.pendingLanes,x===0&&(zn=null),Ox(c.stateNode),wt(s,Ve()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)p=i[c],f(p.value,{componentStack:p.stack,digest:p.digest});if(Ea)throw Ea=!1,s=wc,wc=null,s;return(Ra&1)!==0&&s.tag!==0&&Zs(),x=s.pendingLanes,(x&1)!==0?s===_c?ti++:(ti=0,_c=s):ti=0,On(),null}function Zs(){if(Bn!==null){var s=Cd(Ra),i=It.transition,c=Te;try{if(It.transition=null,Te=16>s?16:s,Bn===null)var f=!1;else{if(s=Bn,Bn=null,Ra=0,(Ee&6)!==0)throw Error(n(331));var p=Ee;for(Ee|=4,oe=s.current;oe!==null;){var x=oe,v=x.child;if((oe.flags&16)!==0){var C=x.deletions;if(C!==null){for(var T=0;T<C.length;T++){var U=C[T];for(oe=U;oe!==null;){var J=oe;switch(J.tag){case 0:case 11:case 15:Jr(8,J,x)}var Z=J.child;if(Z!==null)Z.return=J,oe=Z;else for(;oe!==null;){J=oe;var X=J.sibling,ie=J.return;if(kh(J),J===U){oe=null;break}if(X!==null){X.return=ie,oe=X;break}oe=ie}}}var ce=x.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var qe=de.sibling;de.sibling=null,de=qe}while(de!==null)}}oe=x}}if((x.subtreeFlags&2064)!==0&&v!==null)v.return=x,oe=v;else e:for(;oe!==null;){if(x=oe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Jr(9,x,x.return)}var I=x.sibling;if(I!==null){I.return=x.return,oe=I;break e}oe=x.return}}var A=s.current;for(oe=A;oe!==null;){v=oe;var B=v.child;if((v.subtreeFlags&2064)!==0&&B!==null)B.return=v,oe=B;else e:for(v=A;oe!==null;){if(C=oe,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:ka(9,C)}}catch(he){He(C,C.return,he)}if(C===v){oe=null;break e}var te=C.sibling;if(te!==null){te.return=C.return,oe=te;break e}oe=C.return}}if(Ee=p,On(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Ii,s)}catch{}f=!0}return f}finally{Te=c,It.transition=i}}return!1}function Uh(s,i,c){i=Xs(c,i),i=ih(s,i,1),s=Ln(s,i,1),i=gt(),s!==null&&(kr(s,1,i),wt(s,i))}function He(s,i,c){if(s.tag===3)Uh(s,s,c);else for(;i!==null;){if(i.tag===3){Uh(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zn===null||!zn.has(f))){s=Xs(c,s),s=ah(i,s,1),i=Ln(i,s,1),s=gt(),i!==null&&(kr(i,1,s),wt(i,s));break}}i=i.return}}function ly(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=gt(),s.pingedLanes|=s.suspendedLanes&c,et===s&&(rt&c)===c&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>Ve()-vc?ds(s,0):bc|=c),wt(s,i)}function $h(s,i){i===0&&((s.mode&1)===0?i=1:(i=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var c=gt();s=hn(s,i),s!==null&&(kr(s,i,c),wt(s,c))}function cy(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),$h(s,c)}function uy(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),$h(s,c)}var Hh;Hh=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||xt.current)bt=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return bt=!1,G0(s,i,c);bt=(s.flags&131072)!==0}else bt=!1,Ie&&(i.flags&1048576)!==0&&_f(i,la,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;ja(s,i),s=i.pendingProps;var p=Us(i,at.current);Ys(i,c),p=Gl(null,i,f,s,p,c);var x=Jl();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,yt(f)?(x=!0,ia(i)):x=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Wl(i),p.updater=wa,i.stateNode=p,p._reactInternals=i,rc(i,f,s,c),i=lc(null,i,f,!0,x,c)):(i.tag=0,Ie&&x&&Al(i),pt(null,i,p,c),i=i.child),i;case 16:f=i.elementType;e:{switch(ja(s,i),s=i.pendingProps,p=f._init,f=p(f._payload),i.type=f,p=i.tag=fy(f),s=Yt(f,s),p){case 0:i=oc(null,i,f,s,c);break e;case 1:i=ph(null,i,f,s,c);break e;case 11:i=uh(null,i,f,s,c);break e;case 14:i=dh(null,i,f,Yt(f.type,s),c);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),oc(s,i,f,p,c);case 1:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),ph(s,i,f,p,c);case 3:e:{if(gh(i),s===null)throw Error(n(387));f=i.pendingProps,x=i.memoizedState,p=x.element,Tf(s,i),ma(i,f,null,c);var v=i.memoizedState;if(f=v.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){p=Xs(Error(n(423)),i),i=xh(s,i,f,c,p);break e}else if(f!==p){p=Xs(Error(n(424)),i),i=xh(s,i,f,c,p);break e}else for(Tt=Mn(i.stateNode.containerInfo.firstChild),Rt=i,Ie=!0,qt=null,c=Pf(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ws(),f===p){i=pn(s,i,c);break e}pt(s,i,f,c)}i=i.child}return i;case 5:return Af(i),s===null&&Ll(i),f=i.type,p=i.pendingProps,x=s!==null?s.memoizedProps:null,v=p.children,El(f,p)?v=null:x!==null&&El(f,x)&&(i.flags|=32),mh(s,i),pt(s,i,v,c),i.child;case 6:return s===null&&Ll(i),null;case 13:return yh(s,i,c);case 4:return Vl(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Vs(i,null,f,c):pt(s,i,f,c),i.child;case 11:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),uh(s,i,f,p,c);case 7:return pt(s,i,i.pendingProps,c),i.child;case 8:return pt(s,i,i.pendingProps.children,c),i.child;case 12:return pt(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,p=i.pendingProps,x=i.memoizedProps,v=p.value,Ae(da,f._currentValue),f._currentValue=v,x!==null)if(Vt(x.value,v)){if(x.children===p.children&&!xt.current){i=pn(s,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var C=x.dependencies;if(C!==null){v=x.child;for(var T=C.firstContext;T!==null;){if(T.context===f){if(x.tag===1){T=mn(-1,c&-c),T.tag=2;var U=x.updateQueue;if(U!==null){U=U.shared;var J=U.pending;J===null?T.next=T:(T.next=J.next,J.next=T),U.pending=T}}x.lanes|=c,T=x.alternate,T!==null&&(T.lanes|=c),$l(x.return,c,i),C.lanes|=c;break}T=T.next}}else if(x.tag===10)v=x.type===i.type?null:x.child;else if(x.tag===18){if(v=x.return,v===null)throw Error(n(341));v.lanes|=c,C=v.alternate,C!==null&&(C.lanes|=c),$l(v,c,i),v=x.sibling}else v=x.child;if(v!==null)v.return=x;else for(v=x;v!==null;){if(v===i){v=null;break}if(x=v.sibling,x!==null){x.return=v.return,v=x;break}v=v.return}x=v}pt(s,i,p.children,c),i=i.child}return i;case 9:return p=i.type,f=i.pendingProps.children,Ys(i,c),p=Ft(p),f=f(p),i.flags|=1,pt(s,i,f,c),i.child;case 14:return f=i.type,p=Yt(f,i.pendingProps),p=Yt(f.type,p),dh(s,i,f,p,c);case 15:return fh(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Yt(f,p),ja(s,i),i.tag=1,yt(f)?(s=!0,ia(i)):s=!1,Ys(i,c),sh(i,f,p),rc(i,f,p,c),lc(null,i,f,!0,s,c);case 19:return vh(s,i,c);case 22:return hh(s,i,c)}throw Error(n(156,i.tag))};function Wh(s,i){return _d(s,i)}function dy(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(s,i,c,f){return new dy(s,i,c,f)}function Ec(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fy(s){if(typeof s=="function")return Ec(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Y)return 11;if(s===ae)return 14}return 2}function Hn(s,i){var c=s.alternate;return c===null?(c=zt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Aa(s,i,c,f,p,x){var v=2;if(f=s,typeof s=="function")Ec(s)&&(v=1);else if(typeof s=="string")v=5;else e:switch(s){case z:return hs(c.children,p,x,i);case D:v=8,p|=8;break;case H:return s=zt(12,c,i,p|2),s.elementType=H,s.lanes=x,s;case se:return s=zt(13,c,i,p),s.elementType=se,s.lanes=x,s;case ue:return s=zt(19,c,i,p),s.elementType=ue,s.lanes=x,s;case le:return Oa(c,p,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:v=10;break e;case ne:v=9;break e;case Y:v=11;break e;case ae:v=14;break e;case fe:v=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=zt(v,c,i,p),i.elementType=s,i.type=f,i.lanes=x,i}function hs(s,i,c,f){return s=zt(7,s,f,i),s.lanes=c,s}function Oa(s,i,c,f){return s=zt(22,s,f,i),s.elementType=le,s.lanes=c,s.stateNode={isHidden:!1},s}function Pc(s,i,c){return s=zt(6,s,null,i),s.lanes=c,s}function Rc(s,i,c){return i=zt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function hy(s,i,c,f,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Tc(s,i,c,f,p,x,v,C,T){return s=new hy(s,i,c,C,T),i===1?(i=1,x===!0&&(i|=8)):i=0,x=zt(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(x),s}function my(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function Vh(s){if(!s)return An;s=s._reactInternals;e:{if(ts(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(yt(c))return bf(s,c,i)}return i}function qh(s,i,c,f,p,x,v,C,T){return s=Tc(c,f,!0,s,p,x,v,C,T),s.context=Vh(null),c=s.current,f=gt(),p=Un(c),x=mn(f,p),x.callback=i??null,Ln(c,x,p),s.current.lanes=p,kr(s,p,f),wt(s,f),s}function Fa(s,i,c,f){var p=i.current,x=gt(),v=Un(p);return c=Vh(c),i.context===null?i.context=c:i.pendingContext=c,i=mn(x,v),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=Ln(p,i,v),s!==null&&(Qt(s,p,v,x),ha(s,p,v)),v}function La(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Yh(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function Mc(s,i){Yh(s,i),(s=s.alternate)&&Yh(s,i)}function py(){return null}var Kh=typeof reportError=="function"?reportError:function(s){console.error(s)};function Dc(s){this._internalRoot=s}Ia.prototype.render=Dc.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Fa(s,i,null,null)},Ia.prototype.unmount=Dc.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;us(function(){Fa(null,s,null,null)}),i[cn]=null}};function Ia(s){this._internalRoot=s}Ia.prototype.unstable_scheduleHydration=function(s){if(s){var i=Rd();s={blockedOn:null,target:s,priority:i};for(var c=0;c<Pn.length&&i!==0&&i<Pn[c].priority;c++);Pn.splice(c,0,s),c===0&&Dd(s)}};function Ac(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function za(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Xh(){}function gy(s,i,c,f,p){if(p){if(typeof f=="function"){var x=f;f=function(){var U=La(v);x.call(U)}}var v=qh(i,f,s,0,null,!1,!1,"",Xh);return s._reactRootContainer=v,s[cn]=v.current,zr(s.nodeType===8?s.parentNode:s),us(),v}for(;p=s.lastChild;)s.removeChild(p);if(typeof f=="function"){var C=f;f=function(){var U=La(T);C.call(U)}}var T=Tc(s,0,!1,null,null,!1,!1,"",Xh);return s._reactRootContainer=T,s[cn]=T.current,zr(s.nodeType===8?s.parentNode:s),us(function(){Fa(i,T,c,f)}),T}function Ba(s,i,c,f,p){var x=c._reactRootContainer;if(x){var v=x;if(typeof p=="function"){var C=p;p=function(){var T=La(v);C.call(T)}}Fa(i,v,s,p)}else v=gy(c,i,s,p,f);return La(v)}Ed=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Nr(i.pendingLanes);c!==0&&(rl(i,c|1),wt(i,Ve()),(Ee&6)===0&&(Js=Ve()+500,On()))}break;case 13:us(function(){var f=hn(s,1);if(f!==null){var p=gt();Qt(f,s,1,p)}}),Mc(s,1)}},il=function(s){if(s.tag===13){var i=hn(s,134217728);if(i!==null){var c=gt();Qt(i,s,134217728,c)}Mc(s,134217728)}},Pd=function(s){if(s.tag===13){var i=Un(s),c=hn(s,i);if(c!==null){var f=gt();Qt(c,s,i,f)}Mc(s,i)}},Rd=function(){return Te},Td=function(s,i){var c=Te;try{return Te=s,i()}finally{Te=c}},Go=function(s,i,c){switch(i){case"input":if(Ho(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var p=sa(f);if(!p)throw Error(n(90));ze(f),Ho(f,p)}}}break;case"textarea":ad(s,c);break;case"select":i=c.value,i!=null&&Ps(s,!!c.multiple,i,!1)}},pd=kc,gd=us;var xy={usingClientEntryPoint:!1,Events:[$r,zs,sa,hd,md,kc]},ni={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yy={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=vd(s),s===null?null:s.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{Ii=Ua.inject(yy),Jt=Ua}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xy,_t.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(i))throw Error(n(200));return my(s,i,null,c)},_t.createRoot=function(s,i){if(!Ac(s))throw Error(n(299));var c=!1,f="",p=Kh;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Tc(s,1,!1,null,null,c,!1,f,p),s[cn]=i.current,zr(s.nodeType===8?s.parentNode:s),new Dc(i)},_t.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=vd(i),s=s===null?null:s.stateNode,s},_t.flushSync=function(s){return us(s)},_t.hydrate=function(s,i,c){if(!za(i))throw Error(n(200));return Ba(null,s,i,!0,c)},_t.hydrateRoot=function(s,i,c){if(!Ac(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,p=!1,x="",v=Kh;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(v=c.onRecoverableError)),i=qh(i,null,s,1,c??null,p,!1,x,v),s[cn]=i.current,zr(s),f)for(s=0;s<f.length;s++)c=f[s],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new Ia(i)},_t.render=function(s,i,c){if(!za(i))throw Error(n(200));return Ba(null,s,i,!1,c)},_t.unmountComponentAtNode=function(s){if(!za(s))throw Error(n(40));return s._reactRootContainer?(us(function(){Ba(null,null,s,!1,function(){s._reactRootContainer=null,s[cn]=null})}),!0):!1},_t.unstable_batchedUpdates=kc,_t.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!za(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ba(s,i,c,!1,f)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var sm;function Gp(){if(sm)return Lc.exports;sm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lc.exports=Cy(),Lc.exports}var rm;function Ey(){if(rm)return $a;rm=1;var t=Gp();return $a.createRoot=t.createRoot,$a.hydrateRoot=t.hydrateRoot,$a}var Py=Ey();const Ry=Qp(Py);Gp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xi.apply(this,arguments)}var qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qn||(qn={}));const im="popstate";function Ty(t){t===void 0&&(t={});function e(r,a){let{pathname:o,search:u,hash:d}=r.location;return au("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:uo(a)}return Dy(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function My(){return Math.random().toString(36).substr(2,8)}function am(t,e){return{usr:t.state,key:t.key,idx:e}}function au(t,e,n,r){return n===void 0&&(n=null),xi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dr(e):e,{state:n,key:e&&e.key||r||My()})}function uo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Dy(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,d=qn.Pop,h=null,m=g();m==null&&(m=0,u.replaceState(xi({},u.state,{idx:m}),""));function g(){return(u.state||{idx:null}).idx}function y(){d=qn.Pop;let w=g(),P=w==null?null:w-m;m=w,h&&h({action:d,location:_.location,delta:P})}function b(w,P){d=qn.Push;let k=au(_.location,w,P);m=g()+1;let R=am(k,m),M=_.createHref(k);try{u.pushState(R,"",M)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(M)}o&&h&&h({action:d,location:_.location,delta:1})}function N(w,P){d=qn.Replace;let k=au(_.location,w,P);m=g();let R=am(k,m),M=_.createHref(k);u.replaceState(R,"",M),o&&h&&h({action:d,location:_.location,delta:0})}function j(w){let P=a.location.origin!=="null"?a.location.origin:a.location.href,k=typeof w=="string"?w:uo(w);return k=k.replace(/ $/,"%20"),Ke(P,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,P)}let _={get action(){return d},get location(){return t(a,u)},listen(w){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(im,y),h=w,()=>{a.removeEventListener(im,y),h=null}},createHref(w){return e(a,w)},createURL:j,encodeLocation(w){let P=j(w);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:N,go(w){return u.go(w)}};return _}var om;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(om||(om={}));function Ay(t,e,n){return n===void 0&&(n="/"),Oy(t,e,n)}function Oy(t,e,n,r){let a=typeof e=="string"?dr(e):e,o=Tu(a.pathname||"/",n);if(o==null)return null;let u=Zp(t);Fy(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=Ky(o);d=Vy(u[h],m)}return d}function Zp(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,u,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(Ke(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=Xn([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&(Ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Zp(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:Hy(m,o.index),routesMeta:g})};return t.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let h of eg(o.path))a(o,u,h)}),e}function eg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=eg(r.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Fy(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wy(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ly=/^:[\w-]+$/,Iy=3,zy=2,By=1,Uy=10,$y=-2,lm=t=>t==="*";function Hy(t,e){let n=t.split("/"),r=n.length;return n.some(lm)&&(r+=$y),e&&(r+=zy),n.filter(a=>!lm(a)).reduce((a,o)=>a+(Ly.test(o)?Iy:o===""?By:Uy),r)}function Wy(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Vy(t,e,n){let{routesMeta:r}=t,a={},o="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=qy({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:Xn([o,y.pathname]),pathnameBase:Jy(Xn([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Xn([o,y.pathnameBase]))}return u}function qy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Yy(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:b,isOptional:N}=g;if(b==="*"){let _=d[y]||"";u=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const j=d[y];return N&&!j?m[b]=void 0:m[b]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function Yy(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Ky(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Xy(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?dr(t):t;return{pathname:n?n.startsWith("/")?n:Qy(n,e):e,search:Zy(r),hash:eb(a)}}function Qy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mu(t,e){let n=Gy(t);return e?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Du(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=dr(t):(a=xi({},t),Ke(!a.pathname||!a.pathname.includes("?"),Bc("?","pathname","search",a)),Ke(!a.pathname||!a.pathname.includes("#"),Bc("#","pathname","hash",a)),Ke(!a.search||!a.search.includes("#"),Bc("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;a.pathname=b.join("/")}d=y>=0?e[y]:"/"}let h=Xy(a,d),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const Xn=t=>t.join("/").replace(/\/\/+/g,"/"),Jy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tg=["post","put","patch","delete"];new Set(tg);const nb=["get",...tg];new Set(nb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(this,arguments)}const Au=S.createContext(null),sb=S.createContext(null),Zn=S.createContext(null),No=S.createContext(null),es=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ng=S.createContext(null);function rb(t,e){let{relative:n}=e===void 0?{}:e;fr()||Ke(!1);let{basename:r,navigator:a}=S.useContext(Zn),{hash:o,pathname:u,search:d}=rg(t,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:Xn([r,u])),a.createHref({pathname:h,search:d,hash:o})}function fr(){return S.useContext(No)!=null}function hr(){return fr()||Ke(!1),S.useContext(No).location}function sg(t){S.useContext(Zn).static||S.useLayoutEffect(t)}function ko(){let{isDataRoute:t}=S.useContext(es);return t?xb():ib()}function ib(){fr()||Ke(!1);let t=S.useContext(Au),{basename:e,future:n,navigator:r}=S.useContext(Zn),{matches:a}=S.useContext(es),{pathname:o}=hr(),u=JSON.stringify(Mu(a,n.v7_relativeSplatPath)),d=S.useRef(!1);return sg(()=>{d.current=!0}),S.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let y=Du(m,JSON.parse(u),o,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xn([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,u,o,t])}function rg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Zn),{matches:a}=S.useContext(es),{pathname:o}=hr(),u=JSON.stringify(Mu(a,r.v7_relativeSplatPath));return S.useMemo(()=>Du(t,JSON.parse(u),o,n==="path"),[t,u,o,n])}function ab(t,e){return ob(t,e)}function ob(t,e,n,r){fr()||Ke(!1);let{navigator:a}=S.useContext(Zn),{matches:o}=S.useContext(es),u=o[o.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=hr(),g;if(e){var y;let w=typeof e=="string"?dr(e):e;h==="/"||(y=w.pathname)!=null&&y.startsWith(h)||Ke(!1),g=w}else g=m;let b=g.pathname||"/",N=b;if(h!=="/"){let w=h.replace(/^\//,"").split("/");N="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=Ay(t,{pathname:N}),_=fb(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Xn([h,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Xn([h,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&_?S.createElement(No.Provider,{value:{location:yi({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:qn.Pop}},_):_}function lb(){let t=gb(),e=tb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,null)}const cb=S.createElement(lb,null);class ub extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(es.Provider,{value:this.props.routeContext},S.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function db(t){let{routeContext:e,match:n,children:r}=t,a=S.useContext(Au);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(es.Provider,{value:e},r)}function fb(t,e,n,r){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(a=n)==null?void 0:a.errors;if(d!=null){let g=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);g>=0||Ke(!1),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:b,errors:N}=n,j=y.route.loader&&b[y.route.id]===void 0&&(!N||N[y.route.id]===void 0);if(y.route.lazy||j){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,y,b)=>{let N,j=!1,_=null,w=null;n&&(N=d&&y.route.id?d[y.route.id]:void 0,_=y.route.errorElement||cb,h&&(m<0&&b===0?(yb("route-fallback"),j=!0,w=null):m===b&&(j=!0,w=y.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,b+1)),k=()=>{let R;return N?R=_:j?R=w:y.route.Component?R=S.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=g,S.createElement(db,{match:y,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:R})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?S.createElement(ub,{location:n.location,revalidation:n.revalidation,component:_,error:N,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):k()},null)}var ig=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(ig||{}),ag=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(ag||{});function hb(t){let e=S.useContext(Au);return e||Ke(!1),e}function mb(t){let e=S.useContext(sb);return e||Ke(!1),e}function pb(t){let e=S.useContext(es);return e||Ke(!1),e}function og(t){let e=pb(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function gb(){var t;let e=S.useContext(ng),n=mb(),r=og();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xb(){let{router:t}=hb(ig.UseNavigateStable),e=og(ag.UseNavigateStable),n=S.useRef(!1);return sg(()=>{n.current=!0}),S.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,yi({fromRouteId:e},o)))},[t,e])}const cm={};function yb(t,e,n){cm[t]||(cm[t]=!0)}function bb(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function ou(t){let{to:e,replace:n,state:r,relative:a}=t;fr()||Ke(!1);let{future:o,static:u}=S.useContext(Zn),{matches:d}=S.useContext(es),{pathname:h}=hr(),m=ko(),g=Du(e,Mu(d,o.v7_relativeSplatPath),h,a==="path"),y=JSON.stringify(g);return S.useEffect(()=>m(JSON.parse(y),{replace:n,state:r,relative:a}),[m,y,a,n,r]),null}function ut(t){Ke(!1)}function vb(t){let{basename:e="/",children:n=null,location:r,navigationType:a=qn.Pop,navigator:o,static:u=!1,future:d}=t;fr()&&Ke(!1);let h=e.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:h,navigator:o,static:u,future:yi({v7_relativeSplatPath:!1},d)}),[h,d,o,u]);typeof r=="string"&&(r=dr(r));let{pathname:g="/",search:y="",hash:b="",state:N=null,key:j="default"}=r,_=S.useMemo(()=>{let w=Tu(g,h);return w==null?null:{location:{pathname:w,search:y,hash:b,state:N,key:j},navigationType:a}},[h,g,y,b,N,j,a]);return _==null?null:S.createElement(Zn.Provider,{value:m},S.createElement(No.Provider,{children:n,value:_}))}function um(t){let{children:e,location:n}=t;return ab(lu(e),n)}new Promise(()=>{});function lu(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,a)=>{if(!S.isValidElement(r))return;let o=[...e,a];if(r.type===S.Fragment){n.push.apply(n,lu(r.props.children,o));return}r.type!==ut&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=lu(r.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function wb(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function _b(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jb(t,e){return t.button===0&&(!e||e==="_self")&&!_b(t)}const Nb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kb="6";try{window.__reactRouterVersion=kb}catch{}const Sb="startTransition",dm=Ny[Sb];function Cb(t){let{basename:e,children:n,future:r,window:a}=t,o=S.useRef();o.current==null&&(o.current=Ty({window:a,v5Compat:!0}));let u=o.current,[d,h]=S.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},g=S.useCallback(y=>{m&&dm?dm(()=>h(y)):h(y)},[h,m]);return S.useLayoutEffect(()=>u.listen(g),[u,g]),S.useEffect(()=>bb(r),[r]),S.createElement(vb,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:r})}const Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fm=S.forwardRef(function(e,n){let{onClick:r,relative:a,reloadDocument:o,replace:u,state:d,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,b=wb(e,Nb),{basename:N}=S.useContext(Zn),j,_=!1;if(typeof m=="string"&&Pb.test(m)&&(j=m,Eb))try{let R=new URL(window.location.href),M=m.startsWith("//")?new URL(R.protocol+m):new URL(m),F=Tu(M.pathname,N);M.origin===R.origin&&F!=null?m=F+M.search+M.hash:_=!0}catch{}let w=rb(m,{relative:a}),P=Rb(m,{replace:u,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:y});function k(R){r&&r(R),R.defaultPrevented||P(R)}return S.createElement("a",cu({},b,{href:j||w,onClick:_||o?r:k,ref:n,target:h}))});var hm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hm||(hm={}));var mm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mm||(mm={}));function Rb(t,e){let{target:n,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:d}=e===void 0?{}:e,h=ko(),m=hr(),g=rg(t,{relative:u});return S.useCallback(y=>{if(jb(y,n)){y.preventDefault();let b=r!==void 0?r:uo(m)===uo(g);h(t,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[m,h,g,r,a,n,t,o,u,d])}var Tb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),we=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:u,children:d,...h},m)=>S.createElement("svg",{ref:m,...Tb,width:a,height:a,stroke:r,strokeWidth:u?Number(o)*24/Number(a):o,className:`lucide lucide-${Mb(t)}`,...h},[...e.map(([g,y])=>S.createElement(g,y)),...(Array.isArray(d)?d:[d])||[]]));return n.displayName=`${t}`,n},pm=we("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Et=we("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),gm=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Qn=we("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),So=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ou=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Uc=we("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Db=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ab=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bi=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ob=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ir=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Fb=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Lb=we("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),lg=we("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Co=we("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Fu=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ib=we("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),zb=we("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),uu=we("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),xm=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Bb=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ub=we("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Ci=we("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),$b=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Hb=we("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),$t=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Wb=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),jn=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Vb=we("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cs=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qb=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),du=we("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),vi=we("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Yb=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Kb=we("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),_s=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),mr=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xb=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ym=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),fu=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),hu=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Eo=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Lu=we("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Nn=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qb=({children:t})=>{const[e,n]=S.useState(!0),[r,a]=S.useState(!1),o=hr(),u=ko(),d=Ru.useMemo(()=>{try{const y=localStorage.getItem("user");return y?JSON.parse(y):null}catch{return null}},[]),h=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),u("/login")},m=[{name:"Dashboard",href:"/dashboard",icon:Ib},{name:"User Management",href:"/user-management",icon:Eo},{name:"Role Management",href:"/role-management",icon:zb},{name:"Campaign Types",href:"/campaign-types",icon:Kb},{name:"Campaign Data",href:"/campaign-data",icon:Ob},{name:"Cards",href:"/cards",icon:bi},{name:"Card Users",href:"/card-users",icon:fu},{name:"Campaigns",href:"/campaigns",icon:_s},{name:"Analytics",href:"/analytics",icon:Qn},{name:"Reports",href:"/reports-table",icon:Co},{name:"Report Analytics",href:"/reports",icon:Qn},{name:"Settings",href:"/settings",icon:qb}],g=y=>o.pathname===y;return l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:`hidden md:flex md:flex-shrink-0 transition-all duration-300 ${e?"md:w-64":"md:w-16"}`,children:l.jsx("div",{className:"flex flex-col w-full",children:l.jsxs("div",{className:"flex flex-col flex-grow bg-sidebar-bg overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 flex-shrink-0 px-4 bg-gray-900",children:[l.jsxs("div",{className:`flex items-center ${e?"block":"hidden"}`,children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(_s,{className:"h-8 w-8 text-primary-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("h1",{className:"text-xl font-bold text-white",children:"Ads Reporter"})})]}),l.jsx("button",{onClick:()=>n(!e),className:"p-1 rounded-md text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",children:e?l.jsx(Db,{className:"h-5 w-5"}):l.jsx(Ab,{className:"h-5 w-5"})})]}),l.jsxs("nav",{className:"mt-5 flex-1 px-2 space-y-1 flex flex-col",children:[l.jsx("div",{className:"flex-1 space-y-1",children:m.map(y=>{const b=y.icon;return l.jsxs(fm,{to:y.href,className:`sidebar-link ${g(y.href)?"active":""}`,title:e?"":y.name,children:[l.jsx(b,{className:`h-5 w-5 ${e?"mr-3":"mx-auto"}`}),e&&l.jsx("span",{className:"text-sm font-medium",children:y.name})]},y.name)})}),l.jsx("div",{className:"pt-4 border-t border-gray-700",children:l.jsxs("button",{onClick:h,className:"w-full sidebar-link text-red-300 hover:text-red-100 hover:bg-red-600/20 transition-colors",title:e?"":"Logout",children:[l.jsx(xm,{className:`h-5 w-5 ${e?"mr-3":"mx-auto"}`}),e&&l.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})})}),l.jsx("div",{className:`md:hidden ${r?"block":"hidden"}`,children:l.jsxs("div",{className:"fixed inset-0 flex z-40",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>a(!1)}),l.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-sidebar-bg",children:[l.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:l.jsx("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>a(!1),children:l.jsx(Nn,{className:"h-6 w-6 text-white"})})}),l.jsxs("div",{className:"flex items-center h-16 flex-shrink-0 px-4 bg-gray-900",children:[l.jsx(_s,{className:"h-8 w-8 text-primary-500"}),l.jsx("h1",{className:"ml-3 text-xl font-bold text-white",children:"Ads Reporter"})]}),l.jsxs("nav",{className:"mt-5 flex-1 px-2 space-y-1 flex flex-col",children:[l.jsx("div",{className:"flex-1 space-y-1",children:m.map(y=>{const b=y.icon;return l.jsxs(fm,{to:y.href,className:`sidebar-link ${g(y.href)?"active":""}`,onClick:()=>a(!1),children:[l.jsx(b,{className:"h-5 w-5 mr-3"}),l.jsx("span",{className:"text-sm font-medium",children:y.name})]},y.name)})}),l.jsx("div",{className:"pt-4 border-t border-gray-700",children:l.jsxs("button",{onClick:()=>{a(!1),h()},className:"w-full sidebar-link text-red-300 hover:text-red-100 hover:bg-red-600/20 transition-colors",children:[l.jsx(xm,{className:"h-5 w-5 mr-3"}),l.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})]})}),l.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[l.jsxs("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow-sm border-b border-gray-200",children:[l.jsx("button",{className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 md:hidden",onClick:()=>a(!0),children:l.jsx(Bb,{className:"h-6 w-6"})}),l.jsxs("div",{className:"flex-1 px-4 flex justify-between items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:m.find(y=>y.href===o.pathname)?.name||"Dashboard"})}),l.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 mr-3",children:d?.username||"User"}),l.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-white",children:(d?.username||"U")[0].toUpperCase()})})]})})]})]}),l.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none bg-gray-50",children:t})]})]})},Gb=({children:t})=>localStorage.getItem("authToken")?t:l.jsx(ou,{to:"/login",replace:!0});function cg(t,e){return function(){return t.apply(e,arguments)}}const{toString:Jb}=Object.prototype,{getPrototypeOf:Iu}=Object,{iterator:Po,toStringTag:ug}=Symbol,Ro=(t=>e=>{const n=Jb.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=t=>(t=t.toLowerCase(),e=>Ro(e)===t),To=t=>e=>typeof e===t,{isArray:pr}=Array,wi=To("undefined");function Ei(t){return t!==null&&!wi(t)&&t.constructor!==null&&!wi(t.constructor)&&St(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dg=Gt("ArrayBuffer");function Zb(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&dg(t.buffer),e}const ev=To("string"),St=To("function"),fg=To("number"),Pi=t=>t!==null&&typeof t=="object",tv=t=>t===!0||t===!1,io=t=>{if(Ro(t)!=="object")return!1;const e=Iu(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ug in t)&&!(Po in t)},nv=t=>{if(!Pi(t)||Ei(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},sv=Gt("Date"),rv=Gt("File"),iv=Gt("Blob"),av=Gt("FileList"),ov=t=>Pi(t)&&St(t.pipe),lv=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||St(t.append)&&((e=Ro(t))==="formdata"||e==="object"&&St(t.toString)&&t.toString()==="[object FormData]"))},cv=Gt("URLSearchParams"),[uv,dv,fv,hv]=["ReadableStream","Request","Response","Headers"].map(Gt),mv=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ri(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),pr(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{if(Ei(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),u=o.length;let d;for(r=0;r<u;r++)d=o[r],e.call(null,t[d],d,t)}}function hg(t,e){if(Ei(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mg=t=>!wi(t)&&t!==bs;function mu(){const{caseless:t}=mg(this)&&this||{},e={},n=(r,a)=>{const o=t&&hg(e,a)||a;io(e[o])&&io(r)?e[o]=mu(e[o],r):io(r)?e[o]=mu({},r):pr(r)?e[o]=r.slice():e[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ri(arguments[r],n);return e}const pv=(t,e,n,{allOwnKeys:r}={})=>(Ri(e,(a,o)=>{n&&St(a)?t[o]=cg(a,n):t[o]=a},{allOwnKeys:r}),t),gv=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xv=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},yv=(t,e,n,r)=>{let a,o,u;const d={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)u=a[o],(!r||r(u,t,e))&&!d[u]&&(e[u]=t[u],d[u]=!0);t=n!==!1&&Iu(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},bv=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vv=t=>{if(!t)return null;if(pr(t))return t;let e=t.length;if(!fg(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wv=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Iu(Uint8Array)),_v=(t,e)=>{const r=(t&&t[Po]).call(t);let a;for(;(a=r.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},jv=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Nv=Gt("HTMLFormElement"),kv=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),bm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Sv=Gt("RegExp"),pg=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ri(n,(a,o)=>{let u;(u=e(a,o,t))!==!1&&(r[o]=u||a)}),Object.defineProperties(t,r)},Cv=t=>{pg(t,(e,n)=>{if(St(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(St(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ev=(t,e)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return pr(t)?r(t):r(String(t).split(e)),n},Pv=()=>{},Rv=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Tv(t){return!!(t&&St(t.append)&&t[ug]==="FormData"&&t[Po])}const Mv=t=>{const e=new Array(10),n=(r,a)=>{if(Pi(r)){if(e.indexOf(r)>=0)return;if(Ei(r))return r;if(!("toJSON"in r)){e[a]=r;const o=pr(r)?[]:{};return Ri(r,(u,d)=>{const h=n(u,a+1);!wi(h)&&(o[d]=h)}),e[a]=void 0,o}}return r};return n(t,0)},Dv=Gt("AsyncFunction"),Av=t=>t&&(Pi(t)||St(t))&&St(t.then)&&St(t.catch),gg=((t,e)=>t?setImmediate:e?((n,r)=>(bs.addEventListener("message",({source:a,data:o})=>{a===bs&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),bs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",St(bs.postMessage)),Ov=typeof queueMicrotask<"u"?queueMicrotask.bind(bs):typeof process<"u"&&process.nextTick||gg,Fv=t=>t!=null&&St(t[Po]),W={isArray:pr,isArrayBuffer:dg,isBuffer:Ei,isFormData:lv,isArrayBufferView:Zb,isString:ev,isNumber:fg,isBoolean:tv,isObject:Pi,isPlainObject:io,isEmptyObject:nv,isReadableStream:uv,isRequest:dv,isResponse:fv,isHeaders:hv,isUndefined:wi,isDate:sv,isFile:rv,isBlob:iv,isRegExp:Sv,isFunction:St,isStream:ov,isURLSearchParams:cv,isTypedArray:wv,isFileList:av,forEach:Ri,merge:mu,extend:pv,trim:mv,stripBOM:gv,inherits:xv,toFlatObject:yv,kindOf:Ro,kindOfTest:Gt,endsWith:bv,toArray:vv,forEachEntry:_v,matchAll:jv,isHTMLForm:Nv,hasOwnProperty:bm,hasOwnProp:bm,reduceDescriptors:pg,freezeMethods:Cv,toObjectSet:Ev,toCamelCase:kv,noop:Pv,toFiniteNumber:Rv,findKey:hg,global:bs,isContextDefined:mg,isSpecCompliantForm:Tv,toJSONObject:Mv,isAsyncFn:Dv,isThenable:Av,setImmediate:gg,asap:Ov,isIterable:Fv};function _e(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const xg=_e.prototype,yg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yg[t]={value:t}});Object.defineProperties(_e,yg);Object.defineProperty(xg,"isAxiosError",{value:!0});_e.from=(t,e,n,r,a,o)=>{const u=Object.create(xg);return W.toFlatObject(t,u,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),_e.call(u,t.message,e,n,r,a),u.cause=t,u.name=t.name,o&&Object.assign(u,o),u};const Lv=null;function pu(t){return W.isPlainObject(t)||W.isArray(t)}function bg(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function vm(t,e,n){return t?t.concat(e).map(function(a,o){return a=bg(a),!n&&o?"["+a+"]":a}).join(n?".":""):e}function Iv(t){return W.isArray(t)&&!t.some(pu)}const zv=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function Mo(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!W.isUndefined(w[_])});const r=n.metaTokens,a=n.visitor||g,o=n.dots,u=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function m(j){if(j===null)return"";if(W.isDate(j))return j.toISOString();if(W.isBoolean(j))return j.toString();if(!h&&W.isBlob(j))throw new _e("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(j)||W.isTypedArray(j)?h&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function g(j,_,w){let P=j;if(j&&!w&&typeof j=="object"){if(W.endsWith(_,"{}"))_=r?_:_.slice(0,-2),j=JSON.stringify(j);else if(W.isArray(j)&&Iv(j)||(W.isFileList(j)||W.endsWith(_,"[]"))&&(P=W.toArray(j)))return _=bg(_),P.forEach(function(R,M){!(W.isUndefined(R)||R===null)&&e.append(u===!0?vm([_],M,o):u===null?_:_+"[]",m(R))}),!1}return pu(j)?!0:(e.append(vm(w,_,o),m(j)),!1)}const y=[],b=Object.assign(zv,{defaultVisitor:g,convertValue:m,isVisitable:pu});function N(j,_){if(!W.isUndefined(j)){if(y.indexOf(j)!==-1)throw Error("Circular reference detected in "+_.join("."));y.push(j),W.forEach(j,function(P,k){(!(W.isUndefined(P)||P===null)&&a.call(e,P,W.isString(k)?k.trim():k,_,b))===!0&&N(P,_?_.concat(k):[k])}),y.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return N(t),e}function wm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zu(t,e){this._pairs=[],t&&Mo(t,this,e)}const vg=zu.prototype;vg.append=function(e,n){this._pairs.push([e,n])};vg.toString=function(e){const n=e?function(r){return e.call(this,r,wm)}:wm;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Bv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wg(t,e,n){if(!e)return t;const r=n&&n.encode||Bv;W.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(e,n):o=W.isURLSearchParams(e)?e.toString():new zu(e,n).toString(r),o){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class _m{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(r){r!==null&&e(r)})}}const _g={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uv=typeof URLSearchParams<"u"?URLSearchParams:zu,$v=typeof FormData<"u"?FormData:null,Hv=typeof Blob<"u"?Blob:null,Wv={isBrowser:!0,classes:{URLSearchParams:Uv,FormData:$v,Blob:Hv},protocols:["http","https","file","blob","url","data"]},Bu=typeof window<"u"&&typeof document<"u",gu=typeof navigator=="object"&&navigator||void 0,Vv=Bu&&(!gu||["ReactNative","NativeScript","NS"].indexOf(gu.product)<0),qv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yv=Bu&&window.location.href||"http://localhost",Kv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bu,hasStandardBrowserEnv:Vv,hasStandardBrowserWebWorkerEnv:qv,navigator:gu,origin:Yv},Symbol.toStringTag,{value:"Module"})),ft={...Kv,...Wv};function Xv(t,e){return Mo(t,new ft.classes.URLSearchParams,{visitor:function(n,r,a,o){return ft.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Qv(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gv(t){const e={},n=Object.keys(t);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],e[o]=t[o];return e}function jg(t){function e(n,r,a,o){let u=n[o++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),h=o>=n.length;return u=!u&&W.isArray(a)?a.length:u,h?(W.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!d):((!a[u]||!W.isObject(a[u]))&&(a[u]=[]),e(n,r,a[u],o)&&W.isArray(a[u])&&(a[u]=Gv(a[u])),!d)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(r,a)=>{e(Qv(r),a,n,0)}),n}return null}function Jv(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ti={transitional:_g,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=W.isObject(e);if(o&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return a?JSON.stringify(jg(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xv(e,this.formSerializer).toString();if((d=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Mo(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),Jv(e)):e}],transformResponse:[function(e){const n=this.transitional||Ti.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(r&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(u)throw d.name==="SyntaxError"?_e.from(d,_e.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{Ti.headers[t]={}});const Zv=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ew=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!n||e[n]&&Zv[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jm=Symbol("internals");function ri(t){return t&&String(t).trim().toLowerCase()}function ao(t){return t===!1||t==null?t:W.isArray(t)?t.map(ao):String(t)}function tw(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const nw=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $c(t,e,n,r,a){if(W.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!W.isString(e)){if(W.isString(r))return e.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(e)}}function sw(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function rw(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,o,u){return this[r].call(this,e,a,o,u)},configurable:!0})})}let Ct=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function o(d,h,m){const g=ri(h);if(!g)throw new Error("header name must be a non-empty string");const y=W.findKey(a,g);(!y||a[y]===void 0||m===!0||m===void 0&&a[y]!==!1)&&(a[y||h]=ao(d))}const u=(d,h)=>W.forEach(d,(m,g)=>o(m,g,h));if(W.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(W.isString(e)&&(e=e.trim())&&!nw(e))u(ew(e),n);else if(W.isObject(e)&&W.isIterable(e)){let d={},h,m;for(const g of e){if(!W.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(h=d[m])?W.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}u(d,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=ri(e),e){const r=W.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return tw(a);if(W.isFunction(n))return n.call(this,a,r);if(W.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ri(e),e){const r=W.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$c(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function o(u){if(u=ri(u),u){const d=W.findKey(r,u);d&&(!n||$c(r,r[d],d,n))&&(delete r[d],a=!0)}}return W.isArray(e)?e.forEach(o):o(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!e||$c(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const n=this,r={};return W.forEach(this,(a,o)=>{const u=W.findKey(r,o);if(u){n[u]=ao(a),delete n[o];return}const d=e?sw(o):String(o).trim();d!==o&&delete n[o],n[d]=ao(a),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[jm]=this[jm]={accessors:{}}).accessors,a=this.prototype;function o(u){const d=ri(u);r[d]||(rw(a,u),r[d]=!0)}return W.isArray(e)?e.forEach(o):o(e),this}};Ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Ct.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});W.freezeMethods(Ct);function Hc(t,e){const n=this||Ti,r=e||n,a=Ct.from(r.headers);let o=r.data;return W.forEach(t,function(d){o=d.call(n,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function Ng(t){return!!(t&&t.__CANCEL__)}function gr(t,e,n){_e.call(this,t??"canceled",_e.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(gr,_e,{__CANCEL__:!0});function kg(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iw(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function aw(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,o=0,u;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=r[o];u||(u=m),n[a]=h,r[a]=m;let y=o,b=0;for(;y!==a;)b+=n[y++],y=y%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),m-u<e)return;const N=g&&m-g;return N?Math.round(b*1e3/N):void 0}}function ow(t,e){let n=0,r=1e3/e,a,o;const u=(m,g=Date.now())=>{n=g,a=null,o&&(clearTimeout(o),o=null),t(...m)};return[(...m)=>{const g=Date.now(),y=g-n;y>=r?u(m,g):(a=m,o||(o=setTimeout(()=>{o=null,u(a)},r-y)))},()=>a&&u(a)]}const fo=(t,e,n=3)=>{let r=0;const a=aw(50,250);return ow(o=>{const u=o.loaded,d=o.lengthComputable?o.total:void 0,h=u-r,m=a(h),g=u<=d;r=u;const y={loaded:u,total:d,progress:d?u/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&g?(d-u)/m:void 0,event:o,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(y)},n)},Nm=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},km=t=>(...e)=>W.asap(()=>t(...e)),lw=ft.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,cw=ft.hasStandardBrowserEnv?{write(t,e,n,r,a,o){const u=[t+"="+encodeURIComponent(e)];W.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),W.isString(r)&&u.push("path="+r),W.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dw(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Sg(t,e,n){let r=!uw(e);return t&&(r||n==!1)?dw(t,e):e}const Sm=t=>t instanceof Ct?{...t}:t;function ks(t,e){e=e||{};const n={};function r(m,g,y,b){return W.isPlainObject(m)&&W.isPlainObject(g)?W.merge.call({caseless:b},m,g):W.isPlainObject(g)?W.merge({},g):W.isArray(g)?g.slice():g}function a(m,g,y,b){if(W.isUndefined(g)){if(!W.isUndefined(m))return r(void 0,m,y,b)}else return r(m,g,y,b)}function o(m,g){if(!W.isUndefined(g))return r(void 0,g)}function u(m,g){if(W.isUndefined(g)){if(!W.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function d(m,g,y){if(y in e)return r(m,g);if(y in t)return r(void 0,m)}const h={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,g,y)=>a(Sm(m),Sm(g),y,!0)};return W.forEach(Object.keys({...t,...e}),function(g){const y=h[g]||a,b=y(t[g],e[g],g);W.isUndefined(b)&&y!==d||(n[g]=b)}),n}const Cg=t=>{const e=ks({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:u,auth:d}=e;e.headers=u=Ct.from(u),e.url=wg(Sg(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(W.isFormData(n)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((h=u.getContentType())!==!1){const[m,...g]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...g].join("; "))}}if(ft.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(e)),r||r!==!1&&lw(e.url))){const m=a&&o&&cw.read(o);m&&u.set(a,m)}return e},fw=typeof XMLHttpRequest<"u",hw=fw&&function(t){return new Promise(function(n,r){const a=Cg(t);let o=a.data;const u=Ct.from(a.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=a,g,y,b,N,j;function _(){N&&N(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function P(){if(!w)return;const R=Ct.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),F={data:!d||d==="text"||d==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:R,config:t,request:w};kg(function(z){n(z),_()},function(z){r(z),_()},F),w=null}"onloadend"in w?w.onloadend=P:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(P)},w.onabort=function(){w&&(r(new _e("Request aborted",_e.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new _e("Network Error",_e.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let M=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const F=a.transitional||_g;a.timeoutErrorMessage&&(M=a.timeoutErrorMessage),r(new _e(M,F.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,w)),w=null},o===void 0&&u.setContentType(null),"setRequestHeader"in w&&W.forEach(u.toJSON(),function(M,F){w.setRequestHeader(F,M)}),W.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),d&&d!=="json"&&(w.responseType=a.responseType),m&&([b,j]=fo(m,!0),w.addEventListener("progress",b)),h&&w.upload&&([y,N]=fo(h),w.upload.addEventListener("progress",y),w.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(g=R=>{w&&(r(!R||R.type?new gr(null,t,w):R),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const k=iw(a.url);if(k&&ft.protocols.indexOf(k)===-1){r(new _e("Unsupported protocol "+k+":",_e.ERR_BAD_REQUEST,t));return}w.send(o||null)})},mw=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const o=function(m){if(!a){a=!0,d();const g=m instanceof Error?m:this.reason;r.abort(g instanceof _e?g:new gr(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new _e(`timeout ${e} of ms exceeded`,_e.ETIMEDOUT))},e);const d=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:h}=r;return h.unsubscribe=()=>W.asap(d),h}},pw=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},gw=async function*(t,e){for await(const n of xw(t))yield*pw(n,e)},xw=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Cm=(t,e,n,r)=>{const a=gw(t,e);let o=0,u,d=h=>{u||(u=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await a.next();if(m){d(),h.close();return}let y=g.byteLength;if(n){let b=o+=y;n(b)}h.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(h){return d(h),a.return()}},{highWaterMark:2})},Do=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Eg=Do&&typeof ReadableStream=="function",yw=Do&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Pg=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bw=Eg&&Pg(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Em=64*1024,xu=Eg&&Pg(()=>W.isReadableStream(new Response("").body)),ho={stream:xu&&(t=>t.body)};Do&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ho[e]&&(ho[e]=W.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new _e(`Response type '${e}' is not supported`,_e.ERR_NOT_SUPPORT,r)})})})(new Response);const vw=async t=>{if(t==null)return 0;if(W.isBlob(t))return t.size;if(W.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(W.isArrayBufferView(t)||W.isArrayBuffer(t))return t.byteLength;if(W.isURLSearchParams(t)&&(t=t+""),W.isString(t))return(await yw(t)).byteLength},ww=async(t,e)=>{const n=W.toFiniteNumber(t.getContentLength());return n??vw(e)},_w=Do&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:o,timeout:u,onDownloadProgress:d,onUploadProgress:h,responseType:m,headers:g,withCredentials:y="same-origin",fetchOptions:b}=Cg(t);m=m?(m+"").toLowerCase():"text";let N=mw([a,o&&o.toAbortSignal()],u),j;const _=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let w;try{if(h&&bw&&n!=="get"&&n!=="head"&&(w=await ww(g,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),V;if(W.isFormData(r)&&(V=F.headers.get("content-type"))&&g.setContentType(V),F.body){const[z,D]=Nm(w,fo(km(h)));r=Cm(F.body,Em,z,D)}}W.isString(y)||(y=y?"include":"omit");const P="credentials"in Request.prototype;j=new Request(e,{...b,signal:N,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:P?y:void 0});let k=await fetch(j,b);const R=xu&&(m==="stream"||m==="response");if(xu&&(d||R&&_)){const F={};["status","statusText","headers"].forEach(H=>{F[H]=k[H]});const V=W.toFiniteNumber(k.headers.get("content-length")),[z,D]=d&&Nm(V,fo(km(d),!0))||[];k=new Response(Cm(k.body,Em,z,()=>{D&&D(),_&&_()}),F)}m=m||"text";let M=await ho[W.findKey(ho,m)||"text"](k,t);return!R&&_&&_(),await new Promise((F,V)=>{kg(F,V,{data:M,headers:Ct.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:j})})}catch(P){throw _&&_(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,t,j),{cause:P.cause||P}):_e.from(P,P&&P.code,t,j)}}),yu={http:Lv,xhr:hw,fetch:_w};W.forEach(yu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Pm=t=>`- ${t}`,jw=t=>W.isFunction(t)||t===null||t===!1,Rg={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let o=0;o<e;o++){n=t[o];let u;if(r=n,!jw(n)&&(r=yu[(u=String(n)).toLowerCase()],r===void 0))throw new _e(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+o]=r}if(!r){const o=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(Pm).join(`
`):" "+Pm(o[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:yu};function Wc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gr(null,t)}function Rm(t){return Wc(t),t.headers=Ct.from(t.headers),t.data=Hc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Rg.getAdapter(t.adapter||Ti.adapter)(t).then(function(r){return Wc(t),r.data=Hc.call(t,t.transformResponse,r),r.headers=Ct.from(r.headers),r},function(r){return Ng(r)||(Wc(t),r&&r.response&&(r.response.data=Hc.call(t,t.transformResponse,r.response),r.response.headers=Ct.from(r.response.headers))),Promise.reject(r)})}const Tg="1.11.0",Ao={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ao[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Tm={};Ao.transitional=function(e,n,r){function a(o,u){return"[Axios v"+Tg+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,d)=>{if(e===!1)throw new _e(a(u," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!Tm[u]&&(Tm[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,d):!0}};Ao.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Nw(t,e,n){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const o=r[a],u=e[o];if(u){const d=t[o],h=d===void 0||u(d,o,t);if(h!==!0)throw new _e("option "+o+" must be "+h,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+o,_e.ERR_BAD_OPTION)}}const oo={assertOptions:Nw,validators:Ao},sn=oo.validators;let js=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _m,response:new _m}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ks(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&oo.assertOptions(r,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),a!=null&&(W.isFunction(a)?n.paramsSerializer={serialize:a}:oo.assertOptions(a,{encode:sn.function,serialize:sn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),oo.assertOptions(n,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=o&&W.merge(o.common,o[n.method]);o&&W.forEach(["delete","get","head","post","put","patch","common"],j=>{delete o[j]}),n.headers=Ct.concat(u,o);const d=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(h=h&&_.synchronous,d.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let g,y=0,b;if(!h){const j=[Rm.bind(this),void 0];for(j.unshift(...d),j.push(...m),b=j.length,g=Promise.resolve(n);y<b;)g=g.then(j[y++],j[y++]);return g}b=d.length;let N=n;for(y=0;y<b;){const j=d[y++],_=d[y++];try{N=j(N)}catch(w){_.call(this,w);break}}try{g=Rm.call(this,N)}catch(j){return Promise.reject(j)}for(y=0,b=m.length;y<b;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=ks(this.defaults,e);const n=Sg(e.baseURL,e.url,e.allowAbsoluteUrls);return wg(n,e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){js.prototype[e]=function(n,r){return this.request(ks(r||{},{method:e,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(r){return function(o,u,d){return this.request(ks(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}js.prototype[e]=n(),js.prototype[e+"Form"]=n(!0)});let kw=class Mg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(d=>{r.subscribe(d),o=d}).then(a);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,d){r.reason||(r.reason=new gr(o,u,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Mg(function(a){e=a}),cancel:e}}};function Sw(t){return function(n){return t.apply(null,n)}}function Cw(t){return W.isObject(t)&&t.isAxiosError===!0}const bu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bu).forEach(([t,e])=>{bu[e]=t});function Dg(t){const e=new js(t),n=cg(js.prototype.request,e);return W.extend(n,js.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return Dg(ks(t,a))},n}const We=Dg(Ti);We.Axios=js;We.CanceledError=gr;We.CancelToken=kw;We.isCancel=Ng;We.VERSION=Tg;We.toFormData=Mo;We.AxiosError=_e;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=Sw;We.isAxiosError=Cw;We.mergeConfig=ks;We.AxiosHeaders=Ct;We.formToJSON=t=>jg(W.isHTMLForm(t)?new FormData(t):t);We.getAdapter=Rg.getAdapter;We.HttpStatusCode=bu;We.default=We;const{Axios:TN,AxiosError:MN,CanceledError:DN,isCancel:AN,CancelToken:ON,VERSION:FN,all:LN,Cancel:IN,isAxiosError:zN,spread:BN,toFormData:UN,AxiosHeaders:$N,HttpStatusCode:HN,formToJSON:WN,getAdapter:VN,mergeConfig:qN}=We,Ew="http://localhost:5000/api",re=We.create({baseURL:Ew,headers:{"Content-Type":"application/json"}});re.interceptors.request.use(t=>{const e=localStorage.getItem("access_token")||localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t});re.interceptors.response.use(t=>t,t=>{if(t.response?.status===401){localStorage.removeItem("access_token"),localStorage.removeItem("authToken"),localStorage.removeItem("user");const e=t.response?.data?.message||"Your session has expired. Please log in again.";window.location.pathname!=="/login"&&(sessionStorage.setItem("loginMessage",e),window.location.href="/login")}else if(t.response?.status===403){const e=t.response?.data?.message||"Access denied. You don't have permission to perform this action.";console.error("Permission denied:",e)}else if(t.response?.status===404){const e=t.response?.data?.message||"The item you're looking for doesn't exist or may have been removed.";console.error("Resource not found:",e)}else if(t.response?.status>=500){const e=t.response?.data?.message||"We're experiencing technical difficulties. Please try again in a few minutes.";console.error("Server error:",e)}else t.response?.data?.message&&console.error("API Error:",t.response.data.message);if(t.response?.data?.message)t.userMessage=t.response.data.message;else switch(t.response?.status){case 400:t.userMessage="There was an issue with your request. Please check your input and try again.";break;case 403:t.userMessage="Access denied. You don't have permission to perform this action.";break;case 404:t.userMessage="The item you're looking for doesn't exist or may have been removed.";break;case 409:t.userMessage="This action conflicts with existing data. Please try again.";break;case 422:t.userMessage="Some of the information you provided is not valid. Please check and try again.";break;case 429:t.userMessage="You're making too many requests. Please wait a moment and try again.";break;case 500:case 502:case 503:case 504:t.userMessage="We're experiencing technical difficulties. Please try again in a few minutes.";break;default:t.userMessage="Something went wrong. Please try again later."}return Promise.reject(t)});const Vc={setup:(t,e=!1)=>re.post("/2fa/setup",{username:t,temporary:e}),verifySetup:(t,e)=>re.post("/2fa/verify-setup",{user_id:t,token:e}),verifyTemporary:(t,e)=>re.post("/2fa/verify-temporary",{temp_key:t,token:e}),getTemporary:t=>re.get(`/2fa/temporary/${t}`),verifyLogin:(t,e)=>re.post("/2fa/verify-login",{user_id:t,token:e}),getStatus:t=>re.get(`/2fa/status/${t}`),disable:(t,e)=>re.post("/2fa/disable",{user_id:t,current_token:e}),generateBackupCodes:(t,e)=>re.post("/2fa/backup-codes",{user_id:t,current_token:e}),getInfo:()=>re.get("/2fa/info")},Pw=()=>{const[t,e]=S.useState({username:"",password:"",twofa_code:""}),[n,r]=S.useState(!1),[a,o]=S.useState(!1),[u,d]=S.useState(""),[h,m]=S.useState(!1),[g,y]=S.useState("credentials"),[b,N]=S.useState(null),j=ko(),_=async k=>{k.preventDefault(),o(!0),d(""),console.log("Login attempt:",{username:t.username,step:g});try{if(g==="credentials"){console.log("Making API call to backend...");try{const R=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})});console.log("API response status:",R.status),console.log("API response ok:",R.ok);const M=await R.json();console.log("API response data:",M),M.success?M.data.requires_2fa?(m(!0),N(M.data.user.id),y("2fa"),console.log("2FA required for user:",M.data.user.username)):(console.log("Login successful, storing token and navigating..."),localStorage.setItem("access_token",M.data.token),localStorage.setItem("authToken",M.data.token),localStorage.setItem("user",JSON.stringify(M.data.user)),j("/dashboard")):d(M.message||"Invalid username or password")}catch{if(console.warn("API not available, using demo mode"),t.username==="admin"&&t.password==="password"){const M="demo-token-"+Date.now();localStorage.setItem("access_token",M),localStorage.setItem("authToken",M),localStorage.setItem("user",JSON.stringify({id:1,username:t.username,role_id:1})),j("/dashboard")}else d("API unavailable. Use demo credentials: admin/password")}}else if(g==="2fa")try{console.log("Making 2FA API call with user ID:",b,"token:",t.twofa_code);const M=await(await fetch("http://localhost:5000/api/auth/login-2fa",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:b,token:t.twofa_code})})).json();if(console.log("2FA API response:",M),M.success){const{token:F,user:V}=M.data;localStorage.setItem("access_token",F),localStorage.setItem("authToken",F),localStorage.setItem("user",JSON.stringify(V)),console.log("2FA verification successful, navigating to dashboard"),j("/dashboard")}else{const F=M.message||"Invalid 2FA code";console.error("2FA verification failed:",F),d(F),e({...t,twofa_code:""})}}catch{if(console.warn("API not available, using demo 2FA"),t.twofa_code==="123456"){const M="demo-token-2fa-"+Date.now();localStorage.setItem("access_token",M),localStorage.setItem("authToken",M),localStorage.setItem("user",JSON.stringify({id:1,username:t.username,role_id:1,has_2fa:!0})),j("/dashboard")}else d("API unavailable. Demo 2FA code: 123456"),e({...t,twofa_code:""})}}catch(R){console.error("Login error:",R),d("An error occurred. Please try again.")}finally{o(!1)}},w=k=>{const{name:R,value:M}=k.target;e({...t,[R]:M}),d("")},P=()=>{y("credentials"),m(!1),N(null),e({...t,twofa_code:""}),d("")};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-purple-800 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-white rounded-full flex items-center justify-center shadow-lg",children:l.jsx(_s,{className:"h-10 w-10 text-purple-600"})}),l.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Welcome Back"}),l.jsx("p",{className:"mt-2 text-sm text-purple-100",children:g==="credentials"?"Sign in to your Ads Reporter account":"Enter your 2FA code to complete login"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[u&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg text-sm",children:u}),l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[g==="credentials"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),l.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your username"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:t.password,onChange:w,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:n?l.jsx(Lb,{className:"h-5 w-5"}):l.jsx(lg,{className:"h-5 w-5"})})]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"mx-auto h-12 w-12 bg-green-100 rounded-full flex items-center justify-center mb-2",children:l.jsx(du,{className:"h-8 w-8 text-green-600"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Please enter the 6-digit code from your authenticator app"})]}),l.jsx("label",{htmlFor:"twofa_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"2FA Code"}),l.jsx("input",{id:"twofa_code",name:"twofa_code",type:"text",required:!0,maxLength:"6",value:t.twofa_code,onChange:k=>{const R=k.target.value.replace(/\D/g,"").substring(0,6);e({...t,twofa_code:R}),d("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"000000"}),l.jsx("button",{type:"button",onClick:P,className:"mt-3 text-sm text-purple-600 hover:text-purple-800",children:" Back to login"})]}),l.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:a?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):g==="credentials"?"Sign In":"Verify & Continue"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-xs text-gray-500",children:"Ads Reporter  2025 - Secure Login System"})})]})]})})},Vn={getAll:async(t={})=>(await re.get("/users",{params:t})).data,getById:async t=>(await re.get(`/users/${t}`)).data,getForDropdown:async()=>{const t=await re.get("/users",{params:{limit:100,is_active:!0}});return t.data.success&&t.data.data?.users?{success:!0,data:t.data.data.users.map(e=>({id:e.id,name:e.username,username:e.username,is_active:e.is_active}))}:t.data},create:async t=>(await re.post("/users",t)).data,update:async(t,e)=>(await re.put(`/users/${t}`,e)).data,delete:async t=>(await re.delete(`/users/${t}`)).data,toggleStatus:async t=>(await re.patch(`/users/${t}/toggle-status`)).data,getRoles:async()=>{try{const t=await re.get("/permissions/roles-list");return t.data.success&&t.data.data?{success:!0,data:{roles:t.data.data.map(e=>({id:e.id,role_name:e.name,name:e.name,description:e.description,is_system_role:e.is_system_role}))}}:t.data}catch(t){return console.error("Error fetching roles from permissions API:",t),(await re.get("/users/roles")).data}},checkUsername:async t=>(await re.get(`/users/check/username/${t}`)).data},Rw=({userId:t,username:e,onVerified:n,onCancel:r,isNewUser:a=!1})=>{const[o,u]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(""),[y,b]=S.useState(!1),[N,j]=S.useState(""),[_,w]=S.useState(""),[P,k]=S.useState("setup"),[R,M]=S.useState(""),[F,V]=S.useState(!1);S.useEffect(()=>{e&&z()},[t,e,a]);const z=async()=>{try{b(!0),j(""),w(""),console.log("Setting up 2FA for username:",e,"isNewUser:",a);const Q=a||!t||t==="new"||typeof t=="string",ne=await Vc.setup(e,Q);if(ne.data&&ne.data.success){const{qr_code:Y,secret:se,message:ue,temp_key:ae,temporary:fe}=ne.data.data;u(Y),h(se),k("verify"),fe&&ae?(M(ae),V(!0),console.log("Temporary 2FA setup created with key:",ae)):V(!1),ue&&w(ue)}else throw new Error(ne.data?.message||"Failed to setup 2FA")}catch(Q){console.error("Error setting up 2FA:",Q);const ne=Q.userMessage||Q.response?.data?.message||"Failed to generate QR code. Please try again.";j(ne)}finally{b(!1)}},D=async()=>{if(!m||m.length!==6){j("Please enter a valid 6-digit code");return}try{b(!0),j(""),w("");let Q;if(F&&R)console.log("Verifying temporary 2FA with key:",R,"and token:",m),Q=await Vc.verifyTemporary(R,m);else{if(!t){j("User ID is required for verification");return}console.log("Verifying 2FA setup for user ID:",t,"with token:",m),Q=await Vc.verifySetup(t,m)}if(Q.data&&Q.data.success){const{message:ne}=Q.data;w(ne||"2FA has been successfully verified!"),k("complete");const Y={success:!0,secret:d,message:ne||"2FA verified successfully"};F&&R&&(Y.tempKey=R,Y.isTemporary=!0),setTimeout(()=>{n(Y)},2e3)}else throw new Error(Q.data?.message||"Verification failed")}catch(Q){console.error("Error verifying 2FA:",Q);const ne=Q.userMessage||Q.response?.data?.message||"Invalid verification code. Please try again.";j(ne)}finally{b(!1)}},H=()=>{k("setup"),g(""),j(""),w(""),u(""),h(""),z()};return l.jsx("div",{className:"bg-white p-6 rounded-lg border",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx(Yb,{className:"h-12 w-12 text-primary-500 mx-auto mb-2"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Set up Two-Factor Authentication"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Scan the QR code with Google Authenticator or similar app"})]}),y&&l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(jn,{className:"h-6 w-6 animate-spin text-primary-500"}),l.jsx("span",{className:"ml-2 text-gray-600",children:P==="setup"?"Generating QR code...":P==="verify"?"Verifying code...":"Processing..."})]}),N&&l.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start",children:[l.jsx(Et,{className:"h-4 w-4 text-red-600 mt-0.5 mr-2 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-red-800",children:N})]}),_&&l.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-md flex items-start",children:[l.jsx(Uc,{className:"h-4 w-4 text-green-600 mt-0.5 mr-2 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-green-800",children:_})]}),!y&&o&&P==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"inline-block p-4 bg-white border-2 border-gray-200 rounded-lg",children:l.jsx("img",{src:o,alt:"2FA QR Code",className:"w-48 h-48"})})}),l.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Manual entry key (if QR code doesn't work):"}),l.jsx("code",{className:"text-sm font-mono text-gray-800 break-all",children:d})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter the 6-digit code from your authenticator app:"}),l.jsx("input",{type:"text",maxLength:"6",className:"input-field text-center text-lg tracking-widest font-mono",placeholder:"000000",value:m,onChange:Q=>{const ne=Q.target.value.replace(/\D/g,"");ne.length<=6&&(g(ne),j(""))},onKeyPress:Q=>{Q.key==="Enter"&&m.length===6&&D()},disabled:y})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{type:"button",onClick:H,disabled:y,className:"text-sm text-primary-600 hover:text-primary-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate new QR code"}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{type:"button",onClick:r,disabled:y,className:"btn-secondary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Nn,{className:"h-4 w-4 mr-1"}),"Cancel"]}),l.jsxs("button",{type:"button",onClick:D,disabled:m.length!==6||y,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[y?l.jsx(jn,{className:"h-4 w-4 mr-1 animate-spin"}):l.jsx(Uc,{className:"h-4 w-4 mr-1"}),"Verify & Enable"]})]})]})]}),P==="complete"&&l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(Uc,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),l.jsx("h4",{className:"text-xl font-medium text-gray-900 mb-2",children:"Two-Factor Authentication Enabled!"}),l.jsx("p",{className:"text-gray-600",children:"Your account is now protected with two-factor authentication."})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Important:"})," Save your backup codes in a safe place. They can be used to access your account if you lose access to your authenticator app."]})}),l.jsx("button",{type:"button",onClick:()=>n({success:!0,secret:d}),className:"btn-primary",children:"Continue"})]})]})})},Tw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[a,o]=S.useState(!1),[u,d]=S.useState(!1),[h,m]=S.useState(null),[g,y]=S.useState(""),[b,N]=S.useState(!1),[j,_]=S.useState({username:"",password:"",role_id:"",is_2fa_enabled:!1,is_active:!0});S.useEffect(()=>{w(),P()},[]);const w=async()=>{try{N(!0);const D=await Vn.getAll({search:g,limit:100,page:1});D.success&&D.data?.users?e(D.data.users):(console.error("Failed to load users:",D.message),e([]))}catch(D){console.error("Error loading users:",D),alert("Failed to load users: "+(D.userMessage||"Please try again later.")),e([])}finally{N(!1)}},P=async()=>{try{const D=await Vn.getRoles();console.log("Roles API response:",D),D.success&&D.data?.roles?(console.log("Setting roles:",D.data.roles),r(D.data.roles)):(console.error("Failed to load roles:",D.message),r([]))}catch(D){console.error("Error loading roles:",D),alert("Failed to load roles: "+(D.userMessage||"Please try again later.")),r([])}},k=async D=>{D.preventDefault();try{if(h){const H={...j};j.password.trim()?H.confirm_password=j.password:delete H.password;const Q=await Vn.update(h.id,H);Q.success?(w(),alert("User updated successfully!")):alert("Failed to update user: "+(Q.message||"Unknown error"))}else{const H={...j,confirm_password:j.password,enable_2fa:j.is_2fa_enabled},Q=await Vn.create(H);Q.success?(w(),alert("User created successfully!")):alert("Failed to create user: "+(Q.message||"Unknown error"))}_({username:"",password:"",role_id:n[0]?.id||"",is_2fa_enabled:!1,is_active:!0}),m(null),o(!1)}catch(H){console.error("Error saving user:",H),alert("Error saving user: "+(H.userMessage||H.message||"Please try again later."))}},R=D=>{m(D),_({username:D.username,password:"",role_id:D.role_id,is_2fa_enabled:D.is_2fa_enabled||D.twofa_enabled,is_active:D.is_active}),o(!0)},M=async D=>{if(window.confirm("Are you sure you want to delete this user?"))try{const H=await Vn.delete(D);H.success?(w(),alert("User deleted successfully!")):alert("Failed to delete user: "+(H.message||"Unknown error"))}catch(H){console.error("Error deleting user:",H),alert("Error deleting user: "+(H.userMessage||H.message||"Please try again later."))}},F=async D=>{try{const H=await Vn.toggleStatus(D);H.success?w():alert("Failed to toggle user status: "+(H.message||"Unknown error"))}catch(H){console.error("Error toggling user status:",H),alert("Error toggling user status: "+(H.userMessage||H.message||"Please try again later."))}},V=D=>{console.log("2FA verification data received:",D);const H={...j,is_2fa_enabled:!0,twofa_secret:D.secret};D.isTemporary&&D.tempKey&&(H.temp_2fa_key=D.tempKey),_(H),d(!1),alert(D.message||"2FA has been verified successfully!")},z=t.filter(D=>D.username.toLowerCase().includes(g.toLowerCase())||(D.role_name||"").toLowerCase().includes(g.toLowerCase()));return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage users, roles, and permissions"})]}),l.jsxs("button",{onClick:()=>{m(null),_({username:"",password:"",role_id:n[0]?.id||"",is_2fa_enabled:!1,is_active:!0}),o(!0)},className:"mt-4 sm:mt-0 btn-primary flex items-center",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Add New User"]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Cs,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search users...",value:g,onChange:D=>y(D.target.value)})]})}),l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"2FA"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(D=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-white",children:D.username.charAt(0).toUpperCase()})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.username}),l.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",D.id]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.role_name||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.is_2fa_enabled||D.twofa_enabled?l.jsxs("span",{className:"inline-flex items-center text-green-700 bg-green-100 px-2 py-1 rounded-md text-xs",children:[l.jsx(du,{className:"h-4 w-4 mr-1"})," Enabled"]}):l.jsxs("span",{className:"inline-flex items-center text-gray-700 bg-gray-100 px-2 py-1 rounded-md text-xs",children:[l.jsx(vi,{className:"h-4 w-4 mr-1"})," Disabled"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("button",{onClick:()=>F(D.id),className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full cursor-pointer ${D.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:D.is_active?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.last_login||""}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>R(D),className:"text-primary-600 hover:text-primary-900 p-1",title:"Edit user",children:l.jsx(Ci,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>M(D.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete user",children:l.jsx(mr,{className:"h-4 w-4"})})]})})]},D.id))})]})})}),a&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h?"Edit User":"Create User"})}),l.jsxs("form",{onSubmit:k,className:"px-6 py-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),l.jsx("input",{type:"text",required:!0,className:"input-field",value:j.username,onChange:D=>_({...j,username:D.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"New Password (leave blank to keep current)":"Password"}),l.jsx("input",{type:"password",required:!h,className:"input-field",value:j.password,onChange:D=>_({...j,password:D.target.value}),placeholder:h?"Enter new password or leave blank":"Enter password"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),l.jsxs("select",{className:"input-field",required:!0,value:j.role_id,onChange:D=>_({...j,role_id:Number(D.target.value)}),children:[l.jsx("option",{value:"",disabled:!0,children:"Select role"}),n.map(D=>l.jsx("option",{value:D.id,children:D.name||D.role_name},D.id))]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md",children:[l.jsxs("div",{className:"flex items-center",children:[j.is_2fa_enabled?l.jsx(du,{className:"h-5 w-5 text-green-600 mr-2"}):l.jsx(vi,{className:"h-5 w-5 text-gray-600 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Enable Two-Factor Authentication"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Increase account security with a TOTP app"})]})]}),l.jsxs("button",{type:"button",onClick:()=>{if(!j.username){alert("Enter a username first to generate 2FA QR");return}d(!0)},className:"btn-secondary flex items-center",children:[l.jsx(Wb,{className:"h-4 w-4 mr-2"})," Setup"]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{id:"is_active",type:"checkbox",checked:!!j.is_active,onChange:D=>_({...j,is_active:D.target.checked})}),l.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:h?"Update User":"Create User"})]})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Setup Two-Factor Authentication"})}),l.jsx("div",{className:"p-6",children:l.jsx(Rw,{userId:h?.id||"new",username:j.username,isNewUser:!h,onVerified:V,onCancel:()=>d(!1)})})]})})]})},Mw=()=>{const t=[{id:1,name:"Total Users",value:"12",icon:Eo,color:"bg-blue-500"},{id:2,name:"Active Campaigns",value:"8",icon:_s,color:"bg-green-500"},{id:3,name:"Reports Generated",value:"24",icon:Co,color:"bg-purple-500"},{id:4,name:"Analytics Views",value:"156",icon:Qn,color:"bg-orange-500"}];return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Ads Reporting Software"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor your advertising campaigns and manage your reporting system."})]}),l.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:t.map(e=>{const n=e.icon;return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex-shrink-0 ${e.color} rounded-md p-3`,children:l.jsx(n,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"ml-5 w-0 flex-1",children:l.jsxs("dl",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),l.jsx("dd",{className:"text-3xl font-bold text-gray-900",children:e.value})]})})]})},e.id)})}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"New user registration"}),l.jsx("span",{className:"text-sm text-gray-400",children:"2 hours ago"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Campaign report generated"}),l.jsx("span",{className:"text-sm text-gray-400",children:"5 hours ago"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Analytics data updated"}),l.jsx("span",{className:"text-sm text-gray-400",children:"1 day ago"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{className:"w-full btn-primary text-left",children:"Create New Campaign"}),l.jsx("button",{className:"w-full btn-secondary text-left",children:"Generate Report"}),l.jsx("button",{className:"w-full btn-secondary text-left",children:"View Analytics"})]})]})]})]})},ln={getAllRoles:async()=>{try{return(await re.get("/permissions/roles-list")).data}catch(t){throw console.error("Error fetching roles:",t),t}},getAllRolesWithPermissions:async()=>{try{const t=await re.get("/permissions/roles-list"),e=t.data.data||t.data,n=await Promise.all(e.map(async r=>{try{const a=await re.get(`/permissions/role/${r.id}/permissions`),o=a.data.data||a.data.permissions||[];return{...r,permissions:o}}catch(a){return console.error(`Error fetching permissions for role ${r.id}:`,a),{...r,permissions:[]}}}));return{...t.data,data:n}}catch(t){throw console.error("Error fetching roles with permissions:",t),t}},getAllModules:async()=>{try{return(await re.get("/permissions/modules")).data}catch(t){throw console.error("Error fetching modules:",t),t}},getModulesWithPermissions:async()=>{try{return(await re.get("/permissions/modules-with-permissions")).data}catch(t){throw console.error("Error fetching modules with permissions:",t),t}},getAllPermissions:async()=>{try{return(await re.get("/permissions")).data}catch(t){throw console.error("Error fetching permissions:",t),t}},getRolePermissions:async t=>{try{return(await re.get(`/permissions/role/${t}/permissions`)).data}catch(e){throw console.error("Error fetching role permissions:",e),e}},getUserRoles:async t=>{try{return(await re.get(`/permissions/user/${t}/roles`)).data}catch(e){throw console.error("Error fetching user roles:",e),e}},getUserPermissions:async t=>{try{return(await re.get(`/permissions/user/${t}`)).data}catch(e){throw console.error("Error fetching user permissions:",e),e}},checkUserPermission:async(t,e)=>{try{return(await re.post("/permissions/check",{user_id:t,permission_key:e})).data}catch(n){throw console.error("Error checking user permission:",n),n}},createRole:async t=>{try{return(await re.post("/permissions/role",t)).data}catch(e){throw console.error("Error creating role:",e),e}},createRoleWithPermissions:async(t,e,n=[])=>{try{const r=await re.post("/permissions/role",{name:t,description:e}),a=r.data.data?.id||r.data.data?.roleId;return n.length>0&&a&&await re.post("/permissions/role/assign",{roleId:a,permissions:n}),r.data}catch(r){throw console.error("Error creating role with permissions:",r),r}},assignPermissionsToRole:async(t,e)=>{try{return(await re.post("/permissions/role/assign",{roleId:t,permissions:e})).data}catch(n){throw console.error("Error assigning permissions to role:",n),n}},updateRole:async(t,e)=>{try{return(await re.put(`/permissions/roles/${t}`,e)).data}catch(n){throw console.error("Error updating role:",n),n}},updateRoleWithPermissions:async(t,e,n,r=[])=>{try{const a=await re.put(`/permissions/roles/${t}`,{name:e,description:n});return r.length>=0&&await re.post("/permissions/role/assign",{roleId:t,permissions:r}),a.data}catch(a){throw console.error("Error updating role with permissions:",a),a}},deleteRole:async t=>{try{return(await re.delete(`/permissions/role/${t}`)).data}catch(e){throw console.error("Error deleting role:",e),e}},assignPermissionToRole:async(t,e)=>{try{return(await re.post("/permissions/grant-role-permission",{role_id:t,permission_id:e})).data}catch(n){throw console.error("Error assigning permission to role:",n),n}},revokePermissionFromRole:async(t,e)=>{try{return(await re.delete("/permissions/revoke-role-permission",{data:{role_id:t,permission_id:e}})).data}catch(n){throw console.error("Error revoking permission from role:",n),n}},assignUserToRole:async(t,e)=>{try{return(await re.post("/permissions/assign-role",{user_id:t,role_id:e})).data}catch(n){throw console.error("Error assigning user to role:",n),n}},removeUserFromRole:async(t,e)=>{try{return(await re.delete("/permissions/revoke-role",{data:{user_id:t,role_id:e}})).data}catch(n){throw console.error("Error removing user from role:",n),n}},getAuditLogs:async(t={})=>{try{return(await re.get("/permissions/audit",{params:t})).data}catch(e){throw console.error("Error fetching audit logs:",e),e}}},Mm=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[a,o]=S.useState(!0),[u,d]=S.useState(null),[h,m]=S.useState(!1),[g,y]=S.useState(!1),[b,N]=S.useState(null),[j,_]=S.useState(""),[w,P]=S.useState(""),[k,R]=S.useState({}),[M,F]=S.useState(""),[V,z]=S.useState(""),[D,H]=S.useState({});S.useEffect(()=>{Q()},[]),S.useEffect(()=>{b&&n.length>0&&g&&ue(b)},[n,b,g]);const Q=async()=>{try{o(!0),d(null);const[O,K]=await Promise.all([ln.getAllRolesWithPermissions(),ln.getModulesWithPermissions()]);e(O.data||O),r(K.data||K)}catch(O){console.error("Error loading data:",O),d(O.message)}finally{o(!1)}},ne=async()=>{try{if(!j.trim()){alert("Please enter a role name");return}const O=[];Object.entries(k).forEach(([K,$])=>{$.forEach(E=>{O.push(E)})}),await ln.createRoleWithPermissions(j,w,O),_(""),P(""),R({}),m(!1),await Q(),alert("Role created successfully!")}catch(O){console.error("Error creating role:",O),O.response?.status===409?alert("A role with this name already exists. Please choose a different name."):O.response?.status===400?alert("Invalid role data. Please check your inputs."):alert(`Error creating role: ${O.response?.data?.message||O.message}`)}},Y=(O,K,$)=>{R(E=>{const q=E[O]||[];return $?{...E,[O]:[...q,K]}:{...E,[O]:q.filter(L=>L!==K)}})},se=(O,K,$)=>{H(E=>{const q=E[O]||[];return $?{...E,[O]:[...q,K]}:{...E,[O]:q.filter(L=>L!==K)}})},ue=O=>{F(O.name||O.role_name||""),z(O.description||""),console.log("Populating edit form for role:",O),console.log("Role permissions:",O.permissions),console.log("Available modules:",n);const K={};O.permissions&&O.permissions.length>0&&O.permissions.forEach($=>{const E=$.permission_key||$.key;console.log("Processing permission:",{rolePermissionKey:E,permission:$}),n.forEach(q=>{if(q.permissions&&q.permissions.length>0){const L=q.permissions.find(G=>G.key===E);L&&(console.log(`Found permission "${E}" in module "${q.name}"`),K[q.id]||(K[q.id]=[]),K[q.id].includes(L.key)||K[q.id].push(L.key))}})}),console.log("Final permissions by module:",K),H(K)},ae=async()=>{try{if(!M.trim()){alert("Please enter a role name");return}const O=[];Object.entries(D).forEach(([K,$])=>{$.forEach(E=>{O.push(E)})}),await ln.updateRoleWithPermissions(b.id||b.role_id,M,V,O),F(""),z(""),H({}),y(!1),N(null),await Q(),alert("Role updated successfully!")}catch(O){console.error("Error updating role:",O),O.response?.status===409?alert("A role with this name already exists. Please choose a different name."):O.response?.status===400?alert("Invalid role data. Please check your inputs."):O.response?.status===403?alert("Cannot update this role: It is a system role."):alert(`Error updating role: ${O.response?.data?.message||O.message}`)}},fe=async(O,K,$)=>{if($){alert(`Cannot delete "${K}" because it is a system role.`);return}if(window.confirm(`Are you sure you want to delete the role "${K}"?`))try{await ln.deleteRole(O),await Q(),alert("Role deleted successfully!")}catch(E){console.error("Error deleting role:",E),E.response?.status===403?alert("Cannot delete this role: It is a system role or has restrictions."):E.response?.status===400?alert("Cannot delete this role: It may be assigned to active users."):alert(`Error deleting role: ${E.response?.data?.message||E.message}`)}},le=O=>!O||O.length===0?"No permissions assigned":O.map(K=>K.permission_name||K.name||K).join(", ");return a?l.jsx("div",{className:"p-6 text-center",children:"Loading role management interface..."}):u?l.jsxs("div",{className:"p-6 text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error: ",u]}),l.jsx("button",{className:"btn-primary",onClick:Q,children:"Retry"})]}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Role Management"}),l.jsx("button",{className:"btn-primary",onClick:()=>m(!0),children:"Create Role"})]}),l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permissions"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No roles found"})}):t.map(O=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.name||O.role_name}),O.is_system_role&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"System"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:O.description||"No description"}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.jsx("div",{className:"max-w-xs truncate",children:le(O.permissions)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[l.jsx("button",{className:"btn-secondary text-xs px-3 py-1",onClick:()=>{N(O),ue(O),y(!0)},children:"Edit"}),l.jsx("button",{className:`text-xs px-3 py-1 ${O.is_system_role?"bg-gray-300 text-gray-500 cursor-not-allowed":"btn-danger"}`,onClick:()=>fe(O.id||O.role_id,O.name||O.role_name,O.is_system_role),disabled:O.is_system_role,title:O.is_system_role?"System roles cannot be deleted":"Delete this role",children:"Delete"})]})]},O.id||O.role_id))})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Role"}),l.jsx("button",{className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",onClick:()=>m(!1),children:""})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name *"}),l.jsx("input",{type:"text",className:"input-field",value:j,onChange:O=>_(O.target.value),placeholder:"Enter role name"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{className:"input-field",value:w,onChange:O=>P(O.target.value),placeholder:"Enter role description",rows:"3"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-4",children:n.map(O=>l.jsxs("div",{className:"mb-6 last:mb-0",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-base border-b pb-2",children:O.name}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O.permissions&&O.permissions.map(K=>l.jsxs("label",{className:"flex items-start space-x-3 p-2 hover:bg-gray-50 rounded",children:[l.jsx("input",{type:"checkbox",className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:k[O.id]?.includes(K.key)||!1,onChange:$=>Y(O.id,K.key,$.target.checked)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:K.name}),K.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:K.description})]})]},`${O.id}-${K.key}`))})]},O.id))})]})]}),l.jsxs("div",{className:"flex items-center justify-end p-4 border-t space-x-2",children:[l.jsx("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Cancel"}),l.jsx("button",{className:"btn-primary",onClick:ne,children:"Create Role"})]})]})}),g&&b&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit Role: ",b.name||b.role_name,b.is_system_role&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"System Role"})]}),l.jsx("button",{className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",onClick:()=>{y(!1),N(null),F(""),z(""),H({})},children:""})]}),l.jsxs("div",{className:"p-6",children:[b.is_system_role&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-4",children:l.jsxs("p",{className:"text-blue-800 text-sm",children:[l.jsx("strong",{children:"System Role:"})," This role cannot be modified as it is required for system functionality. You can view the role details but cannot make changes."]})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name *"}),l.jsx("input",{type:"text",className:`input-field ${b.is_system_role?"bg-gray-100 cursor-not-allowed":""}`,value:M,onChange:O=>F(O.target.value),placeholder:"Enter role name",disabled:b.is_system_role,readOnly:b.is_system_role})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{className:`input-field ${b.is_system_role?"bg-gray-100 cursor-not-allowed":""}`,value:V,onChange:O=>z(O.target.value),placeholder:"Enter role description",rows:"3",disabled:b.is_system_role,readOnly:b.is_system_role})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-4",children:n.map(O=>l.jsxs("div",{className:"mb-6 last:mb-0",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-base border-b pb-2",children:O.name}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O.permissions&&O.permissions.map(K=>l.jsxs("label",{className:`flex items-start space-x-3 p-2 hover:bg-gray-50 rounded ${b.is_system_role?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx("input",{type:"checkbox",className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:D[O.id]?.includes(K.key)||!1,onChange:$=>se(O.id,K.key,$.target.checked),disabled:b.is_system_role}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:K.name}),K.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:K.description})]})]},`edit-${O.id}-${K.key}`))})]},O.id))})]})]}),l.jsxs("div",{className:"flex items-center justify-end p-4 border-t space-x-2",children:[l.jsx("button",{className:"btn-secondary",onClick:()=>{y(!1),N(null),F(""),z(""),H({})},children:"Cancel"}),!b.is_system_role&&l.jsx("button",{className:"btn-primary",onClick:ae,children:"Update Role"})]})]})})]})},Dw=({user:t,onManageRoles:e,loading:n})=>l.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium text-sm",children:t.username?.[0]?.toUpperCase()||"U"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:"font-medium text-gray-900",children:t.username}),l.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})]}),l.jsxs("button",{onClick:()=>e(t),disabled:n,className:"btn-secondary text-sm",children:[l.jsx(vi,{className:"h-4 w-4 mr-1"}),"Manage Roles"]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Current Roles:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.roles?.length>0?t.roles.map(r=>l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[r.name," ",l.jsxs("span",{className:"ml-1 text-xs",children:["L",r.level]})]},r.id)):l.jsx("span",{className:"text-xs text-gray-400",children:"No roles assigned"})})]})]}),Aw=({user:t,isOpen:e,onClose:n,onSave:r,allRoles:a,loading:o})=>{const[u,d]=S.useState([]),[h,m]=S.useState([]),[g,y]=S.useState(!1);S.useEffect(()=>{t&&e&&b()},[t,e]);const b=async()=>{if(t?.id)try{y(!0);const w=(await ln.getUserRoles(t.id)).data||[];m(w),d(w.map(P=>P.id))}catch(_){console.error("Error fetching user roles:",_)}finally{y(!1)}},N=_=>{d(w=>w.includes(_)?w.filter(P=>P!==_):[...w,_])},j=async()=>{if(t?.id)try{y(!0);const _=h.map(k=>k.id),w=u.filter(k=>!_.includes(k)),P=_.filter(k=>!u.includes(k));for(const k of w)await ln.assignUserToRole(t.id,k);for(const k of P)await ln.removeUserFromRole(t.id,k);r()}catch(_){console.error("Error updating user roles:",_)}finally{y(!1)}};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Manage Roles for ",t?.username]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Nn,{className:"h-5 w-5"})})]}),g?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(uu,{className:"h-6 w-6 animate-spin text-gray-400"})}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Select roles for this user:"}),a.map(_=>l.jsxs("label",{className:"flex items-center p-3 border rounded-md hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.includes(_.id),onChange:()=>N(_.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900",children:_.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Level ",_.level||1]}),_.description&&l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:_.description})]})]},_.id))]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{onClick:j,disabled:g,className:"btn-primary",children:[g&&l.jsx(uu,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})}):null},Ow=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[a,o]=S.useState(!0),[u,d]=S.useState(""),[h,m]=S.useState(""),[g,y]=S.useState(null),[b,N]=S.useState(!1);S.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0),d("");const R=(await ln.getAllRoles()).data||[];r(R);const M=await Vn.getAll({limit:100});let F=[];M.success&&M.data?.users?F=M.data.users:(console.warn("Failed to load users, using default data"),F=[{id:1,username:"admin"},{id:2,username:"manager"},{id:3,username:"user1"}]);const V=await Promise.all(F.map(async z=>{try{const D=await ln.getUserRoles(z.id);return{...z,roles:D.data||[]}}catch(D){return console.warn(`Error loading roles for user ${z.id}:`,D),{...z,roles:[]}}}));e(V)}catch(k){d(k.response?.data?.message||"Failed to load data"),console.error("Error loading data:",k)}finally{o(!1)}},_=S.useMemo(()=>t.filter(k=>k.username.toLowerCase().includes(h.toLowerCase())),[t,h]),w=k=>{y(k),N(!0)},P=()=>{N(!1),y(null),j()};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(hu,{className:"h-7 w-7 text-primary-500 mr-2"}),l.jsx("h1",{className:"text-2xl font-bold",children:"User Role Management"})]})}),u&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:u}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Users & Their Roles"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:h,onChange:k=>m(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[_.length," users"]})]})]}),a?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(uu,{className:"h-8 w-8 animate-spin text-gray-400"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading users..."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.length===0?l.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:h?"No users found matching your search.":"No users available."}):_.map(k=>l.jsx(Dw,{user:k,onManageRoles:w,loading:a},k.id))})]}),l.jsx(Aw,{user:g,isOpen:b,onClose:()=>N(!1),onSave:P,allRoles:n,loading:a})]})},Fw=({active:t,onClick:e,icon:n,children:r})=>l.jsxs("button",{onClick:e,className:`flex items-center px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-primary-500 text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[l.jsx(n,{className:"h-4 w-4 mr-2"}),r]}),Lw=()=>{const[t,e]=S.useState("roles"),n=[{id:"roles",label:"Role Management",icon:vi},{id:"user-roles",label:"User Roles",icon:Eo}],r=()=>{switch(t){case"roles":return l.jsx(Mm,{});case"user-roles":return l.jsx(Ow,{});default:return l.jsx(Mm,{})}};return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(vi,{className:"h-8 w-8 text-primary-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Role & Permission Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage roles, permissions, and user access"})]})]})}),l.jsx("div",{className:"flex space-x-2 mt-4",children:n.map(a=>l.jsx(Fw,{active:t===a.id,onClick:()=>e(a.id),icon:a.icon,children:a.label},a.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:r()})]})},Ha={getAll:async(t={})=>{try{const e=Object.entries(t).filter(([r,a])=>a!=null&&a!=="").reduce((r,[a,o])=>({...r,[a]:o}),{});console.log("API getAll params:",e);const n=await re.get("/campaign-types",{params:e});return console.log("API getAll response:",n.data),n.data}catch(e){throw console.error("API getAll error:",e.response?.data||e.message),e}},getById:async t=>{try{const e=await re.get(`/campaign-types/${t}`);return console.log("API getById response:",e.data),e.data}catch(e){throw console.error("API getById error:",e.response?.data||e.message),e}},create:async t=>{try{console.log("API create data:",t);const e=await re.post("/campaign-types",t);return console.log("API create response:",e.data),e.data}catch(e){throw console.error("API create error:",e.response?.data||e.message),e}},update:async(t,e)=>{try{console.log("API update id:",t,"data:",e);const n=await re.put(`/campaign-types/${t}`,e);return console.log("API update response:",n.data),n.data}catch(n){throw console.error("API update error:",n.response?.data||n.message),n}},delete:async t=>{try{console.log("API delete id:",t);const e=await re.delete(`/campaign-types/${t}`);return console.log("API delete response:",e.data),e.data}catch(e){throw console.error("API delete error:",e.response?.data||e.message),e}}},Iw=({isOpen:t,onClose:e,onSubmit:n,editData:r=null,isLoading:a=!1})=>{const[o,u]=S.useState({type_name:"",description:"",is_active:!0}),[d,h]=S.useState({});S.useEffect(()=>{u(r?{type_name:r.type_name||"",description:r.description||"",is_active:r.is_active!==void 0?r.is_active:!0}:{type_name:"",description:"",is_active:!0}),h({})},[r,t]);const m=()=>{const b={};return o.type_name.trim()?o.type_name.length>100&&(b.type_name="Campaign type name must be less than 100 characters"):b.type_name="Campaign type name is required",o.description&&o.description.length>1e3&&(b.description="Description must be less than 1000 characters"),h(b),Object.keys(b).length===0},g=b=>{const{name:N,value:j,type:_,checked:w}=b.target;u(P=>({...P,[N]:_==="checkbox"?w:j})),d[N]&&h(P=>({...P,[N]:""}))},y=async b=>{if(b.preventDefault(),!!m())try{await n(o)}catch(N){console.error("Form submission error:",N)}};return t?l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?"Edit Campaign Type":"Create Campaign Type"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"type_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Campaign Type Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"type_name",name:"type_name",value:o.type_name,onChange:g,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${d.type_name?"border-red-500":""}`,placeholder:"Enter campaign type name",maxLength:100,disabled:a}),d.type_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.type_name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:g,rows:3,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${d.description?"border-red-500":""}`,placeholder:"Enter description (optional)",maxLength:1e3,disabled:a}),d.description&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[o.description.length,"/1000 characters"]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:o.is_active,onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:a}),l.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:a,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:a,children:a?"Saving...":r?"Update":"Create"})]})]})]})}):null},zw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[a,o]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState("all"),[g,y]=S.useState("created_at"),[b,N]=S.useState("desc"),[j,_]=S.useState(1),[w]=S.useState(10),[P,k]=S.useState(!1),[R,M]=S.useState(null),[F,V]=S.useState(!1),[z,D]=S.useState(!1),[H,Q]=S.useState(null),[ne,Y]=S.useState(!1),se=async()=>{try{r(!0),o(null);const L={search:u,active:h==="all"?void 0:h==="active",sort:g,order:b,page:j,limit:w},G=await Ha.getAll(L);G.success?e(G.data||[]):o(G.message||"Failed to fetch campaign types")}catch(L){o(L.response?.data?.message||"Failed to fetch campaign types"),console.error("Error fetching campaign types:",L)}finally{r(!1)}};S.useEffect(()=>{se()},[u,h,g,b,j]);const ue=async L=>{try{V(!0),o(null),console.log("Submitting form data:",L),console.log("Editing item:",R);let G;if(R?(console.log("Updating campaign type with ID:",R.id),G=await Ha.update(R.id,L)):(console.log("Creating new campaign type"),G=await Ha.create(L)),console.log("API Response:",G),G.success||G.data)k(!1),M(null),se(),console.log(R?"Campaign type updated successfully":"Campaign type created successfully");else throw new Error(G.message||"Operation failed")}catch(G){console.error("Form submission error:",G),console.error("Error response data:",G.response?.data),console.error("Error status:",G.response?.status);const pe=G.response?.data?.message||G.response?.data?.error||G.message||"Operation failed";o(pe)}finally{V(!1)}},ae=async L=>{try{Y(!0);const G=await Ha.delete(L);if(G.success)D(!1),Q(null),se(),console.log("Campaign type deleted successfully");else throw new Error(G.message||"Delete failed")}catch(G){console.error("Delete error:",G),o(G.response?.data?.message||"Delete failed")}finally{Y(!1)}},fe=L=>{d(L.target.value),_(1)},le=L=>{m(L),_(1)},O=L=>{g===L?N(b==="asc"?"desc":"asc"):(y(L),N("asc")),_(1)},K=L=>{M(L),k(!0)},$=()=>{M(null),k(!0)},E=L=>{Q(L),D(!0)},q=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaign Types"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your campaign types"})]}),l.jsxs("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Add Campaign Type"]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx("input",{type:"text",placeholder:"Search campaign types...",value:u,onChange:fe,className:"pl-10 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2"})]}),l.jsx("div",{children:l.jsxs("select",{value:h,onChange:L=>le(L.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active Only"}),l.jsx("option",{value:"inactive",children:"Inactive Only"})]})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:se,disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[l.jsx(jn,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})})]})})}),a&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:a})]})]})}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jn,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Loading campaign types..."})]}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx($t,{className:"h-12 w-12 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaign types found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first campaign type."}),l.jsxs("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Add Campaign Type"]})]}):l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("type_name"),children:["Name",g==="type_name"&&l.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),l.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("is_active"),children:["Status",g==="is_active"&&l.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),l.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O("created_at"),children:["Created",g==="created_at"&&l.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(L=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.type_name})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"text-sm text-gray-700 max-w-xs truncate",children:L.description||"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.is_active?l.jsxs(l.Fragment,{children:[l.jsx(Ou,{className:"h-3 w-3 mr-1"}),"Active"]}):l.jsxs(l.Fragment,{children:[l.jsx(Lu,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:q(L.created_at)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>K(L),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit",children:l.jsx(Ci,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>E(L),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete",children:l.jsx(mr,{className:"h-4 w-4"})})]})})]},L.id))})]})}),l.jsx(Iw,{isOpen:P,onClose:()=>{k(!1),M(null),o(null)},onSubmit:ue,editData:R,isLoading:F}),z&&H&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3 text-center",children:[l.jsx(Et,{className:"mx-auto h-12 w-12 text-red-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Campaign Type"}),l.jsx("div",{className:"mt-2 px-7 py-3",children:l.jsxs("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete "',H.type_name,'"? This action cannot be undone.']})}),l.jsxs("div",{className:"flex justify-center space-x-3 mt-4",children:[l.jsx("button",{onClick:()=>{D(!1),Q(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:ne,children:"Cancel"}),l.jsx("button",{onClick:()=>ae(H.id),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",disabled:ne,children:ne?"Deleting...":"Delete"})]})]})})})]})},er={getAll:async(t={})=>{try{return(await re.get("/campaign-data",{params:t})).data}catch(e){throw console.error("API getAll error:",e.response?.data||e.message),e}},getById:async t=>{try{return(await re.get(`/campaign-data/${t}`)).data}catch(e){throw console.error("API getById error:",e.response?.data||e.message),e}},create:async t=>{try{return(await re.post("/campaign-data",t)).data}catch(e){throw console.error("API create error:",e.response?.data||e.message),e}},update:async(t,e)=>{try{return(await re.put(`/campaign-data/${t}`,e)).data}catch(n){throw console.error("API update error:",n.response?.data||n.message),n}},delete:async t=>{try{return(await re.delete(`/campaign-data/${t}`)).data}catch(e){throw console.error("API delete error:",e.response?.data||e.message),e}},getCampaignsForDropdown:async()=>{try{return(await re.get("/campaign-data/campaigns")).data}catch(t){throw console.error("API getCampaignsForDropdown error:",t.response?.data||t.message),t}},getCardsForDropdown:async()=>{try{return(await re.get("/campaign-data/cards")).data}catch(t){throw console.error("API getCardsForDropdown error:",t.response?.data||t.message),t}}},Bw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[a,o]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState(1),[g]=S.useState(10),[y,b]=S.useState(!1),[N,j]=S.useState(null),[_,w]=S.useState(!1),[P,k]=S.useState(!1),[R,M]=S.useState(null),[F,V]=S.useState(!1),[z,D]=S.useState([]),[H,Q]=S.useState([]),[ne,Y]=S.useState(!1),[se,ue]=S.useState({campaign_id:"",facebook_result:"",zoho_result:"",spent:"",data_date:"",card_id:""}),ae=async()=>{try{r(!0),o(null);const ee={search:u,page:h,limit:g},ge=await er.getAll(ee);ge.success?e(ge.data||[]):o(ge.message||"Failed to fetch campaign data")}catch(ee){o(ee.response?.data?.message||"Failed to fetch campaign data"),console.error("Error fetching campaign data:",ee)}finally{r(!1)}},fe=async()=>{try{Y(!0);const[ee,ge]=await Promise.all([er.getCampaignsForDropdown(),er.getCardsForDropdown()]);ee.success&&D(ee.data||[]),ge.success&&Q(ge.data||[])}catch(ee){console.error("Error fetching dropdown data:",ee),o("Failed to load dropdown data")}finally{Y(!1)}};S.useEffect(()=>{ae(),fe()},[u,h]);const le=ee=>{const{name:ge,value:Re}=ee.target;ue(me=>({...me,[ge]:Re}))},O=async ee=>{ee.preventDefault();try{if(w(!0),o(null),!se.campaign_id||!se.card_id||!se.data_date){o("Campaign, Card, and Date are required fields");return}const ge={campaign_id:parseInt(se.campaign_id),facebook_result:parseInt(se.facebook_result)||0,zoho_result:parseInt(se.zoho_result)||0,spent:parseFloat(se.spent)||0,data_date:se.data_date,card_id:parseInt(se.card_id)};let Re;if(N?Re=await er.update(N.id,ge):Re=await er.create(ge),Re.success||Re.data)b(!1),j(null),ue({campaign_id:"",facebook_result:"",zoho_result:"",spent:"",data_date:"",card_id:""}),ae();else throw new Error(Re.message||"Operation failed")}catch(ge){console.error("Form submission error:",ge);const Re=ge.response?.data?.message||ge.response?.data?.error||ge.message||"Operation failed";o(Re)}finally{w(!1)}},K=async ee=>{try{V(!0);const ge=await er.delete(ee);if(ge.success)k(!1),M(null),ae();else throw new Error(ge.message||"Delete failed")}catch(ge){console.error("Delete error:",ge),o(ge.response?.data?.message||"Delete failed")}finally{V(!1)}},$=ee=>{d(ee.target.value),m(1)},E=ee=>{o(null),j(ee),ue({campaign_id:ee.campaign_id?.toString()||"",facebook_result:ee.facebook_result?.toString()||"",zoho_result:ee.zoho_result?.toString()||"",spent:ee.spent?.toString()||"",data_date:ee.data_date?ee.data_date.split("T")[0]:"",card_id:ee.card_id?.toString()||""}),fe(),b(!0)},q=()=>{o(null),j(null),ue({campaign_id:"",facebook_result:"",zoho_result:"",spent:"",data_date:"",card_id:""}),fe(),b(!0)},L=ee=>{M(ee),k(!0)},G=ee=>ee?new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",pe=ee=>ee?`$${parseFloat(ee).toFixed(2)}`:"$0.00",xe=ee=>{const ge=z.find(Re=>Re.id===ee);return ge?ge.name:"-"},Ce=ee=>{const ge=H.find(Re=>Re.id===ee);return ge?ge.card_name:"-"};return l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaign Data"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your campaign performance data"})]}),l.jsxs("button",{onClick:q,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Add Campaign Data"]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx("input",{type:"text",placeholder:"Search campaign data...",value:u,onChange:$,className:"pl-10 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:ae,disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[l.jsx(jn,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})})]})})}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(jn,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Loading campaign data..."})]}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(ir,{className:"h-12 w-12 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaign data found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first campaign data entry."}),l.jsxs("button",{onClick:q,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Add Campaign Data"]})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facebook Result"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zoho Result"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spent"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Card"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(ee=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.campaign_name||xe(ee.campaign_id)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:ee.facebook_result||0})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:ee.zoho_result||0})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-green-600",children:pe(ee.spent)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:G(ee.data_date)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-700",children:ee.card_display_name||ee.card_name||Ce(ee.card_id)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>E(ee),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit",children:l.jsx(Ci,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>L(ee),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete",children:l.jsx(mr,{className:"h-4 w-4"})})]})})]},ee.id))})]})})}),y&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border max-w-md shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 text-center mb-4",children:N?"Edit Campaign Data":"Add Campaign Data"}),a&&y&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-4 w-4 text-red-400"}),l.jsx("div",{className:"ml-2",children:l.jsx("p",{className:"text-sm text-red-700",children:a})})]})}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"campaign_id",className:"block text-sm font-medium text-gray-700",children:"Campaign *"}),l.jsxs("select",{id:"campaign_id",name:"campaign_id",value:se.campaign_id,onChange:le,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3",children:[l.jsx("option",{value:"",children:"Select Campaign"}),z.map(ee=>l.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"facebook_result",className:"block text-sm font-medium text-gray-700",children:"Facebook Result"}),l.jsx("input",{type:"number",id:"facebook_result",name:"facebook_result",value:se.facebook_result,onChange:le,min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"zoho_result",className:"block text-sm font-medium text-gray-700",children:"Zoho Result"}),l.jsx("input",{type:"number",id:"zoho_result",name:"zoho_result",value:se.zoho_result,onChange:le,min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"spent",className:"block text-sm font-medium text-gray-700",children:"Spent ($)"}),l.jsx("input",{type:"number",step:"0.01",id:"spent",name:"spent",value:se.spent,onChange:le,min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"data_date",className:"block text-sm font-medium text-gray-700",children:"Date *"}),l.jsx("input",{type:"date",id:"data_date",name:"data_date",value:se.data_date,onChange:le,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"card_id",className:"block text-sm font-medium text-gray-700",children:"Card *"}),l.jsxs("select",{id:"card_id",name:"card_id",value:se.card_id,onChange:le,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm py-2 px-3",children:[l.jsx("option",{value:"",children:"Select Card"}),H.map(ee=>l.jsx("option",{value:ee.id,children:ee.card_name},ee.id))]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{b(!1),j(null),o(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:_,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:_||ne,children:_?"Saving...":N?"Update":"Create"})]})]})]})})}),P&&R&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3 text-center",children:[l.jsx(Et,{className:"mx-auto h-12 w-12 text-red-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Campaign Data"}),l.jsx("div",{className:"mt-2 px-7 py-3",children:l.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this campaign data entry? This action cannot be undone."})}),l.jsxs("div",{className:"flex justify-center space-x-3 mt-4",children:[l.jsx("button",{onClick:()=>{k(!1),M(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:F,children:"Cancel"}),l.jsx("button",{onClick:()=>K(R.id),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",disabled:F,children:F?"Deleting...":"Delete"})]})]})})})]})},vn=We.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});vn.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));vn.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const vs={getCampaigns:async(t={})=>{const n=(await vn.get("/campaigns",{params:t})).data;return{success:n.success,message:n.message,data:n.data?.campaigns||n.data||[]}},getCampaign:async t=>(await vn.get(`/campaigns/${t}`)).data,createCampaign:async t=>(await vn.post("/campaigns",t)).data,updateCampaign:async(t,e)=>(await vn.put(`/campaigns/${t}`,e)).data,deleteCampaign:async t=>(await vn.delete(`/campaigns/${t}`)).data,getCampaignTypes:async()=>(await vn.get("/campaign-types")).data,toggleCampaignStatus:async t=>(await vn.patch(`/campaigns/${t}/toggle-status`)).data},Uw=({campaign:t=null,isOpen:e,onClose:n,onSave:r})=>{const[a,o]=S.useState({name:"",persona:"",gender:[],age:"",location:"",creatives:"image",campaign_type_id:"",brand:"",is_enabled:!0}),[u,d]=S.useState([]),[h,m]=S.useState(!1),[g,y]=S.useState(""),[b,N]=S.useState({}),j=["Young Adults (18-25)","Professionals (26-35)","Parents (30-45)","Seniors (45+)","Students","Entrepreneurs","Homemakers","Tech Enthusiasts"],_=[{id:"male",label:"Male"},{id:"female",label:"Female"},{id:"other",label:"Other"}],w=[{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"carousel",label:"Carousel"},{value:"collection",label:"Collection"}];S.useEffect(()=>{e&&(P(),o(t?{name:t.name||"",persona:t.persona||"",gender:Array.isArray(t.gender)?t.gender:t.gender?JSON.parse(t.gender):[],age:t.age||"",location:t.location||"",creatives:t.creatives||"image",campaign_type_id:t.campaign_type_id||"",brand:t.brand||"",is_enabled:t.is_enabled!==void 0?!!t.is_enabled:!0}:{name:"",persona:"",gender:[],age:"",location:"",creatives:"image",campaign_type_id:"",brand:"",is_enabled:!0}),y(""),N({}))},[e,t]);const P=async()=>{try{const z=await vs.getCampaignTypes();z.success&&d(z.data||[])}catch(z){console.error("Error loading campaign types:",z)}},k=z=>{const{name:D,value:H,type:Q,checked:ne}=z.target;o(Y=>({...Y,[D]:Q==="checkbox"?ne:H})),b[D]&&N(Y=>({...Y,[D]:null}))},R=(z,D)=>{o(H=>({...H,[z]:H[z].includes(D)?H[z].filter(Q=>Q!==D):[...H[z],D]}))},M=z=>{const D=z.target.value;o(H=>({...H,location:D}))},F=()=>{const z={};return a.name.trim()||(z.name="Campaign name is required"),a.campaign_type_id||(z.campaign_type_id="Campaign type is required"),a.persona.trim()||(z.persona="Persona is required"),a.gender.length===0&&(z.gender="At least one gender must be selected"),a.location.trim()||(z.location="Location is required"),a.age&&(isNaN(a.age)||a.age<1||a.age>120)&&(z.age="Please enter a valid age (1-120)"),N(z),Object.keys(z).length===0},V=async z=>{if(z.preventDefault(),!!F()){m(!0),y("");try{const D={...a,persona:a.persona.trim(),gender:JSON.stringify(a.gender),age:a.age?parseInt(a.age):null,campaign_type_id:parseInt(a.campaign_type_id)};let H;t?H=await vs.updateCampaign(t.id,D):H=await vs.createCampaign(D),H.success?(r(H.data),n()):y(H.message||"Failed to save campaign")}catch(D){console.error("Error saving campaign:",D),y(D.response?.data?.message||"Failed to save campaign. Please try again.")}finally{m(!1)}}};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Campaign":"Create New Campaign"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),l.jsxs("form",{onSubmit:V,className:"p-6 space-y-6",children:[g&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:g})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name *"}),l.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:k,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.name?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Enter campaign name"}),b.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),l.jsx("input",{type:"text",id:"brand",name:"brand",value:a.brand,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter brand name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"campaign_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Type *"}),l.jsxs("select",{id:"campaign_type_id",name:"campaign_type_id",value:a.campaign_type_id,onChange:k,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.campaign_type_id?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,children:[l.jsx("option",{value:"",children:"Select Campaign Type"}),u.map(z=>l.jsx("option",{value:z.id,children:z.type_name},z.id))]}),b.campaign_type_id&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.campaign_type_id})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Age"}),l.jsx("input",{type:"number",id:"age",name:"age",value:a.age,onChange:k,min:"1",max:"120",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.age?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Enter target age"}),b.age&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.age})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"creatives",className:"block text-sm font-medium text-gray-700 mb-1",children:"Creatives"}),l.jsx("select",{id:"creatives",name:"creatives",value:a.creatives,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:w.map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"persona",className:"block text-sm font-medium text-gray-700 mb-1",children:["Persona * ",l.jsx("span",{className:"text-sm text-gray-500",children:"(separate multiple values with commas)"})]}),l.jsx("input",{type:"text",id:"persona",name:"persona",value:a.persona,onChange:k,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.persona?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Young Adults (18-25), Professionals (26-35), Parents (30-45)..."}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[l.jsx("strong",{children:"Suggested values:"})," ",j.join(", ")]}),b.persona&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.persona})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),l.jsx("div",{className:"flex space-x-6",children:_.map(z=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:a.gender.includes(z.id),onChange:()=>R("gender",z.id),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:z.label})]},z.id))}),b.gender&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.gender})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locations * ",l.jsx("span",{className:"text-sm text-gray-500",children:"(separate multiple locations with commas)"})]}),l.jsx("input",{type:"text",id:"location",name:"location",value:a.location,onChange:M,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${b.location?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-purple-500"}`,placeholder:"Delhi, Mumbai, Bangalore, Chennai..."}),b.location&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.location})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{htmlFor:"is_enabled",className:"block text-sm font-medium text-gray-700",children:"Campaign Status"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:`text-sm ${a.is_enabled?"text-gray-500":"text-gray-900 font-medium"}`,children:"Disabled"}),l.jsx("button",{type:"button",onClick:()=>o(z=>({...z,is_enabled:!z.is_enabled})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${a.is_enabled?"bg-purple-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.is_enabled?"translate-x-6":"translate-x-1"}`})}),l.jsx("span",{className:`text-sm ${a.is_enabled?"text-purple-600 font-medium":"text-gray-500"}`,children:"Enabled"})]})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",disabled:h,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-md shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:h?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Saving..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Vb,{className:"h-4 w-4"}),l.jsx("span",{children:t?"Update Campaign":"Create Campaign"})]})})]})]})]})}):null},$w=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[a,o]=S.useState(!0),[u,d]=S.useState(""),[h,m]=S.useState(""),[g,y]=S.useState(""),[b,N]=S.useState(""),[j,_]=S.useState({delete:null,toggle:null}),[w,P]=S.useState(!1),[k,R]=S.useState(null),[M,F]=S.useState(null),[V,z]=S.useState(null),[D,H]=S.useState(null);S.useEffect(()=>{Q(),ne()},[]);const Q=async()=>{try{o(!0),d("");const L=await vs.getCampaigns();L.success?e(L.data||[]):d(L.message||"Failed to load campaigns")}catch(L){console.error("Error loading campaigns:",L),d("Failed to load campaigns. Please try again.")}finally{o(!1)}},ne=async()=>{try{const L=await vs.getCampaignTypes();L.success&&r(L.data||[])}catch(L){console.error("Error loading campaign types:",L)}},Y=()=>{R(null),P(!0)},se=L=>{R(L),P(!0),H(null)},ue=L=>{F(L),H(null)},ae=async()=>{try{const L=await vs.deleteCampaign(M.id);L.success?(e(G=>G.filter(pe=>pe.id!==M.id)),F(null)):d(L.message||"Failed to delete campaign")}catch(L){console.error("Error deleting campaign:",L),d("Failed to delete campaign. Please try again.")}},fe=async L=>{try{const G=await vs.toggleCampaignStatus(L.id);G.success?e(pe=>pe.map(xe=>xe.id===L.id?{...xe,is_enabled:!xe.is_enabled}:xe)):d(G.message||"Failed to update campaign status")}catch(G){console.error("Error toggling campaign status:",G),d("Failed to update campaign status. Please try again.")}H(null)},le=L=>{e(k?G=>G.map(pe=>pe.id===L.id?L:pe):G=>[L,...G])},O=L=>{z(L),H(null)},K=t.filter(L=>{const G=L.name.toLowerCase().includes(h.toLowerCase())||L.brand&&L.brand.toLowerCase().includes(h.toLowerCase()),pe=!g||L.campaign_type_id===parseInt(g),xe=!b||b==="enabled"&&L.is_enabled||b==="disabled"&&!L.is_enabled;return G&&pe&&xe}),$=L=>{const G=n.find(pe=>pe.id===L);return G?G.type_name:"Unknown"},E=L=>{if(!L)return[];if(Array.isArray(L))return L;try{return JSON.parse(L)}catch{return[]}},q=L=>L||"N/A";return a?l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-6"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(L=>l.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},L))})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[D&&l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>H(null)}),l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaigns"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your advertising campaigns"})]}),l.jsxs("button",{onClick:Y,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[l.jsx($t,{className:"h-5 w-5"}),l.jsx("span",{children:"New Campaign"})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search campaigns...",value:h,onChange:L=>m(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsx("div",{children:l.jsxs("select",{value:g,onChange:L=>y(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"",children:"All Campaign Types"}),n.map(L=>l.jsx("option",{value:L.id,children:L.type_name},L.id))]})}),l.jsx("div",{children:l.jsxs("select",{value:b,onChange:L=>N(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"enabled",children:"Enabled"}),l.jsx("option",{value:"disabled",children:"Disabled"})]})}),l.jsx("div",{children:l.jsx("button",{onClick:()=>{m(""),y(""),N("")},className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Clear Filters"})})]})}),u&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsxs("div",{className:"flex",children:[l.jsx(gm,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm text-red-800",children:u}),l.jsx("button",{onClick:()=>d(""),className:"mt-2 text-sm text-red-600 underline hover:text-red-800",children:"Dismiss"})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:K.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(Fu,{className:"h-12 w-12 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaigns found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Get started by creating your first campaign.":"Try adjusting your search or filter criteria."}),t.length===0&&l.jsx("button",{onClick:Y,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Create Campaign"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Targeting"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creative"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(L=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),L.brand&&l.jsx("div",{className:"text-sm text-gray-500",children:L.brand})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"text-sm text-gray-900",children:$(L.campaign_type_id)})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"text-sm text-gray-900",children:[L.age&&l.jsxs("div",{children:["Age: ",L.age]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Gender: ",E(L.gender).join(", ")||"N/A"]}),l.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:L.location||"N/A"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:L.creatives})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.is_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.is_enabled?"Enabled":"Disabled"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(L.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"relative inline-block text-left",children:[l.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),H(D===L.id?null:L.id)},className:"text-gray-400 hover:text-gray-600 p-1 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500","aria-expanded":D===L.id,"aria-haspopup":"true",children:l.jsx(Ub,{className:"h-5 w-5"})}),D===L.id&&l.jsx("div",{className:"absolute right-0 z-50 mt-2 w-48 origin-top-right bg-white border border-gray-200 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical",children:l.jsxs("div",{className:"py-1",role:"none",children:[l.jsxs("button",{type:"button",onClick:G=>{G.stopPropagation(),O(L)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[l.jsx(lg,{className:"h-4 w-4 mr-3"}),"View Details"]}),l.jsxs("button",{type:"button",onClick:G=>{G.stopPropagation(),se(L)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[l.jsx($b,{className:"h-4 w-4 mr-3"}),"Edit Campaign"]}),l.jsxs("button",{type:"button",onClick:G=>{G.stopPropagation(),fe(L)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[l.jsx("div",{className:`h-4 w-4 mr-3 rounded-full ${L.is_enabled?"bg-red-500":"bg-green-500"}`}),L.is_enabled?"Disable":"Enable"]}),l.jsx("div",{className:"border-t border-gray-100 my-1"}),l.jsxs("button",{type:"button",onClick:G=>{G.stopPropagation(),ue(L)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 focus:outline-none focus:bg-red-50",role:"menuitem",children:[l.jsx(mr,{className:"h-4 w-4 mr-3"}),"Delete"]})]})})]})})]},L.id))})]})})}),K.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:["Showing ",K.length," of ",t.length," campaigns"]})]}),l.jsx(Uw,{campaign:k,isOpen:w,onClose:()=>{P(!1),R(null)},onSave:le}),V&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Campaign Details"}),l.jsx("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Campaign Name"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.name})]}),V.brand&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Brand"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.brand})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Campaign Type"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:$(V.campaign_type_id)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Persona"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q(V.persona)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Gender"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E(V.gender).join(", ")||"N/A"})]}),V.age&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Target Age"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.age})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Locations"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:V.location||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Creatives"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:V.creatives})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),l.jsx("p",{className:`mt-1 text-sm font-medium ${V.is_enabled?"text-green-600":"text-red-600"}`,children:V.is_enabled?"Enabled":"Disabled"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(V.created_at).toLocaleString()})]})]})]})}),M&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(gm,{className:"h-6 w-6 text-red-600 mr-3"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Campaign"})]}),l.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:['Are you sure you want to delete "',M.name,'"? This action cannot be undone.']}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>F(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:ae,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})},tr="/cards",rr={getAll:async(t={})=>{try{return(await re.get(tr,{params:t})).data}catch(e){throw console.error("API get all cards error:",e.response?.data||e),e}},getById:async t=>{try{return(await re.get(`${tr}/${t}`)).data}catch(e){throw console.error("API get card error:",e.response?.data||e),e}},create:async t=>{try{return(await re.post(tr,t)).data}catch(e){throw console.error("API create card error:",e.response?.data||e),e}},update:async(t,e)=>{try{return(await re.put(`${tr}/${t}`,e)).data}catch(n){throw console.error("API update card error:",n.response?.data||n),n}},addBalance:async(t,e,n="")=>{try{return(await re.post(`${tr}/${t}/add-balance`,{amount:Number(e),description:n||""})).data}catch(r){throw console.error("API add balance error:",r.response?.data||r),r}},delete:async t=>{try{return(await re.delete(`${tr}/${t}`)).data}catch(e){throw console.error("API delete card error:",e.response?.data||e),e}}},Hw=({isOpen:t,onClose:e,onSubmit:n,editData:r=null,isLoading:a=!1})=>{const[o,u]=S.useState(""),[d,h]=S.useState({card_name:"",card_number_last4:"",card_type:"",current_balance:"",is_active:!0}),[m,g]=S.useState({});S.useEffect(()=>{h(r?{card_name:r.card_name||"",card_number_last4:r.card_number_last4||"",card_type:r.card_type||"",current_balance:r.current_balance||"",is_active:r.is_active!==void 0?r.is_active:!0}:{card_name:"",card_number_last4:"",card_type:"",current_balance:"",is_active:!0}),g({})},[r,t]),S.useEffect(()=>{t&&u("")},[t]);const y=()=>{const j={};return d.card_name.trim()?d.card_name.length>100&&(j.card_name="Card name must be less than 100 characters"):j.card_name="Card name is required",d.card_number_last4.trim()?/^\d{4}$/.test(d.card_number_last4)||(j.card_number_last4="Must be exactly 4 digits"):j.card_number_last4="Last 4 digits are required",d.card_type||(j.card_type="Card type is required"),d.current_balance.toString().trim()?(isNaN(parseFloat(d.current_balance))||parseFloat(d.current_balance)<0)&&(j.current_balance="Current balance must be a valid positive number"):j.current_balance="Current balance is required",g(j),Object.keys(j).length===0},b=j=>{const{name:_,value:w,type:P,checked:k}=j.target;let R=P==="checkbox"?k:w;if(_==="card_number_last4"&&(R=w.replace(/\D/g,"").slice(0,4)),_==="current_balance")if(w===""||/^\d*\.?\d*$/.test(w))R=w;else return;h(M=>({...M,[_]:R})),m[_]&&g(M=>({...M,[_]:""}))},N=async j=>{if(j.preventDefault(),!!y())try{u("");const _={...d,current_balance:parseFloat(d.current_balance)};await n(_)}catch(_){console.error("Form submission error:",_),u(_?.response?.data?.message||_.message||"An error occurred")}};return t?l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?"Edit Card":"Add New Card"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-6 w-6"})})]}),o&&l.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:o}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"card_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Card Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"card_name",name:"card_name",value:d.card_name,onChange:b,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.card_name?"border-red-500":""}`,placeholder:"Enter card name",maxLength:100,disabled:a}),m.card_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.card_name})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"card_number_last4",className:"block text-sm font-medium text-gray-700 mb-1",children:["Last 4 Digits ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"card_number_last4",name:"card_number_last4",value:d.card_number_last4,onChange:b,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.card_number_last4?"border-red-500":""}`,placeholder:"1234",maxLength:4,disabled:a}),m.card_number_last4&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.card_number_last4})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"card_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Card Type ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"card_type",name:"card_type",value:d.card_type,onChange:b,className:`mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.card_type?"border-red-500":""}`,placeholder:"e.g., Visa, MasterCard, American Express",maxLength:50,disabled:a}),m.card_type&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.card_type})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"current_balance",className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Balance ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),l.jsx("input",{type:"text",id:"current_balance",name:"current_balance",value:d.current_balance,onChange:b,className:`mt-1 block w-full pl-7 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${m.current_balance?"border-red-500":""}`,placeholder:"0.00",disabled:a})]}),m.current_balance&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.current_balance})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:d.is_active,onChange:b,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:a}),l.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:a,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:a,children:a?"Saving...":r?"Update":"Create"})]})]})]})}):null},Ww=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[a,o]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState(1),[g]=S.useState(10),[y,b]=S.useState(!1),[N,j]=S.useState(null),[_,w]=S.useState(!1),[P,k]=S.useState(!1),[R,M]=S.useState(null),[F,V]=S.useState(!1),[z,D]=S.useState(!1),[H,Q]=S.useState(null),[ne,Y]=S.useState(""),[se,ue]=S.useState(!1),ae=async()=>{try{r(!0),o(null);const me={search:u,page:h,limit:g},ze=await rr.getAll(me);ze.success?e(ze.data?.cards||[]):o(ze.message||"Failed to fetch cards")}catch(me){o(me.response?.data?.message||"Failed to fetch cards"),console.error("Error fetching cards:",me)}finally{r(!1)}};S.useEffect(()=>{const me=setTimeout(()=>{m(1),ae()},300);return()=>clearTimeout(me)},[u]),S.useEffect(()=>{ae()},[h]),S.useEffect(()=>{ae()},[]);const fe=(me=null)=>{j(me),b(!0)},le=()=>{b(!1),j(null)},O=async me=>{try{if(w(!0),N){const ze=await rr.update(N.id||N._id,me);if(!ze.success)throw new Error(ze.message||"Update failed")}else{const ze=await rr.create(me);if(!ze.success)throw new Error(ze.message||"Creation failed")}le(),await ae()}catch(ze){throw console.error("Form submission error:",ze),ze}finally{w(!1)}},K=me=>{M(me),k(!0)},$=async()=>{if(R)try{V(!0);const me=await rr.delete(R.id||R._id);if(!me.success)throw new Error(me.message||"Delete failed");k(!1),M(null),await ae()}catch(me){console.error("Delete error:",me),alert(me.response?.data?.message||"Failed to delete card")}finally{V(!1)}},E=()=>{k(!1),M(null)},q=me=>{Q(me),Y(""),D(!0)},L=()=>{D(!1),Q(null),Y("")},G=async()=>{if(!H||!ne)return;const me=parseFloat(ne);if(isNaN(me)||me<=0){alert("Please enter a valid positive amount");return}try{ue(!0);const ze=await rr.addBalance(H.id||H._id,me);if(!ze.success)throw new Error(ze.message||"Failed to add balance");D(!1),Q(null),Y(""),await ae()}catch(ze){console.error("Add balance error:",ze),alert(ze.response?.data?.message||"Failed to add balance")}finally{ue(!1)}},pe=S.useMemo(()=>u.trim()?t.filter(me=>me.card_name?.toLowerCase().includes(u.toLowerCase())||me.card_number_last4?.includes(u)||me.card_type?.toLowerCase().includes(u.toLowerCase())):t,[t,u]),xe=pe.length,Ce=Math.ceil(xe/g),ee=(h-1)*g,ge=ee+g,Re=pe.slice(ee,ge);return l.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(bi,{className:"h-7 w-7 text-blue-600"}),"Cards Management"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>ae(),disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(jn,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]}),l.jsxs("button",{onClick:()=>fe(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Add Card"]})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Cs,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:u,onChange:me=>d(me.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search cards..."})]})}),a&&l.jsx("div",{className:"mb-6 rounded-md bg-red-50 border border-red-200 p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-700",children:a})]})}),n?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((me,ze)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})},ze))}):Re.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(bi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cards found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:u?"Try adjusting your search terms.":"Get started by adding your first card."}),!u&&l.jsxs("button",{onClick:()=>fe(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Add Card"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Re.map(me=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:me.card_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["   ",me.card_number_last4]})]}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${me.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:me.is_active?l.jsxs(l.Fragment,{children:[l.jsx(Ou,{className:"w-3 h-3 mr-1"})," Active"]}):l.jsxs(l.Fragment,{children:[l.jsx(Lu,{className:"w-3 h-3 mr-1"})," Inactive"]})})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Card Type"}),l.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:me.card_type||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Balance"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ir,{className:"h-4 w-4 text-green-600 mr-1"}),l.jsx("span",{className:"text-sm font-semibold text-green-600",children:Number(me.current_balance||0).toFixed(2)})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[l.jsx(So,{className:"h-3 w-3 mr-1"}),me.created_at?new Date(me.created_at).toLocaleDateString():"N/A"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>q(me),className:"inline-flex items-center px-3 py-1.5 border border-green-300 shadow-sm text-xs font-medium rounded text-green-700 bg-green-50 hover:bg-green-100 transition-colors",children:[l.jsx($t,{className:"h-3 w-3 mr-1"}),"Add Balance"]}),l.jsxs("button",{onClick:()=>fe(me),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[l.jsx(Ci,{className:"h-3 w-3 mr-1"}),"Edit"]}),l.jsxs("button",{onClick:()=>K(me),className:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-xs font-medium rounded text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[l.jsx(mr,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]})},me.id||me._id))}),Ce>1&&l.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg mt-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:["Showing ",ee+1," to ",Math.min(ge,xe)," of ",xe," results"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>m(me=>Math.max(1,me-1)),disabled:h<=1,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Previous"}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",h," of ",Ce]}),l.jsx("button",{onClick:()=>m(me=>Math.min(Ce,me+1)),disabled:h>=Ce,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Next"})]})]})]}),l.jsx(Hw,{isOpen:y,onClose:le,onSubmit:O,editData:N,isLoading:_}),P&&R&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(Et,{className:"h-6 w-6 text-red-600"})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Card"}),l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete "',R.card_name,'"? This action cannot be undone.']})})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{onClick:$,disabled:F,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:F?"Deleting...":"Delete"}),l.jsx("button",{onClick:E,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})]})}),z&&H&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(ir,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add Balance"}),l.jsxs("div",{className:"mt-2",children:[l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:['Add balance to "',H.card_name,'"']}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{htmlFor:"balance-amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount ($)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ir,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"number",id:"balance-amount",value:ne,onChange:me=>Y(me.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]})]})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{onClick:G,disabled:se||!ne,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:se?"Adding...":"Add Balance"}),l.jsx("button",{onClick:L,disabled:se,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})]})})]})},Wa={getAll:async(t={})=>(await re.get("/card-users",{params:t})).data,getById:async t=>(await re.get(`/card-users/${t}`)).data,create:async t=>(await re.post("/card-users",t)).data,update:async(t,e)=>(await re.put(`/card-users/${t}`,e)).data,delete:async t=>(await re.delete(`/card-users/${t}`)).data,getCardsByUser:async t=>(await re.get(`/card-users/user/${t}/cards`)).data,getUsersByCard:async t=>(await re.get(`/card-users/card/${t}/users`)).data},Vw=({isOpen:t,onClose:e,onSubmit:n,editData:r,isLoading:a})=>{const[o,u]=S.useState({card_id:"",user_id:"",assigned_date:new Date().toISOString().split("T")[0],is_primary:!1}),[d,h]=S.useState({}),[m,g]=S.useState([]),[y,b]=S.useState([]),[N,j]=S.useState(!1);S.useEffect(()=>{t&&(u(r?{card_id:r.card_id?.toString()||"",user_id:r.user_id?.toString()||"",assigned_date:r.assigned_date?new Date(r.assigned_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],is_primary:!!r.is_primary}:{card_id:"",user_id:"",assigned_date:new Date().toISOString().split("T")[0],is_primary:!1}),h({}))},[t,r]),S.useEffect(()=>{t&&_()},[t]);const _=async()=>{j(!0);try{const M=await rr.getAll({limit:100}),F=M?.data?.cards||M?.data||[];g(Array.isArray(F)?F:[]);const z=(await Vn.getForDropdown())?.data||[];b(Array.isArray(z)?z:[])}catch(M){console.error("Error loading options:",M),g([]),b([])}finally{j(!1)}},w=M=>{const{name:F,value:V,type:z,checked:D}=M.target;u(H=>({...H,[F]:z==="checkbox"?D:V})),d[F]&&h(H=>({...H,[F]:""}))},P=()=>{const M={};return o.card_id||(M.card_id="Card is required"),o.user_id||(M.user_id="User is required"),o.assigned_date||(M.assigned_date="Assigned date is required"),h(M),Object.keys(M).length===0},k=async M=>{if(M.preventDefault(),!!P())try{const F={...o,card_id:parseInt(o.card_id),user_id:parseInt(o.user_id)};await n(F)}catch(F){console.error("Form submission error:",F),h({submit:F.response?.data?.message||F.message||"An error occurred while saving"})}},R=()=>{u({card_id:"",user_id:"",assigned_date:new Date().toISOString().split("T")[0],is_primary:!1}),h({}),e()};return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:R}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:l.jsx("button",{onClick:R,className:"bg-white rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:l.jsx(Nn,{className:"h-6 w-6"})})}),l.jsx("div",{className:"sm:flex sm:items-start",children:l.jsxs("div",{className:"w-full mt-3 text-center sm:mt-0 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:r?"Edit Card Assignment":"Assign Card to User"}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.submit&&l.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-700",children:d.submit})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"card_id",className:"block text-sm font-medium text-gray-700",children:"Card *"}),l.jsxs("select",{id:"card_id",name:"card_id",value:o.card_id,onChange:w,disabled:N||a,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${d.card_id?"border-red-300":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a card..."}),m.map(M=>l.jsxs("option",{value:M.id,children:[M.card_name," (",M.card_number_last4,")"]},M.id))]}),d.card_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.card_id})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"user_id",className:"block text-sm font-medium text-gray-700",children:"User *"}),l.jsxs("select",{id:"user_id",name:"user_id",value:o.user_id,onChange:w,disabled:N||a,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${d.user_id?"border-red-300":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a user..."}),y.map(M=>l.jsx("option",{value:M.id,children:M.username},M.id))]}),d.user_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.user_id})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"assigned_date",className:"block text-sm font-medium text-gray-700",children:"Assigned Date *"}),l.jsx("input",{type:"date",id:"assigned_date",name:"assigned_date",value:o.assigned_date,onChange:w,disabled:a,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${d.assigned_date?"border-red-300":"border-gray-300"}`}),d.assigned_date&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.assigned_date})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_primary",name:"is_primary",checked:o.is_primary,onChange:w,disabled:a,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"is_primary",className:"ml-2 block text-sm text-gray-700",children:"Set as primary card for this user"})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:R,disabled:a,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:a||N,className:"px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":r?"Update Assignment":"Create Assignment"})]})]})]})})]})]})}):null},qw=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[a,o]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState(1),[g]=S.useState(10),[y,b]=S.useState(!1),[N,j]=S.useState(null),[_,w]=S.useState(!1),[P,k]=S.useState(!1),[R,M]=S.useState(null),[F,V]=S.useState(!1),z=async()=>{try{r(!0),o(null);const $={search:u,page:h,limit:g},E=await Wa.getAll($);E.success?e(E.data?.assignments||E.data?.cardUsers||E.data||[]):o(E.message||"Failed to fetch card assignments")}catch($){o($.response?.data?.message||"Failed to fetch card assignments"),console.error("Error fetching assignments:",$)}finally{r(!1)}};S.useEffect(()=>{const $=setTimeout(()=>{m(1),z()},300);return()=>clearTimeout($)},[u]),S.useEffect(()=>{z()},[h]),S.useEffect(()=>{z()},[]);const D=($=null)=>{j($),b(!0)},H=()=>{b(!1),j(null)},Q=async $=>{try{if(w(!0),N){const E=await Wa.update(N.id||N._id,$);if(!E.success)throw new Error(E.message||"Update failed")}else{const E=await Wa.create($);if(!E.success)throw new Error(E.message||"Creation failed")}H(),await z()}catch(E){throw console.error("Form submission error:",E),E}finally{w(!1)}},ne=$=>{M($),k(!0)},Y=async()=>{if(R)try{V(!0);const $=await Wa.delete(R.id||R._id);if(!$.success)throw new Error($.message||"Delete failed");k(!1),M(null),await z()}catch($){console.error("Delete error:",$),alert($.response?.data?.message||"Failed to delete assignment")}finally{V(!1)}},se=()=>{k(!1),M(null)},ue=S.useMemo(()=>u.trim()?t.filter($=>$.card_name?.toLowerCase().includes(u.toLowerCase())||$.username?.toLowerCase().includes(u.toLowerCase())||$.card_number_last4?.includes(u)):t,[t,u]),ae=ue.length,fe=Math.ceil(ae/g),le=(h-1)*g,O=le+g,K=ue.slice(le,O);return l.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(fu,{className:"h-7 w-7 text-blue-600"}),"Card User Assignments"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>z(),disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(jn,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]}),l.jsxs("button",{onClick:()=>D(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Assign Card"]})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Cs,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:u,onChange:$=>d($.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search assignments..."})]})}),a&&l.jsx("div",{className:"mb-6 rounded-md bg-red-50 border border-red-200 p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-700",children:a})]})}),n?l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:l.jsx("div",{className:"px-4 py-5 sm:p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map(($,E)=>l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"})]},E))})})}):K.length===0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx(fu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:u?"Try adjusting your search terms.":"Get started by assigning a card to a user."}),!u&&l.jsxs("button",{onClick:()=>D(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Assign Card"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(bi,{className:"h-4 w-4 mr-1"}),"Card"]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(hu,{className:"h-4 w-4 mr-1"}),"User"]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(So,{className:"h-4 w-4 mr-1"}),"Assigned Date"]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Primary"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map($=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(bi,{className:"h-4 w-4 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.card_name||"Unknown Card"}),l.jsxs("div",{className:"text-sm text-gray-500",children:["",$.card_number_last4||"****"]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(hu,{className:"h-4 w-4 text-gray-400 mr-2"}),l.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.username||"Unknown User"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.assigned_date?new Date($.assigned_date).toLocaleDateString():"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.is_primary?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:$.is_primary?l.jsxs(l.Fragment,{children:[l.jsx(Ou,{className:"w-3 h-3 mr-1"})," Primary"]}):l.jsxs(l.Fragment,{children:[l.jsx(Lu,{className:"w-3 h-3 mr-1"})," Secondary"]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>D($),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[l.jsx(Ci,{className:"h-3 w-3 mr-1"}),"Edit"]}),l.jsxs("button",{onClick:()=>ne($),className:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-xs font-medium rounded text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[l.jsx(mr,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},$.id||$._id))})]})}),fe>1&&l.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg mt-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:["Showing ",le+1," to ",Math.min(O,ae)," of ",ae," results"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>m($=>Math.max(1,$-1)),disabled:h<=1,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Previous"}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",h," of ",fe]}),l.jsx("button",{onClick:()=>m($=>Math.min(fe,$+1)),disabled:h>=fe,className:"inline-flex items-center px-3 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors",children:"Next"})]})]})]}),l.jsx(Vw,{isOpen:y,onClose:H,onSubmit:Q,editData:N,isLoading:_}),P&&R&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx(Et,{className:"h-6 w-6 text-red-600"})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Assignment"}),l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete the assignment of "',R.card_name,'" to "',R.username,'"? This action cannot be undone.']})})]})]}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{onClick:Y,disabled:F,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:F?"Deleting...":"Delete"}),l.jsx("button",{onClick:se,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})]})})]})},Ne={buildDaily:async t=>{try{return(await re.post(`/reports/build?date=${t}`)).data}catch(e){throw console.error("Error building daily reports:",e),e}},buildRange:async(t,e)=>{try{return(await re.post(`/reports/build-range?from=${t}&to=${e}`)).data}catch(n){throw console.error("Error building range reports:",n),n}},rebuildCampaignRange:async(t,e,n)=>{try{return(await re.post(`/reports/rebuild-campaign?campaign_id=${t}&from=${e}&to=${n}`)).data}catch(r){throw console.error("Error rebuilding campaign reports:",r),r}},generateReport:async(t={})=>{try{const e=new URLSearchParams,n={dateFrom:"date_from",dateTo:"date_to",campaignId:"campaign_id",brand:"brand"};return Object.entries(t).forEach(([a,o])=>{if(o!=null&&o!==""){const u=n[a]||a;e.append(u,o)}}),(await re.get(`/reports/generate?${e.toString()}`)).data}catch(e){throw console.error("Error generating report:",e),e}},getAll:async(t={})=>{try{const e=new URLSearchParams,{page:n=1,limit:r=10,...a}=t;return e.append("page",n),e.append("limit",r),Object.entries(a).forEach(([u,d])=>{d!=null&&d!==""&&e.append(u,d)}),(await re.get(`/reports?${e.toString()}`)).data}catch(e){throw console.error("Error fetching reports:",e),e}},getById:async t=>{try{return(await re.get(`/reports/${t}`)).data}catch(e){throw console.error("Error fetching report by ID:",e),e}},create:async t=>{try{return(await re.post("/reports",t)).data}catch(e){throw console.error("Error creating report:",e),e}},update:async(t,e)=>{try{return(await re.put(`/reports/${t}`,e)).data}catch(n){throw console.error("Error updating report:",n),n}},delete:async t=>{try{return(await re.delete(`/reports/${t}`)).data}catch(e){throw console.error("Error deleting report:",e),e}},getFilterOptions:async()=>{try{return(await re.get("/reports/filters")).data}catch(t){throw console.error("Error fetching filter options:",t),t}},getDashboardStats:async()=>{try{return(await re.get("/reports/dashboard")).data}catch(t){throw console.error("Error fetching dashboard stats:",t),t}},formatCurrency:t=>t==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t),formatNumber:t=>t==null?"0":new Intl.NumberFormat("en-US").format(t),calculateROI:(t,e)=>!e||e===0?0:(t-e)/e*100,calculateCostPerResult:(t,e)=>!e||e===0?0:t/e,getDateRangePresets:()=>{const t=new Date,e=new Date(t);e.setDate(e.getDate()-1);const n=new Date(t);n.setDate(n.getDate()-7);const r=new Date(t);r.setMonth(r.getMonth()-1);const a=new Date(t);a.setMonth(a.getMonth()-3);const o=u=>u.toISOString().split("T")[0];return{today:{label:"Today",from:o(t),to:o(t)},yesterday:{label:"Yesterday",from:o(e),to:o(e)},lastWeek:{label:"Last 7 Days",from:o(n),to:o(t)},lastMonth:{label:"Last 30 Days",from:o(r),to:o(t)},lastThreeMonths:{label:"Last 3 Months",from:o(a),to:o(t)}}}},Dm=t=>{if(!t)return"";const e=new Date(t),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${n}/${r}/${a}`},Yw=({isOpen:t,onClose:e,onReportGenerated:n})=>{const[r,a]=S.useState({dateFrom:"",dateTo:"",campaignId:"",brand:""}),[o,u]=S.useState(!1),[d,h]=S.useState({campaigns:[],brands:[],dateRange:{}}),[m,g]=S.useState("");S.useEffect(()=>{if(t){y();const k=new Date,R=new Date;R.setDate(k.getDate()-7),a({dateFrom:R.toISOString().split("T")[0],dateTo:k.toISOString().split("T")[0],campaignId:"",brand:""}),g("")}},[t]);const y=async()=>{try{const k=await Ne.getFilterOptions();k.success&&h(k.data)}catch(k){console.error("Error loading filter options:",k)}},b=(k,R)=>{a(M=>({...M,[k]:R})),g("")},N=()=>{if(!r.dateFrom||!r.dateTo)return g("Please select both start and end dates"),!1;const k=new Date(r.dateFrom),R=new Date(r.dateTo);if(k>R)return g("Start date cannot be after end date"),!1;const M=Math.abs(R-k);return Math.ceil(M/(1e3*60*60*24))>365?(g("Date range cannot exceed 1 year"),!1):!0},j=(k,R)=>{g("Excel export is currently disabled due to missing dependency.")},_=async()=>{if(N()){u(!0),g("");try{const k=await Ne.generateReport(r);k.success?k.data.message==="No data found for the selected date range"?g("No data found for the selected date range. Please try different filters."):j(k.data,r):g(k.message||"Failed to generate report")}catch(k){console.error("Error generating report:",k),g("Failed to generate report. Please try again.")}finally{u(!1)}}},w=()=>{o||e()},P=k=>{const M=Ne.getDateRangePresets()[k];M&&a(F=>({...F,dateFrom:M.from,dateTo:M.to}))};return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:w}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[l.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qn,{className:"h-6 w-6 text-blue-600 mr-2"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Generate Report"})]}),l.jsx("button",{onClick:w,disabled:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Nn,{className:"h-5 w-5"})})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Generate and download an Excel report based on your selected filters"})]}),l.jsxs("div",{className:"bg-white px-6 py-4 space-y-6",children:[m&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-600",children:m})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[l.jsx(So,{className:"h-4 w-4 mr-2 text-blue-600"}),"Date Range *"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Ne.getDateRangePresets()).map(([k,R])=>l.jsx("button",{onClick:()=>P(k),disabled:o,className:"px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:R.label},k))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),l.jsx("input",{type:"date",value:r.dateFrom,onChange:k=>b("dateFrom",k.target.value),disabled:o,max:d.dateRange?.latest,min:d.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),l.jsx("input",{type:"date",value:r.dateTo,onChange:k=>b("dateTo",k.target.value),disabled:o,max:d.dateRange?.latest,min:r.dateFrom||d.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[l.jsx(Fu,{className:"h-4 w-4 mr-2 text-blue-600"}),"Filters (Optional)"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Campaign"}),l.jsxs("select",{value:r.campaignId,onChange:k=>b("campaignId",k.target.value),disabled:o,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"All Campaigns"}),d.campaigns?.map(k=>l.jsxs("option",{value:k.id,children:[k.name," ",k.brand&&`(${k.brand})`]},k.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Brand"}),l.jsxs("select",{value:r.brand,onChange:k=>b("brand",k.target.value),disabled:o,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"All Brands"}),d.brands?.map(k=>l.jsx("option",{value:k,children:k},k))]})]})]})]}),d.dateRange?.earliest&&d.dateRange?.latest&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("strong",{children:"Available Data:"})," ",Dm(d.dateRange.earliest)," to ",Dm(d.dateRange.latest)]}),l.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[l.jsx("strong",{children:"Campaigns:"})," ",d.campaigns?.length||0," campaigns available"]}),l.jsxs("p",{className:"text-sm text-blue-600",children:[l.jsx("strong",{children:"Brands:"})," ",d.brands?.length||0," brands available"]})]})]}),l.jsxs("div",{className:"bg-gray-50 px-6 py-3 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{type:"button",onClick:_,disabled:o||!r.dateFrom||!r.dateTo,className:"w-full inline-flex justify-center items-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Fb,{className:"h-4 w-4 mr-2"}),"Generate Report"]})}),l.jsx("button",{type:"button",onClick:w,disabled:o,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}):null},qc=t=>{if(!t)return"";const e=new Date(t),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${n}/${r}/${a}`},Kw=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),[a,o]=S.useState(null),[u,d]=S.useState(null),[h,m]=S.useState(!1),[g,y]=S.useState("summary");S.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const k=await Ne.getDashboardStats();k.success&&d(k.data)}catch(k){console.error("Error loading dashboard stats:",k),o("Failed to load dashboard statistics")}finally{r(!1)}},N=k=>{e(k),o(null)},j=()=>{e(null),o(null)},_=({title:k,value:R,icon:M,change:F,changeType:V,description:z})=>l.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:k}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R}),z&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z}),F&&l.jsxs("p",{className:`text-sm flex items-center mt-2 ${V==="positive"?"text-green-600":"text-red-600"}`,children:[V==="positive"?l.jsx(ym,{className:"h-4 w-4 mr-1"}):l.jsx(Xb,{className:"h-4 w-4 mr-1"}),F]})]}),l.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:l.jsx(M,{className:"h-6 w-6 text-blue-600"})})]})}),w=({title:k,data:R})=>l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:k}),l.jsx("div",{className:"space-y-4",children:Object.entries(R).map(([M,F])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600 capitalize",children:M.replace(/([A-Z])/g," $1").toLowerCase()}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:typeof F=="number"&&M.includes("spent")?Ne.formatCurrency(F):typeof F=="number"?Ne.formatNumber(F):F})]},M))})]}),P=({reports:k})=>l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Detailed Report Data"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facebook"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zoho"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost/Result"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map((R,M)=>{const F=R.cost_per_result||Ne.calculateCostPerResult(R.spent,R.total_results);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.campaign_name||`Campaign ${R.campaign_id}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:qc(R.report_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatCurrency(R.spent)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(R.facebook_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(R.zoho_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne.formatNumber(R.total_results||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${F===0?"bg-gray-100 text-gray-800":F<5?"bg-green-100 text-green-800":F<10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:F===0?"N/A":Ne.formatCurrency(F)})})]},M)})})]})})]})});return n&&!t&&!u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),l.jsx("p",{className:"text-gray-600",children:"Generate and analyze comprehensive advertising reports"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),t&&l.jsx("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear Report"})]})]}),a&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-600",children:a})]})}),t?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(_,{title:"Total Spent",value:Ne.formatCurrency(t.summary?.totalSpent||0),icon:ir,description:`From ${qc(t.filters?.dateFrom)} to ${qc(t.filters?.dateTo)}`}),l.jsx(_,{title:"Total Results",value:Ne.formatNumber(t.summary?.totalResults||0),icon:_s,description:`Facebook: ${Ne.formatNumber(t.summary?.totalFacebookResults||0)} | Zoho: ${Ne.formatNumber(t.summary?.totalZohoResults||0)}`}),l.jsx(_,{title:"Campaigns",value:Ne.formatNumber(t.summary?.totalCampaigns||0),icon:Eo,description:`${t.summary?.totalRecords||0} total records`}),l.jsx(_,{title:"Avg Cost/Result",value:Ne.formatCurrency(t.summary?.avgCostPerResult||0),icon:pm})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:()=>y("summary"),className:`px-3 py-2 rounded-md text-sm font-medium ${g==="summary"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Summary"}),l.jsx("button",{onClick:()=>y("detailed"),className:`px-3 py-2 rounded-md text-sm font-medium ${g==="detailed"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Detailed Data"}),l.jsx("button",{onClick:()=>y("breakdown"),className:`px-3 py-2 rounded-md text-sm font-medium ${g==="breakdown"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Breakdown"})]})}),g==="summary"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(w,{title:"Summary Statistics",data:t.summary||{}}),t.filters&&l.jsx(w,{title:"Applied Filters",data:t.filters})]}),g==="detailed"&&t.reports&&l.jsx(P,{reports:t.reports}),g==="breakdown"&&l.jsxs("div",{className:"space-y-6",children:[t.brandBreakdown&&t.brandBreakdown.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(Hb,{className:"h-5 w-5 mr-2 text-blue-600"}),"Brand Breakdown"]}),l.jsx("div",{className:"space-y-3",children:t.brandBreakdown.map((k,R)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsx("span",{className:"font-medium text-gray-900",children:k.brand||"Unknown Brand"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Ne.formatCurrency(k.total_spent)," spent"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Ne.formatNumber(k.total_results)," results | ",k.campaigns_count," campaigns"]})]})]},R))})]}),t.campaignBreakdown&&t.campaignBreakdown.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(Qn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Campaign Breakdown"]}),l.jsx("div",{className:"space-y-3",children:t.campaignBreakdown.map((k,R)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:k.campaign_name}),l.jsx("div",{className:"text-xs text-gray-500",children:k.brand})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ne.formatCurrency(k.total_spent)}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Ne.formatNumber(k.total_results)," results"]})]})]},R))})]})]})]}):l.jsxs("div",{className:"space-y-6",children:[u&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(_,{title:"Current Month",value:Ne.formatCurrency(u.currentMonth?.totalSpent||0),icon:ir,description:`${u.currentMonth?.month} overview`}),l.jsx(_,{title:"Monthly Campaigns",value:Ne.formatNumber(u.currentMonth?.campaignsCount||0),icon:_s,description:"Active this month"}),l.jsx(_,{title:"Monthly Results",value:Ne.formatNumber(u.currentMonth?.totalLeads||0),icon:pm}),l.jsx(_,{title:"Avg Cost/Lead",value:Ne.formatCurrency(u.currentMonth?.avgCostPerLead||0),icon:ym})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[l.jsx(Co,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Generate Your First Report"}),l.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Generate Report" to create comprehensive reports from your campaign data with custom date ranges and filters.'}),l.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Get Started"]})]})]}),l.jsx(Yw,{isOpen:h,onClose:()=>m(!1),onReportGenerated:N})]})},Xw=()=>l.jsx("div",{className:"p-6",children:l.jsx(Kw,{})}),Qw=t=>{if(!t)return"";const e=new Date(t),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${n}/${r}/${a}`},Gw=()=>{const[t,e]=S.useState({dateFrom:"",dateTo:"",campaignId:"",brand:""}),[n,r]=S.useState([]),[a,o]=S.useState([]),[u,d]=S.useState(!1),[h,m]=S.useState(""),[g,y]=S.useState({campaigns:[],brands:[],dateRange:{}}),[b,N]=S.useState(1),[j]=S.useState(10),[_,w]=S.useState(!1);S.useEffect(()=>{P(),k()},[]),S.useEffect(()=>{t.dateFrom&&t.dateTo?R():o(n)},[t]);const P=async()=>{try{const Y=await Ne.getFilterOptions();Y.success&&y(Y.data)}catch(Y){console.error("Error loading filter options:",Y)}},k=()=>{const Y=new Date,se=new Date;se.setDate(Y.getDate()-30),e({dateFrom:se.toISOString().split("T")[0],dateTo:Y.toISOString().split("T")[0],campaignId:"",brand:""})},R=async()=>{if(!(!t.dateFrom||!t.dateTo)){d(!0),m("");try{const Y=await Ne.generateReport(t);if(Y.success){const se=Y.data.reports||[];console.log(" Reports API Response:",{totalRecords:se.length,sampleData:se.slice(0,3),allData:se}),r(se),o(se),N(1)}else m(Y.data?.message||Y.message||"Failed to load report data"),r([]),o([])}catch(Y){console.error("Error loading report data:",Y),m("Failed to load report data. Please try again."),r([]),o([])}finally{d(!1)}}},M=(Y,se)=>{e(ue=>({...ue,[Y]:se})),m("")},F=Y=>{const ue=Ne.getDateRangePresets()[Y];ue&&e(ae=>({...ae,dateFrom:ue.from,dateTo:ue.to}))},V=()=>{e({dateFrom:"",dateTo:"",campaignId:"",brand:""}),r([]),o([]),N(1)},z=b*j,D=z-j,H=a.slice(D,z),Q=Math.ceil(a.length/j);console.log(" Pagination Debug:",{filteredDataLength:a.length,currentPage:b,itemsPerPage:j,indexOfFirstItem:D,indexOfLastItem:z,currentItemsLength:H.length,totalPages:Q,currentItemsSample:H.slice(0,2)});const ne=Y=>N(Y);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[l.jsx(Co,{className:"h-6 w-6 mr-2 text-blue-600"}),"Reports"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"View and analyze campaign performance data"})]}),l.jsx("div",{className:"flex space-x-3",children:l.jsxs("button",{onClick:R,disabled:u||!t.dateFrom||!t.dateTo,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(jn,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),u?"Loading...":"Refresh"]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>w(!_),className:"flex items-center text-lg font-medium text-gray-900 hover:text-blue-600 transition-colors",children:[l.jsx(Fu,{className:"h-5 w-5 mr-2 text-blue-600"}),"Filters",l.jsx("svg",{className:`h-4 w-4 ml-1 transition-transform ${_?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[a.length," record",a.length!==1?"s":""," found"]})]}),_&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(So,{className:"h-4 w-4 inline mr-1"}),"Date Range *"]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(Ne.getDateRangePresets()).map(([Y,se])=>l.jsx("button",{onClick:()=>F(Y),disabled:u,className:"px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50",children:se.label},Y))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"From Date"}),l.jsx("input",{type:"date",value:t.dateFrom,onChange:Y=>M("dateFrom",Y.target.value),disabled:u,max:g.dateRange?.latest,min:g.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"To Date"}),l.jsx("input",{type:"date",value:t.dateTo,onChange:Y=>M("dateTo",Y.target.value),disabled:u,max:g.dateRange?.latest,min:t.dateFrom||g.dateRange?.earliest,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign"}),l.jsxs("select",{value:t.campaignId,onChange:Y=>M("campaignId",Y.target.value),disabled:u,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[l.jsx("option",{value:"",children:"All Campaigns"}),g.campaigns?.map(Y=>l.jsxs("option",{value:Y.id,children:[Y.name," ",Y.brand&&`(${Y.brand})`]},Y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),l.jsxs("select",{value:t.brand,onChange:Y=>M("brand",Y.target.value),disabled:u,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[l.jsx("option",{value:"",children:"All Brands"}),g.brands?.map(Y=>l.jsx("option",{value:Y,children:Y},Y))]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{onClick:V,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all filters"}),l.jsxs("div",{className:"text-sm text-gray-500",children:[a.length," record",a.length!==1?"s":""," found"]})]})]})]}),h&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-sm text-red-600",children:h})]})}),l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Campaign Performance Data"}),a.length>0&&l.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",D+1," to ",Math.min(z,a.length)," of ",a.length," entries"]})]}),u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"})}):a.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data found"}),l.jsx("p",{className:"text-gray-600",children:t.dateFrom&&t.dateTo?"No records found for the selected filters. Try adjusting your date range or filters.":"Please select a date range to view reports."})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facebook Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zoho Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Results"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Spent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Per Lead"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map((Y,se)=>{const ue=Y.cost_per_result||Ne.calculateCostPerResult(Y.spent,Y.total_results);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Y.campaign_name||`Campaign ${Y.campaign_id}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y.brand||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Qw(Y.report_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatCurrency(Y.spent)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(Y.facebook_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.formatNumber(Y.zoho_result||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne.formatNumber(Y.total_results||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne.formatCurrency(Y.total_campaign_spent||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ue===0?"bg-gray-100 text-gray-800":ue<5?"bg-green-100 text-green-800":ue<10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ue===0?"N/A":Ne.formatCurrency(ue)})})]},`${Y.campaign_id}-${Y.report_date}-${se}`)})})]})}),Q>1&&l.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[l.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[l.jsx("button",{onClick:()=>ne(b-1),disabled:b===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),l.jsx("button",{onClick:()=>ne(b+1),disabled:b===Q,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),l.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",l.jsx("span",{className:"font-medium",children:D+1})," to"," ",l.jsx("span",{className:"font-medium",children:Math.min(z,a.length)})," of"," ",l.jsx("span",{className:"font-medium",children:a.length})," results"]})}),l.jsx("div",{children:l.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[l.jsx("button",{onClick:()=>ne(b-1),disabled:b===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,Q)},(Y,se)=>{const ue=se+1;return l.jsx("button",{onClick:()=>ne(ue),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${b===ue?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ue},ue)}),l.jsx("button",{onClick:()=>ne(b+1),disabled:b===Q,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})]})})]})},Jw=()=>l.jsx("div",{className:"p-6",children:l.jsx(Gw,{})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Mi(t){return t+.5|0}const Yn=(t,e,n)=>Math.max(Math.min(t,n),e);function ui(t){return Yn(Mi(t*2.55),0,255)}function Gn(t){return Yn(Mi(t*255),0,255)}function wn(t){return Yn(Mi(t/2.55)/100,0,1)}function Am(t){return Yn(Mi(t*100),0,100)}const Bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vu=[..."0123456789ABCDEF"],Zw=t=>vu[t&15],e1=t=>vu[(t&240)>>4]+vu[t&15],Va=t=>(t&240)>>4===(t&15),t1=t=>Va(t.r)&&Va(t.g)&&Va(t.b)&&Va(t.a);function n1(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Bt[t[1]]*17,g:255&Bt[t[2]]*17,b:255&Bt[t[3]]*17,a:e===5?Bt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Bt[t[1]]<<4|Bt[t[2]],g:Bt[t[3]]<<4|Bt[t[4]],b:Bt[t[5]]<<4|Bt[t[6]],a:e===9?Bt[t[7]]<<4|Bt[t[8]]:255})),n}const s1=(t,e)=>t<255?e(t):"";function r1(t){var e=t1(t)?Zw:e1;return t?"#"+e(t.r)+e(t.g)+e(t.b)+s1(t.a,e):void 0}const i1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ag(t,e,n){const r=e*Math.min(n,1-n),a=(o,u=(o+t/30)%12)=>n-r*Math.max(Math.min(u-3,9-u,1),-1);return[a(0),a(8),a(4)]}function a1(t,e,n){const r=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function o1(t,e,n){const r=Ag(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)r[a]*=1-e-n,r[a]+=e;return r}function l1(t,e,n,r,a){return t===a?(e-n)/r+(e<n?6:0):e===a?(n-t)/r+2:(t-e)/r+4}function Uu(t){const n=t.r/255,r=t.g/255,a=t.b/255,o=Math.max(n,r,a),u=Math.min(n,r,a),d=(o+u)/2;let h,m,g;return o!==u&&(g=o-u,m=d>.5?g/(2-o-u):g/(o+u),h=l1(n,r,a,g,o),h=h*60+.5),[h|0,m||0,d]}function $u(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Gn)}function Hu(t,e,n){return $u(Ag,t,e,n)}function c1(t,e,n){return $u(o1,t,e,n)}function u1(t,e,n){return $u(a1,t,e,n)}function Og(t){return(t%360+360)%360}function d1(t){const e=i1.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ui(+e[5]):Gn(+e[5]));const a=Og(+e[2]),o=+e[3]/100,u=+e[4]/100;return e[1]==="hwb"?r=c1(a,o,u):e[1]==="hsv"?r=u1(a,o,u):r=Hu(a,o,u),{r:r[0],g:r[1],b:r[2],a:n}}function f1(t,e){var n=Uu(t);n[0]=Og(n[0]+e),n=Hu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function h1(t){if(!t)return;const e=Uu(t),n=e[0],r=Am(e[1]),a=Am(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${a}%, ${wn(t.a)})`:`hsl(${n}, ${r}%, ${a}%)`}const Om={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function m1(){const t={},e=Object.keys(Fm),n=Object.keys(Om);let r,a,o,u,d;for(r=0;r<e.length;r++){for(u=d=e[r],a=0;a<n.length;a++)o=n[a],d=d.replace(o,Om[o]);o=parseInt(Fm[u],16),t[d]=[o>>16&255,o>>8&255,o&255]}return t}let qa;function p1(t){qa||(qa=m1(),qa.transparent=[0,0,0,0]);const e=qa[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const g1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function x1(t){const e=g1.exec(t);let n=255,r,a,o;if(e){if(e[7]!==r){const u=+e[7];n=e[8]?ui(u):Yn(u*255,0,255)}return r=+e[1],a=+e[3],o=+e[5],r=255&(e[2]?ui(r):Yn(r,0,255)),a=255&(e[4]?ui(a):Yn(a,0,255)),o=255&(e[6]?ui(o):Yn(o,0,255)),{r,g:a,b:o,a:n}}}function y1(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Yc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,nr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function b1(t,e,n){const r=nr(wn(t.r)),a=nr(wn(t.g)),o=nr(wn(t.b));return{r:Gn(Yc(r+n*(nr(wn(e.r))-r))),g:Gn(Yc(a+n*(nr(wn(e.g))-a))),b:Gn(Yc(o+n*(nr(wn(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Ya(t,e,n){if(t){let r=Uu(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Hu(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Fg(t,e){return t&&Object.assign(e||{},t)}function Lm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Gn(t[3]))):(e=Fg(t,{r:0,g:0,b:0,a:1}),e.a=Gn(e.a)),e}function v1(t){return t.charAt(0)==="r"?x1(t):d1(t)}class _i{constructor(e){if(e instanceof _i)return e;const n=typeof e;let r;n==="object"?r=Lm(e):n==="string"&&(r=n1(e)||p1(e)||v1(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Fg(this._rgb);return e&&(e.a=wn(e.a)),e}set rgb(e){this._rgb=Lm(e)}rgbString(){return this._valid?y1(this._rgb):void 0}hexString(){return this._valid?r1(this._rgb):void 0}hslString(){return this._valid?h1(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,a=e.rgb;let o;const u=n===o?.5:n,d=2*u-1,h=r.a-a.a,m=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;o=1-m,r.r=255&m*r.r+o*a.r+.5,r.g=255&m*r.g+o*a.g+.5,r.b=255&m*r.b+o*a.b+.5,r.a=u*r.a+(1-u)*a.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=b1(this._rgb,e._rgb,n)),this}clone(){return new _i(this.rgb)}alpha(e){return this._rgb.a=Gn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Mi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ya(this._rgb,2,e),this}darken(e){return Ya(this._rgb,2,-e),this}saturate(e){return Ya(this._rgb,1,e),this}desaturate(e){return Ya(this._rgb,1,-e),this}rotate(e){return f1(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xn(){}const w1=(()=>{let t=0;return()=>t++})();function $e(t){return t==null}function Je(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Se(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function mt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function rn(t,e){return mt(t)?t:e}function ke(t,e){return typeof t>"u"?e:t}const _1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Le(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Me(t,e,n,r){let a,o,u;if(Je(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(Se(t))for(u=Object.keys(t),o=u.length,a=0;a<o;a++)e.call(n,t[u[a]],u[a])}function mo(t,e){let n,r,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function po(t){if(Je(t))return t.map(po);if(Se(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let a=0;for(;a<r;++a)e[n[a]]=po(t[n[a]]);return e}return t}function Lg(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function j1(t,e,n,r){if(!Lg(t))return;const a=e[t],o=n[t];Se(a)&&Se(o)?ji(a,o,r):e[t]=po(o)}function ji(t,e,n){const r=Je(e)?e:[e],a=r.length;if(!Se(t))return t;n=n||{};const o=n.merger||j1;let u;for(let d=0;d<a;++d){if(u=r[d],!Se(u))continue;const h=Object.keys(u);for(let m=0,g=h.length;m<g;++m)o(h[m],t,u,n)}return t}function hi(t,e){return ji(t,e,{merger:N1})}function N1(t,e,n){if(!Lg(t))return;const r=e[t],a=n[t];Se(r)&&Se(a)?hi(r,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=po(a))}const Im={"":t=>t,x:t=>t.x,y:t=>t.y};function k1(t){const e=t.split("."),n=[];let r="";for(const a of e)r+=a,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function S1(t){const e=k1(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function go(t,e){return(Im[e]||(Im[e]=S1(e)))(t)}function Wu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xo=t=>typeof t<"u",Jn=t=>typeof t=="function",zm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function C1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const De=Math.PI,nt=2*De,E1=nt+De,yo=Number.POSITIVE_INFINITY,P1=De/180,it=De/2,ms=De/4,Bm=De*2/3,Ig=Math.log10,lr=Math.sign;function mi(t,e,n){return Math.abs(t-e)<n}function Um(t){const e=Math.round(t);t=mi(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ig(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function R1(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function T1(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function bo(t){return!T1(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function M1(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function D1(t,e,n){let r,a,o;for(r=0,a=t.length;r<a;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ws(t){return t*(De/180)}function A1(t){return t*(180/De)}function $m(t){if(!mt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function zg(t,e){const n=e.x-t.x,r=e.y-t.y,a=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*De&&(o+=nt),{angle:o,distance:a}}function wu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function O1(t,e){return(t-e+E1)%nt-De}function Dt(t){return(t%nt+nt)%nt}function Vu(t,e,n,r){const a=Dt(t),o=Dt(e),u=Dt(n),d=Dt(o-a),h=Dt(u-a),m=Dt(a-o),g=Dt(a-u);return a===o||a===u||r&&o===u||d>h&&m<g}function kt(t,e,n){return Math.max(e,Math.min(n,t))}function F1(t){return kt(t,-32768,32767)}function _n(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function qu(t,e,n){n=n||(u=>t[u]<e);let r=t.length-1,a=0,o;for(;r-a>1;)o=a+r>>1,n(o)?a=o:r=o;return{lo:a,hi:r}}const _u=(t,e,n,r)=>qu(t,n,r?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),L1=(t,e,n)=>qu(t,n,r=>t[r][e]>=n);function I1(t,e,n){let r=0,a=t.length;for(;r<a&&t[r]<e;)r++;for(;a>r&&t[a-1]>n;)a--;return r>0||a<t.length?t.slice(r,a):t}const Bg=["push","pop","shift","splice","unshift"];function z1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bg.forEach(n=>{const r="_onData"+Wu(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const u=a.apply(this,o);return t._chartjs.listeners.forEach(d=>{typeof d[r]=="function"&&d[r](...o)}),u}})})}function Hm(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,a=r.indexOf(e);a!==-1&&r.splice(a,1),!(r.length>0)&&(Bg.forEach(o=>{delete t[o]}),delete t._chartjs)}function B1(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ug=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function $g(t,e){let n=[],r=!1;return function(...a){n=a,r||(r=!0,Ug.call(window,()=>{r=!1,t.apply(e,n)}))}}function U1(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Yu=t=>t==="start"?"left":t==="end"?"right":"center",dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,$1=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Ka=t=>t===0||t===1,Wm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*nt/n)),Vm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*nt/n)+1,pi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*it)+1,easeOutSine:t=>Math.sin(t*it),easeInOutSine:t=>-.5*(Math.cos(De*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ka(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ka(t)?t:Wm(t,.075,.3),easeOutElastic:t=>Ka(t)?t:Vm(t,.075,.3),easeInOutElastic(t){return Ka(t)?t:t<.5?.5*Wm(t*2,.1125,.45):.5+.5*Vm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-pi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?pi.easeInBounce(t*2)*.5:pi.easeOutBounce(t*2-1)*.5+.5};function Ku(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function qm(t){return Ku(t)?t:new _i(t)}function Kc(t){return Ku(t)?t:new _i(t).saturate(.5).darken(.1).hexString()}const H1=["x","y","borderWidth","radius","tension"],W1=["color","borderColor","backgroundColor"];function V1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:W1},numbers:{type:"number",properties:H1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function q1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ym=new Map;function Y1(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Ym.get(n);return r||(r=new Intl.NumberFormat(t,e),Ym.set(n,r)),r}function Hg(t,e,n){return Y1(e,n).format(t)}const K1={values(t){return Je(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=X1(t,n)}const u=Ig(Math.abs(o)),d=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),h={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),Hg(t,r,h)}};function X1(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Wg={formatters:K1};function Q1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ss=Object.create(null),ju=Object.create(null);function gi(t,e){if(!e)return t;const n=e.split(".");for(let r=0,a=n.length;r<a;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function Xc(t,e,n){return typeof e=="string"?ji(gi(t,e),n):ji(gi(t,""),e)}class G1{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,a)=>Kc(a.backgroundColor),this.hoverBorderColor=(r,a)=>Kc(a.borderColor),this.hoverColor=(r,a)=>Kc(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Xc(this,e,n)}get(e){return gi(this,e)}describe(e,n){return Xc(ju,e,n)}override(e,n){return Xc(Ss,e,n)}route(e,n,r,a){const o=gi(this,e),u=gi(this,r),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],m=u[a];return Se(h)?Object.assign({},m,h):ke(h,m)},set(h){this[d]=h}}})}apply(e){e.forEach(n=>n(this))}}var Ye=new G1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[V1,q1,Q1]);function J1(t){return!t||$e(t.size)||$e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Km(t,e,n,r,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>r&&(r=o),r}function ps(t,e,n){const r=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*r)/r+a}function Xm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Nu(t,e,n,r){Vg(t,e,n,r,null)}function Vg(t,e,n,r,a){let o,u,d,h,m,g,y,b;const N=e.pointStyle,j=e.rotation,_=e.radius;let w=(j||0)*P1;if(N&&typeof N=="object"&&(o=N.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(N,-N.width/2,-N.height/2,N.width,N.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),N){default:a?t.ellipse(n,r,a/2,_,0,0,nt):t.arc(n,r,_,0,nt),t.closePath();break;case"triangle":g=a?a/2:_,t.moveTo(n+Math.sin(w)*g,r-Math.cos(w)*_),w+=Bm,t.lineTo(n+Math.sin(w)*g,r-Math.cos(w)*_),w+=Bm,t.lineTo(n+Math.sin(w)*g,r-Math.cos(w)*_),t.closePath();break;case"rectRounded":m=_*.516,h=_-m,u=Math.cos(w+ms)*h,y=Math.cos(w+ms)*(a?a/2-m:h),d=Math.sin(w+ms)*h,b=Math.sin(w+ms)*(a?a/2-m:h),t.arc(n-y,r-d,m,w-De,w-it),t.arc(n+b,r-u,m,w-it,w),t.arc(n+y,r+d,m,w,w+it),t.arc(n-b,r+u,m,w+it,w+De),t.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*_,g=a?a/2:h,t.rect(n-g,r-h,2*g,2*h);break}w+=ms;case"rectRot":y=Math.cos(w)*(a?a/2:_),u=Math.cos(w)*_,d=Math.sin(w)*_,b=Math.sin(w)*(a?a/2:_),t.moveTo(n-y,r-d),t.lineTo(n+b,r-u),t.lineTo(n+y,r+d),t.lineTo(n-b,r+u),t.closePath();break;case"crossRot":w+=ms;case"cross":y=Math.cos(w)*(a?a/2:_),u=Math.cos(w)*_,d=Math.sin(w)*_,b=Math.sin(w)*(a?a/2:_),t.moveTo(n-y,r-d),t.lineTo(n+y,r+d),t.moveTo(n+b,r-u),t.lineTo(n-b,r+u);break;case"star":y=Math.cos(w)*(a?a/2:_),u=Math.cos(w)*_,d=Math.sin(w)*_,b=Math.sin(w)*(a?a/2:_),t.moveTo(n-y,r-d),t.lineTo(n+y,r+d),t.moveTo(n+b,r-u),t.lineTo(n-b,r+u),w+=ms,y=Math.cos(w)*(a?a/2:_),u=Math.cos(w)*_,d=Math.sin(w)*_,b=Math.sin(w)*(a?a/2:_),t.moveTo(n-y,r-d),t.lineTo(n+y,r+d),t.moveTo(n+b,r-u),t.lineTo(n-b,r+u);break;case"line":u=a?a/2:Math.cos(w)*_,d=Math.sin(w)*_,t.moveTo(n-u,r-d),t.lineTo(n+u,r+d);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(a?a/2:_),r+Math.sin(w)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ni(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Oo(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Fo(t){t.restore()}function Z1(t,e,n,r,a){if(!e)return t.lineTo(n.x,n.y);if(a==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else a==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function e_(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function t_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function n_(t,e,n,r,a){if(a.strikethrough||a.underline){const o=t.measureText(r),u=e-o.actualBoundingBoxLeft,d=e+o.actualBoundingBoxRight,h=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,g=a.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(u,g),t.lineTo(d,g),t.stroke()}}function s_(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ki(t,e,n,r,a,o={}){const u=Je(e)?e:[e],d=o.strokeWidth>0&&o.strokeColor!=="";let h,m;for(t.save(),t.font=a.string,t_(t,o),h=0;h<u.length;++h)m=u[h],o.backdrop&&s_(t,o.backdrop),d&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),$e(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,r,o.maxWidth)),t.fillText(m,n,r,o.maxWidth),n_(t,n,r,m,o),r+=Number(a.lineHeight);t.restore()}function vo(t,e){const{x:n,y:r,w:a,h:o,radius:u}=e;t.arc(n+u.topLeft,r+u.topLeft,u.topLeft,1.5*De,De,!0),t.lineTo(n,r+o-u.bottomLeft),t.arc(n+u.bottomLeft,r+o-u.bottomLeft,u.bottomLeft,De,it,!0),t.lineTo(n+a-u.bottomRight,r+o),t.arc(n+a-u.bottomRight,r+o-u.bottomRight,u.bottomRight,it,0,!0),t.lineTo(n+a,r+u.topRight),t.arc(n+a-u.topRight,r+u.topRight,u.topRight,0,-it,!0),t.lineTo(n+u.topLeft,r)}const r_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,i_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function a_(t,e){const n=(""+t).match(r_);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const o_=t=>+t||0;function Xu(t,e){const n={},r=Se(e),a=r?Object.keys(e):e,o=Se(t)?r?u=>ke(t[u],t[e[u]]):u=>t[u]:()=>t;for(const u of a)n[u]=o_(o(u));return n}function qg(t){return Xu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ar(t){return Xu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ht(t){const e=qg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ht(t,e){t=t||{},e=e||Ye.font;let n=ke(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ke(t.style,e.style);r&&!(""+r).match(i_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const a={family:ke(t.family,e.family),lineHeight:a_(ke(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ke(t.weight,e.weight),string:""};return a.string=J1(a),a}function Xa(t,e,n,r){let a,o,u;for(a=0,o=t.length;a<o;++a)if(u=t[a],u!==void 0&&u!==void 0)return u}function l_(t,e,n){const{min:r,max:a}=t,o=_1(e,(a-r)/2),u=(d,h)=>n&&d===0?0:d+h;return{min:u(r,-Math.abs(o)),max:u(a,o)}}function Es(t,e){return Object.assign(Object.create(t),e)}function Qu(t,e=[""],n,r,a=()=>t[0]){const o=n||t;typeof r>"u"&&(r=Qg("_fallback",t));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:a,override:d=>Qu([d,...t],e,o,r)};return new Proxy(u,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return Kg(d,h,()=>g_(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return Gm(d).includes(h)},ownKeys(d){return Gm(d)},set(d,h,m){const g=d._storage||(d._storage=a());return d[h]=g[h]=m,delete d._keys,!0}})}function cr(t,e,n,r){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Yg(t,r),setContext:o=>cr(t,o,n,r),override:o=>cr(t.override(o),e,n,r)};return new Proxy(a,{deleteProperty(o,u){return delete o[u],delete t[u],!0},get(o,u,d){return Kg(o,u,()=>u_(o,u,d))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(t,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,u)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,u){return Reflect.has(t,u)},ownKeys(){return Reflect.ownKeys(t)},set(o,u,d){return t[u]=d,delete o[u],!0}})}function Yg(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:r,isScriptable:Jn(n)?n:()=>n,isIndexable:Jn(r)?r:()=>r}}const c_=(t,e)=>t?t+Wu(e):e,Gu=(t,e)=>Se(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Kg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function u_(t,e,n){const{_proxy:r,_context:a,_subProxy:o,_descriptors:u}=t;let d=r[e];return Jn(d)&&u.isScriptable(e)&&(d=d_(e,d,t,n)),Je(d)&&d.length&&(d=f_(e,d,t,u.isIndexable)),Gu(e,d)&&(d=cr(d,a,o&&o[e],u)),d}function d_(t,e,n,r){const{_proxy:a,_context:o,_subProxy:u,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(o,u||r);return d.delete(t),Gu(t,h)&&(h=Ju(a._scopes,a,t,h)),h}function f_(t,e,n,r){const{_proxy:a,_context:o,_subProxy:u,_descriptors:d}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(Se(e[0])){const h=e,m=a._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=Ju(m,a,t,g);e.push(cr(y,o,u&&u[t],d))}}return e}function Xg(t,e,n){return Jn(t)?t(e,n):t}const h_=(t,e)=>t===!0?e:typeof t=="string"?go(e,t):void 0;function m_(t,e,n,r,a){for(const o of e){const u=h_(n,o);if(u){t.add(u);const d=Xg(u._fallback,n,a);if(typeof d<"u"&&d!==n&&d!==r)return d}else if(u===!1&&typeof r<"u"&&n!==r)return null}return!1}function Ju(t,e,n,r){const a=e._rootScopes,o=Xg(e._fallback,n,r),u=[...t,...a],d=new Set;d.add(r);let h=Qm(d,u,n,o||n,r);return h===null||typeof o<"u"&&o!==n&&(h=Qm(d,u,o,h,r),h===null)?!1:Qu(Array.from(d),[""],a,o,()=>p_(e,n,r))}function Qm(t,e,n,r,a){for(;n;)n=m_(t,e,n,r,a);return n}function p_(t,e,n){const r=t._getTarget();e in r||(r[e]={});const a=r[e];return Je(a)&&Se(n)?n:a||{}}function g_(t,e,n,r){let a;for(const o of e)if(a=Qg(c_(o,t),n),typeof a<"u")return Gu(t,a)?Ju(n,r,t,a):a}function Qg(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Gm(t){let e=t._keys;return e||(e=t._keys=x_(t._scopes)),e}function x_(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(r);return Array.from(e)}const y_=Number.EPSILON||1e-14,ur=(t,e)=>e<t.length&&!t[e].skip&&t[e],Gg=t=>t==="x"?"y":"x";function b_(t,e,n,r){const a=t.skip?e:t,o=e,u=n.skip?e:n,d=wu(o,a),h=wu(u,o);let m=d/(d+h),g=h/(d+h);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const y=r*m,b=r*g;return{previous:{x:o.x-y*(u.x-a.x),y:o.y-y*(u.y-a.y)},next:{x:o.x+b*(u.x-a.x),y:o.y+b*(u.y-a.y)}}}function v_(t,e,n){const r=t.length;let a,o,u,d,h,m=ur(t,0);for(let g=0;g<r-1;++g)if(h=m,m=ur(t,g+1),!(!h||!m)){if(mi(e[g],0,y_)){n[g]=n[g+1]=0;continue}a=n[g]/e[g],o=n[g+1]/e[g],d=Math.pow(a,2)+Math.pow(o,2),!(d<=9)&&(u=3/Math.sqrt(d),n[g]=a*u*e[g],n[g+1]=o*u*e[g])}}function w_(t,e,n="x"){const r=Gg(n),a=t.length;let o,u,d,h=ur(t,0);for(let m=0;m<a;++m){if(u=d,d=h,h=ur(t,m+1),!d)continue;const g=d[n],y=d[r];u&&(o=(g-u[n])/3,d[`cp1${n}`]=g-o,d[`cp1${r}`]=y-o*e[m]),h&&(o=(h[n]-g)/3,d[`cp2${n}`]=g+o,d[`cp2${r}`]=y+o*e[m])}}function __(t,e="x"){const n=Gg(e),r=t.length,a=Array(r).fill(0),o=Array(r);let u,d,h,m=ur(t,0);for(u=0;u<r;++u)if(d=h,h=m,m=ur(t,u+1),!!h){if(m){const g=m[e]-h[e];a[u]=g!==0?(m[n]-h[n])/g:0}o[u]=d?m?lr(a[u-1])!==lr(a[u])?0:(a[u-1]+a[u])/2:a[u-1]:a[u]}v_(t,a,o),w_(t,o,e)}function Qa(t,e,n){return Math.max(Math.min(t,n),e)}function j_(t,e){let n,r,a,o,u,d=Ni(t[0],e);for(n=0,r=t.length;n<r;++n)u=o,o=d,d=n<r-1&&Ni(t[n+1],e),o&&(a=t[n],u&&(a.cp1x=Qa(a.cp1x,e.left,e.right),a.cp1y=Qa(a.cp1y,e.top,e.bottom)),d&&(a.cp2x=Qa(a.cp2x,e.left,e.right),a.cp2y=Qa(a.cp2y,e.top,e.bottom)))}function N_(t,e,n,r,a){let o,u,d,h;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")__(t,a);else{let m=r?t[t.length-1]:t[0];for(o=0,u=t.length;o<u;++o)d=t[o],h=b_(m,d,t[Math.min(o+1,u-(r?0:1))%u],e.tension),d.cp1x=h.previous.x,d.cp1y=h.previous.y,d.cp2x=h.next.x,d.cp2y=h.next.y,m=d}e.capBezierPoints&&j_(t,n)}function Zu(){return typeof window<"u"&&typeof document<"u"}function ed(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function wo(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Lo=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function k_(t,e){return Lo(t).getPropertyValue(e)}const S_=["top","right","bottom","left"];function Ns(t,e,n){const r={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=S_[a];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const C_=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function E_(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=r;let u=!1,d,h;if(C_(a,o,t.target))d=a,h=o;else{const m=e.getBoundingClientRect();d=r.clientX-m.left,h=r.clientY-m.top,u=!0}return{x:d,y:h,box:u}}function xs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,a=Lo(n),o=a.boxSizing==="border-box",u=Ns(a,"padding"),d=Ns(a,"border","width"),{x:h,y:m,box:g}=E_(t,n),y=u.left+(g&&d.left),b=u.top+(g&&d.top);let{width:N,height:j}=e;return o&&(N-=u.width+d.width,j-=u.height+d.height),{x:Math.round((h-y)/N*n.width/r),y:Math.round((m-b)/j*n.height/r)}}function P_(t,e,n){let r,a;if(e===void 0||n===void 0){const o=t&&ed(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const u=o.getBoundingClientRect(),d=Lo(o),h=Ns(d,"border","width"),m=Ns(d,"padding");e=u.width-m.width-h.width,n=u.height-m.height-h.height,r=wo(d.maxWidth,o,"clientWidth"),a=wo(d.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||yo,maxHeight:a||yo}}const Ga=t=>Math.round(t*10)/10;function R_(t,e,n,r){const a=Lo(t),o=Ns(a,"margin"),u=wo(a.maxWidth,t,"clientWidth")||yo,d=wo(a.maxHeight,t,"clientHeight")||yo,h=P_(t,e,n);let{width:m,height:g}=h;if(a.boxSizing==="content-box"){const b=Ns(a,"border","width"),N=Ns(a,"padding");m-=N.width+b.width,g-=N.height+b.height}return m=Math.max(0,m-o.width),g=Math.max(0,r?m/r:g-o.height),m=Ga(Math.min(m,u,h.maxWidth)),g=Ga(Math.min(g,d,h.maxHeight)),m&&!g&&(g=Ga(m/2)),(e!==void 0||n!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,m=Ga(Math.floor(g*r))),{width:m,height:g}}function Jm(t,e,n){const r=e||1,a=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const u=t.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${t.height}px`,u.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||u.height!==a||u.width!==o?(t.currentDevicePixelRatio=r,u.height=a,u.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const T_=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Zu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Zm(t,e){const n=k_(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ys(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function M_(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function D_(t,e,n,r){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},u=ys(t,a,n),d=ys(a,o,n),h=ys(o,e,n),m=ys(u,d,n),g=ys(d,h,n);return ys(m,g,n)}const A_=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},O_=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function or(t,e,n){return t?A_(e,n):O_()}function Jg(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Zg(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ex(t){return t==="angle"?{between:Vu,compare:O1,normalize:Dt}:{between:_n,compare:(e,n)=>e-n,normalize:e=>e}}function ep({start:t,end:e,count:n,loop:r,style:a}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:a}}function F_(t,e,n){const{property:r,start:a,end:o}=n,{between:u,normalize:d}=ex(r),h=e.length;let{start:m,end:g,loop:y}=t,b,N;if(y){for(m+=h,g+=h,b=0,N=h;b<N&&u(d(e[m%h][r]),a,o);++b)m--,g--;m%=h,g%=h}return g<m&&(g+=h),{start:m,end:g,loop:y,style:t.style}}function tx(t,e,n){if(!n)return[t];const{property:r,start:a,end:o}=n,u=e.length,{compare:d,between:h,normalize:m}=ex(r),{start:g,end:y,loop:b,style:N}=F_(t,e,n),j=[];let _=!1,w=null,P,k,R;const M=()=>h(a,R,P)&&d(a,R)!==0,F=()=>d(o,P)===0||h(o,R,P),V=()=>_||M(),z=()=>!_||F();for(let D=g,H=g;D<=y;++D)k=e[D%u],!k.skip&&(P=m(k[r]),P!==R&&(_=h(P,a,o),w===null&&V()&&(w=d(P,a)===0?D:H),w!==null&&z()&&(j.push(ep({start:w,end:D,loop:b,count:u,style:N})),w=null),H=D,R=P));return w!==null&&j.push(ep({start:w,end:y,loop:b,count:u,style:N})),j}function nx(t,e){const n=[],r=t.segments;for(let a=0;a<r.length;a++){const o=tx(r[a],t.points,e);o.length&&n.push(...o)}return n}function L_(t,e,n,r){let a=0,o=e-1;if(n&&!r)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function I_(t,e,n,r){const a=t.length,o=[];let u=e,d=t[e],h;for(h=e+1;h<=n;++h){const m=t[h%a];m.skip||m.stop?d.skip||(r=!1,o.push({start:e%a,end:(h-1)%a,loop:r}),e=u=m.stop?h:null):(u=h,d.skip&&(e=h)),d=m}return u!==null&&o.push({start:e%a,end:u%a,loop:r}),o}function z_(t,e){const n=t.points,r=t.options.spanGaps,a=n.length;if(!a)return[];const o=!!t._loop,{start:u,end:d}=L_(n,a,o,r);if(r===!0)return tp(t,[{start:u,end:d,loop:o}],n,e);const h=d<u?d+a:d,m=!!t._fullLoop&&u===0&&d===a-1;return tp(t,I_(n,u,h,m),n,e)}function tp(t,e,n,r){return!r||!r.setContext||!n?e:B_(t,e,n,r)}function B_(t,e,n,r){const a=t._chart.getContext(),o=np(t.options),{_datasetIndex:u,options:{spanGaps:d}}=t,h=n.length,m=[];let g=o,y=e[0].start,b=y;function N(j,_,w,P){const k=d?-1:1;if(j!==_){for(j+=h;n[j%h].skip;)j-=k;for(;n[_%h].skip;)_+=k;j%h!==_%h&&(m.push({start:j%h,end:_%h,loop:w,style:P}),g=P,y=_%h)}}for(const j of e){y=d?y:j.start;let _=n[y%h],w;for(b=y+1;b<=j.end;b++){const P=n[b%h];w=np(r.setContext(Es(a,{type:"segment",p0:_,p1:P,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:u}))),U_(w,g)&&N(y,b-1,j.loop,g),_=P,g=w}y<b-1&&N(y,b-1,j.loop,g)}return m}function np(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function U_(t,e){if(!e)return!1;const n=[],r=function(a,o){return Ku(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Ja(t,e,n){return t.options.clip?t[n]:e[n]}function $_(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Ja(n,e,"left"),right:Ja(n,e,"right"),top:Ja(r,e,"top"),bottom:Ja(r,e,"bottom")}:e}function sx(t,e){const n=e._clip;if(n.disabled)return!1;const r=$_(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class H_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,a){const o=n.listeners[a],u=n.duration;o.forEach(d=>d({chart:e,initial:n.initial,numSteps:u,currentStep:Math.min(r-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Ug.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,a)=>{if(!r.running||!r.items.length)return;const o=r.items;let u=o.length-1,d=!1,h;for(;u>=0;--u)h=o[u],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),d=!0):(o[u]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,r,e,"progress")),o.length||(r.running=!1,this._notify(a,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,a)=>Math.max(r,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let a=r.length-1;for(;a>=0;--a)r[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yn=new H_;const sp="transparent",W_={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=qm(t||sp),a=r.valid&&qm(e||sp);return a&&a.valid?a.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class V_{constructor(e,n,r,a){const o=n[r];a=Xa([e.to,a,o,e.from]);const u=Xa([e.from,o,a]);this._active=!0,this._fn=e.fn||W_[e.type||typeof u],this._easing=pi[e.easing]||pi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=u,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const a=this._target[this._prop],o=r-this._start,u=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(u,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Xa([e.to,n,a,e.from]),this._from=Xa([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,a=this._prop,o=this._from,u=this._loop,d=this._to;let h;if(this._active=o!==d&&(u||n<r),!this._active){this._target[a]=d,this._notify(!0);return}if(n<0){this._target[a]=o;return}h=n/r%2,h=u&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(o,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let a=0;a<r.length;a++)r[a][n]()}}class rx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Se(e))return;const n=Object.keys(Ye.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!Se(o))return;const u={};for(const d of n)u[d]=o[d];(Je(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!r.has(d))&&r.set(d,u)})})}_animateOptions(e,n){const r=n.options,a=Y_(e,r);if(!a)return[];const o=this._createAnimations(a,r);return r.$shared&&q_(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,a=[],o=e.$animations||(e.$animations={}),u=Object.keys(n),d=Date.now();let h;for(h=u.length-1;h>=0;--h){const m=u[h];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const g=n[m];let y=o[m];const b=r.get(m);if(y)if(b&&y.active()){y.update(b,g,d);continue}else y.cancel();if(!b||!b.duration){e[m]=g;continue}o[m]=y=new V_(b,e,m,g),a.push(y)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return yn.add(this._chart,r),!0}}function q_(t,e){const n=[],r=Object.keys(e);for(let a=0;a<r.length;a++){const o=t[r[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Y_(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function rp(t,e){const n=t&&t.options||{},r=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:a,end:r?a:o}}function K_(t,e,n){if(n===!1)return!1;const r=rp(t,n),a=rp(e,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function X_(t){let e,n,r,a;return Se(t)?(e=t.top,n=t.right,r=t.bottom,a=t.left):e=n=r=a=t,{top:e,right:n,bottom:r,left:a,disabled:t===!1}}function ix(t,e){const n=[],r=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=r.length;a<o;++a)n.push(r[a].index);return n}function ip(t,e,n,r={}){const a=t.keys,o=r.mode==="single";let u,d,h,m;if(e===null)return;let g=!1;for(u=0,d=a.length;u<d;++u){if(h=+a[u],h===n){if(g=!0,r.all)continue;break}m=t.values[h],mt(m)&&(o||e===0||lr(e)===lr(m))&&(e+=m)}return!g&&!r.all?0:e}function Q_(t,e){const{iScale:n,vScale:r}=e,a=n.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",u=Object.keys(t),d=new Array(u.length);let h,m,g;for(h=0,m=u.length;h<m;++h)g=u[h],d[h]={[a]:g,[o]:t[g]};return d}function Qc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function G_(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function J_(t){const{min:e,max:n,minDefined:r,maxDefined:a}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Z_(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function ap(t,e,n,r){for(const a of e.getMatchingVisibleMetas(r).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function op(t,e){const{chart:n,_cachedMeta:r}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:u,index:d}=r,h=o.axis,m=u.axis,g=G_(o,u,r),y=e.length;let b;for(let N=0;N<y;++N){const j=e[N],{[h]:_,[m]:w}=j,P=j._stacks||(j._stacks={});b=P[m]=Z_(a,g,_),b[d]=w,b._top=ap(b,u,!0,r.type),b._bottom=ap(b,u,!1,r.type);const k=b._visualValues||(b._visualValues={});k[d]=w}}function Gc(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function ej(t,e){return Es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function tj(t,e,n){return Es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ii(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const Jc=t=>t==="reset"||t==="none",lp=(t,e)=>e?t:Object.assign({},t),nj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ix(n,!0),values:null};class sj{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ii(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),a=(y,b,N,j)=>y==="x"?b:y==="r"?j:N,o=n.xAxisID=ke(r.xAxisID,Gc(e,"x")),u=n.yAxisID=ke(r.yAxisID,Gc(e,"y")),d=n.rAxisID=ke(r.rAxisID,Gc(e,"r")),h=n.indexAxis,m=n.iAxisID=a(h,o,u,d),g=n.vAxisID=a(h,u,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Hm(this._data,this),e._stacked&&ii(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Se(n)){const a=this._cachedMeta;this._data=Q_(n,a)}else if(r!==n){if(r){Hm(r,this);const a=this._cachedMeta;ii(a),a._parsed=[]}n&&Object.isExtensible(n)&&z1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Qc(n.vScale,n),n.stack!==r.stack&&(a=!0,ii(n),n.stack=r.stack),this._resyncElements(e),(a||o!==n._stacked)&&(op(this,n._parsed),n._stacked=Qc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:a}=this,{iScale:o,_stacked:u}=r,d=o.axis;let h=e===0&&n===a.length?!0:r._sorted,m=e>0&&r._parsed[e-1],g,y,b;if(this._parsing===!1)r._parsed=a,r._sorted=!0,b=a;else{Je(a[e])?b=this.parseArrayData(r,a,e,n):Se(a[e])?b=this.parseObjectData(r,a,e,n):b=this.parsePrimitiveData(r,a,e,n);const N=()=>y[d]===null||m&&y[d]<m[d];for(g=0;g<n;++g)r._parsed[g+e]=y=b[g],h&&(N()&&(h=!1),m=y);r._sorted=h}u&&op(this,b)}parsePrimitiveData(e,n,r,a){const{iScale:o,vScale:u}=e,d=o.axis,h=u.axis,m=o.getLabels(),g=o===u,y=new Array(a);let b,N,j;for(b=0,N=a;b<N;++b)j=b+r,y[b]={[d]:g||o.parse(m[j],j),[h]:u.parse(n[j],j)};return y}parseArrayData(e,n,r,a){const{xScale:o,yScale:u}=e,d=new Array(a);let h,m,g,y;for(h=0,m=a;h<m;++h)g=h+r,y=n[g],d[h]={x:o.parse(y[0],g),y:u.parse(y[1],g)};return d}parseObjectData(e,n,r,a){const{xScale:o,yScale:u}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,m=new Array(a);let g,y,b,N;for(g=0,y=a;g<y;++g)b=g+r,N=n[b],m[g]={x:o.parse(go(N,d),b),y:u.parse(go(N,h),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const a=this.chart,o=this._cachedMeta,u=n[e.axis],d={keys:ix(a,!0),values:n._stacks[e.axis]._visualValues};return ip(d,u,o.index,{mode:r})}updateRangeFromParsed(e,n,r,a){const o=r[n.axis];let u=o===null?NaN:o;const d=a&&r._stacks[n.axis];a&&d&&(a.values=d,u=ip(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,n){const r=this._cachedMeta,a=r._parsed,o=r._sorted&&e===r.iScale,u=a.length,d=this._getOtherScale(e),h=nj(n,r,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=J_(d);let b,N;function j(){N=a[b];const _=N[d.axis];return!mt(N[e.axis])||g>_||y<_}for(b=0;b<u&&!(!j()&&(this.updateRangeFromParsed(m,e,N,h),o));++b);if(o){for(b=u-1;b>=0;--b)if(!j()){this.updateRangeFromParsed(m,e,N,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let a,o,u;for(a=0,o=n.length;a<o;++a)u=n[a][e.axis],mt(u)&&r.push(u);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=X_(ke(this.options.clip,K_(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,a=r.data||[],o=n.chartArea,u=[],d=this._drawStart||0,h=this._drawCount||a.length-d,m=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,o,d,h),g=d;g<d+h;++g){const y=a[g];y.hidden||(y.active&&m?u.push(y):y.draw(e,o))}for(g=0;g<u.length;++g)u[g].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];o=u.$context||(u.$context=tj(this.getContext(),e,u)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=ej(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const a=n==="active",o=this._cachedDataOpts,u=e+"-"+n,d=o[u],h=this.enableOptionSharing&&xo(r);if(d)return lp(d,h);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),y=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),g),N=Object.keys(Ye.elements[e]),j=()=>this.getContext(r,a,n),_=m.resolveNamedOptions(b,N,j,y);return _.$shared&&(_.$shared=h,o[u]=Object.freeze(lp(_,h))),_}_resolveAnimations(e,n,r){const a=this.chart,o=this._cachedDataOpts,u=`animation-${n}`,d=o[u];if(d)return d;let h;if(a.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,n),b=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(b,this.getContext(e,r,n))}const m=new rx(a,h&&h.animations);return h&&h._cacheable&&(o[u]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Jc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(r),u=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:u}}updateElement(e,n,r,a){Jc(a)?Object.assign(e,r):this._resolveAnimations(n,a).update(e,r)}updateSharedOptions(e,n,r){e&&!Jc(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,r,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[d,h,m]of this._syncList)this[d](h,m);this._syncList=[];const a=r.length,o=n.length,u=Math.min(o,a);u&&this.parse(0,u),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,r=!0){const a=this._cachedMeta,o=a.data,u=e+n;let d;const h=m=>{for(m.length+=n,d=m.length-1;d>=u;d--)m[d]=m[d-n]};for(h(o),d=e;d<u;++d)o[d]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,a){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const a=r._parsed.splice(e,n);r._stacked&&ii(r,a)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,a]=e;this[n](r,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function gs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class td{static override(e){Object.assign(td.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return gs()}parse(){return gs()}format(){return gs()}add(){return gs()}diff(){return gs()}startOf(){return gs()}endOf(){return gs()}}var rj={_date:td};function ij(t,e,n,r){const{controller:a,data:o,_sorted:u}=t,d=a._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&u&&o.length){const m=d._reversePixels?L1:_u;if(r){if(a._sharedOptions){const g=o[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const b=m(o,e,n-y),N=m(o,e,n+y);return{lo:b.lo,hi:N.hi}}}}else{const g=m(o,e,n);if(h){const{vScale:y}=a._cachedMeta,{_parsed:b}=t,N=b.slice(0,g.lo+1).reverse().findIndex(_=>!$e(_[y.axis]));g.lo-=Math.max(0,N);const j=b.slice(g.hi).findIndex(_=>!$e(_[y.axis]));g.hi+=Math.max(0,j)}return g}}return{lo:0,hi:o.length-1}}function Io(t,e,n,r,a){const o=t.getSortedVisibleDatasetMetas(),u=n[e];for(let d=0,h=o.length;d<h;++d){const{index:m,data:g}=o[d],{lo:y,hi:b}=ij(o[d],e,u,a);for(let N=y;N<=b;++N){const j=g[N];j.skip||r(j,m,N)}}}function aj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,a){const o=e?Math.abs(r.x-a.x):0,u=n?Math.abs(r.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function Zc(t,e,n,r,a){const o=[];return!a&&!t.isPointInArea(e)||Io(t,n,e,function(d,h,m){!a&&!Ni(d,t.chartArea,0)||d.inRange(e.x,e.y,r)&&o.push({element:d,datasetIndex:h,index:m})},!0),o}function oj(t,e,n,r){let a=[];function o(u,d,h){const{startAngle:m,endAngle:g}=u.getProps(["startAngle","endAngle"],r),{angle:y}=zg(u,{x:e.x,y:e.y});Vu(y,m,g)&&a.push({element:u,datasetIndex:d,index:h})}return Io(t,n,e,o),a}function lj(t,e,n,r,a,o){let u=[];const d=aj(n);let h=Number.POSITIVE_INFINITY;function m(g,y,b){const N=g.inRange(e.x,e.y,a);if(r&&!N)return;const j=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(j))&&!N)return;const w=d(e,j);w<h?(u=[{element:g,datasetIndex:y,index:b}],h=w):w===h&&u.push({element:g,datasetIndex:y,index:b})}return Io(t,n,e,m),u}function eu(t,e,n,r,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?oj(t,e,n,a):lj(t,e,n,r,a,o)}function cp(t,e,n,r,a){const o=[],u=n==="x"?"inXRange":"inYRange";let d=!1;return Io(t,n,e,(h,m,g)=>{h[u]&&h[u](e[n],a)&&(o.push({element:h,datasetIndex:m,index:g}),d=d||h.inRange(e.x,e.y,a))}),r&&!d?[]:o}var cj={modes:{index(t,e,n,r){const a=xs(e,t),o=n.axis||"x",u=n.includeInvisible||!1,d=n.intersect?Zc(t,a,o,r,u):eu(t,a,o,!1,r,u),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=d[0].index,y=m.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:m.index,index:g})}),h):[]},dataset(t,e,n,r){const a=xs(e,t),o=n.axis||"xy",u=n.includeInvisible||!1;let d=n.intersect?Zc(t,a,o,r,u):eu(t,a,o,!1,r,u);if(d.length>0){const h=d[0].datasetIndex,m=t.getDatasetMeta(h).data;d=[];for(let g=0;g<m.length;++g)d.push({element:m[g],datasetIndex:h,index:g})}return d},point(t,e,n,r){const a=xs(e,t),o=n.axis||"xy",u=n.includeInvisible||!1;return Zc(t,a,o,r,u)},nearest(t,e,n,r){const a=xs(e,t),o=n.axis||"xy",u=n.includeInvisible||!1;return eu(t,a,o,n.intersect,r,u)},x(t,e,n,r){const a=xs(e,t);return cp(t,a,"x",n.intersect,r)},y(t,e,n,r){const a=xs(e,t);return cp(t,a,"y",n.intersect,r)}}};const ax=["left","top","right","bottom"];function ai(t,e){return t.filter(n=>n.pos===e)}function up(t,e){return t.filter(n=>ax.indexOf(n.pos)===-1&&n.box.axis===e)}function oi(t,e){return t.sort((n,r)=>{const a=e?r:n,o=e?n:r;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function uj(t){const e=[];let n,r,a,o,u,d;for(n=0,r=(t||[]).length;n<r;++n)a=t[n],{position:o,options:{stack:u,stackWeight:d=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:u&&o+u,stackWeight:d});return e}function dj(t){const e={};for(const n of t){const{stack:r,pos:a,stackWeight:o}=n;if(!r||!ax.includes(a))continue;const u=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return e}function fj(t,e){const n=dj(t),{vBoxMaxWidth:r,hBoxMaxHeight:a}=e;let o,u,d;for(o=0,u=t.length;o<u;++o){d=t[o];const{fullSize:h}=d.box,m=n[d.stack],g=m&&d.stackWeight/m.weight;d.horizontal?(d.width=g?g*r:h&&e.availableWidth,d.height=a):(d.width=r,d.height=g?g*a:h&&e.availableHeight)}return n}function hj(t){const e=uj(t),n=oi(e.filter(m=>m.box.fullSize),!0),r=oi(ai(e,"left"),!0),a=oi(ai(e,"right")),o=oi(ai(e,"top"),!0),u=oi(ai(e,"bottom")),d=up(e,"x"),h=up(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:a.concat(h).concat(u).concat(d),chartArea:ai(e,"chartArea"),vertical:r.concat(a).concat(h),horizontal:o.concat(u).concat(d)}}function dp(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function ox(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mj(t,e,n,r){const{pos:a,box:o}=n,u=t.maxPadding;if(!Se(a)){n.size&&(t[a]-=n.size);const y=r[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?o.height:o.width),n.size=y.size/y.count,t[a]+=n.size}o.getPadding&&ox(u,o.getPadding());const d=Math.max(0,e.outerWidth-dp(u,t,"left","right")),h=Math.max(0,e.outerHeight-dp(u,t,"top","bottom")),m=d!==t.w,g=h!==t.h;return t.w=d,t.h=h,n.horizontal?{same:m,other:g}:{same:g,other:m}}function pj(t){const e=t.maxPadding;function n(r){const a=Math.max(e[r]-t[r],0);return t[r]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function gj(t,e){const n=e.maxPadding;function r(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(u=>{o[u]=Math.max(e[u],n[u])}),o}return r(t?["left","right"]:["top","bottom"])}function di(t,e,n,r){const a=[];let o,u,d,h,m,g;for(o=0,u=t.length,m=0;o<u;++o){d=t[o],h=d.box,h.update(d.width||e.w,d.height||e.h,gj(d.horizontal,e));const{same:y,other:b}=mj(e,n,d,r);m|=y&&a.length,g=g||b,h.fullSize||a.push(d)}return m&&di(a,e,n,r)||g}function Za(t,e,n,r,a){t.top=n,t.left=e,t.right=e+r,t.bottom=n+a,t.width=r,t.height=a}function fp(t,e,n,r){const a=n.padding;let{x:o,y:u}=e;for(const d of t){const h=d.box,m=r[d.stack]||{placed:0,weight:1},g=d.stackWeight/m.weight||1;if(d.horizontal){const y=e.w*g,b=m.size||h.height;xo(m.start)&&(u=m.start),h.fullSize?Za(h,a.left,u,n.outerWidth-a.right-a.left,b):Za(h,e.left+m.placed,u,y,b),m.start=u,m.placed+=y,u=h.bottom}else{const y=e.h*g,b=m.size||h.width;xo(m.start)&&(o=m.start),h.fullSize?Za(h,o,a.top,b,n.outerHeight-a.bottom-a.top):Za(h,o,e.top+m.placed,b,y),m.start=o,m.placed+=y,o=h.right}}e.x=o,e.y=u}var Ut={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const a=Ht(t.options.layout.padding),o=Math.max(e-a.width,0),u=Math.max(n-a.height,0),d=hj(t.boxes),h=d.vertical,m=d.horizontal;Me(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const g=h.reduce((_,w)=>w.box.options&&w.box.options.display===!1?_:_+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/g,hBoxMaxHeight:u/2}),b=Object.assign({},a);ox(b,Ht(r));const N=Object.assign({maxPadding:b,w:o,h:u,x:a.left,y:a.top},a),j=fj(h.concat(m),y);di(d.fullSize,N,y,j),di(h,N,y,j),di(m,N,y,j)&&di(h,N,y,j),pj(N),fp(d.leftAndTop,N,y,j),N.x+=N.w,N.y+=N.h,fp(d.rightAndBottom,N,y,j),t.chartArea={left:N.left,top:N.top,right:N.left+N.w,bottom:N.top+N.h,height:N.h,width:N.w},Me(d.chartArea,_=>{const w=_.box;Object.assign(w,t.chartArea),w.update(N.w,N.h,{left:0,top:0,right:0,bottom:0})})}};class lx{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,a){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):r)}}isAttached(e){return!0}updateConfig(e){}}class xj extends lx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lo="$chartjs",yj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hp=t=>t===null||t==="";function bj(t,e){const n=t.style,r=t.getAttribute("height"),a=t.getAttribute("width");if(t[lo]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",hp(a)){const o=Zm(t,"width");o!==void 0&&(t.width=o)}if(hp(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=Zm(t,"height");o!==void 0&&(t.height=o)}return t}const cx=T_?{passive:!0}:!1;function vj(t,e,n){t&&t.addEventListener(e,n,cx)}function wj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,cx)}function _j(t,e){const n=yj[t.type]||t.type,{x:r,y:a}=xs(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:a!==void 0?a:null}}function _o(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function jj(t,e,n){const r=t.canvas,a=new MutationObserver(o=>{let u=!1;for(const d of o)u=u||_o(d.addedNodes,r),u=u&&!_o(d.removedNodes,r);u&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function Nj(t,e,n){const r=t.canvas,a=new MutationObserver(o=>{let u=!1;for(const d of o)u=u||_o(d.removedNodes,r),u=u&&!_o(d.addedNodes,r);u&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Si=new Map;let mp=0;function ux(){const t=window.devicePixelRatio;t!==mp&&(mp=t,Si.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function kj(t,e){Si.size||window.addEventListener("resize",ux),Si.set(t,e)}function Sj(t){Si.delete(t),Si.size||window.removeEventListener("resize",ux)}function Cj(t,e,n){const r=t.canvas,a=r&&ed(r);if(!a)return;const o=$g((d,h)=>{const m=a.clientWidth;n(d,h),m<a.clientWidth&&n()},window),u=new ResizeObserver(d=>{const h=d[0],m=h.contentRect.width,g=h.contentRect.height;m===0&&g===0||o(m,g)});return u.observe(a),kj(t,o),u}function tu(t,e,n){n&&n.disconnect(),e==="resize"&&Sj(t)}function Ej(t,e,n){const r=t.canvas,a=$g(o=>{t.ctx!==null&&n(_j(o,t))},t);return vj(r,e,a),a}class Pj extends lx{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(bj(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[lo])return!1;const r=n[lo].initial;["height","width"].forEach(o=>{const u=r[o];$e(u)?n.removeAttribute(o):n.setAttribute(o,u)});const a=r.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[lo],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),u={attach:jj,detach:Nj,resize:Cj}[n]||Ej;a[n]=u(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),a=r[n];if(!a)return;({attach:tu,detach:tu,resize:tu}[n]||wj)(e,n,a),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,a){return R_(e,n,r,a)}isAttached(e){const n=e&&ed(e);return!!(n&&n.isConnected)}}function Rj(t){return!Zu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xj:Pj}class kn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return bo(this.x)&&bo(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const a={};return e.forEach(o=>{a[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),a}}function Tj(t,e){const n=t.options.ticks,r=Mj(t),a=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?Aj(e):[],u=o.length,d=o[0],h=o[u-1],m=[];if(u>a)return Oj(e,m,o,u/a),m;const g=Dj(o,e,a);if(u>0){let y,b;const N=u>1?Math.round((h-d)/(u-1)):null;for(eo(e,m,g,$e(N)?0:d-N,d),y=0,b=u-1;y<b;y++)eo(e,m,g,o[y],o[y+1]);return eo(e,m,g,h,$e(N)?e.length:h+N),m}return eo(e,m,g),m}function Mj(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(r,a))}function Dj(t,e,n){const r=Fj(t),a=e.length/n;if(!r)return Math.max(a,1);const o=R1(r);for(let u=0,d=o.length-1;u<d;u++){const h=o[u];if(h>a)return h}return Math.max(a,1)}function Aj(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Oj(t,e,n,r){let a=0,o=n[0],u;for(r=Math.ceil(r),u=0;u<t.length;u++)u===o&&(e.push(t[u]),a++,o=n[a*r])}function eo(t,e,n,r,a){const o=ke(r,0),u=Math.min(ke(a,t.length),t.length);let d=0,h,m,g;for(n=Math.ceil(n),a&&(h=a-r,n=h/Math.floor(h/n)),g=o;g<0;)d++,g=Math.round(o+d*n);for(m=Math.max(o,0);m<u;m++)m===g&&(e.push(t[m]),d++,g=Math.round(o+d*n))}function Fj(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Lj=t=>t==="left"?"right":t==="right"?"left":t,pp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,gp=(t,e)=>Math.min(e||t,t);function xp(t,e){const n=[],r=t.length/e,a=t.length;let o=0;for(;o<a;o+=r)n.push(t[Math.floor(o)]);return n}function Ij(t,e,n){const r=t.ticks.length,a=Math.min(e,r-1),o=t._startPixel,u=t._endPixel,d=1e-6;let h=t.getPixelForTick(a),m;if(!(n&&(r===1?m=Math.max(h-o,u-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(a-1))/2,h+=a<e?m:-m,h<o-d||h>u+d)))return h}function zj(t,e){Me(t,n=>{const r=n.gc,a=r.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[r[o]];r.splice(0,a)}})}function li(t){return t.drawTicks?t.tickLength:0}function yp(t,e){if(!t.display)return 0;const n=ht(t.font,e),r=Ht(t.padding);return(Je(t.text)?t.text.length:1)*n.lineHeight+r.height}function Bj(t,e){return Es(t,{scale:e,type:"scale"})}function Uj(t,e,n){return Es(t,{tick:n,index:e,type:"tick"})}function $j(t,e,n){let r=Yu(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Lj(r)),r}function Hj(t,e,n,r){const{top:a,left:o,bottom:u,right:d,chart:h}=t,{chartArea:m,scales:g}=h;let y=0,b,N,j;const _=u-a,w=d-o;if(t.isHorizontal()){if(N=dt(r,o,d),Se(n)){const P=Object.keys(n)[0],k=n[P];j=g[P].getPixelForValue(k)+_-e}else n==="center"?j=(m.bottom+m.top)/2+_-e:j=pp(t,n,e);b=d-o}else{if(Se(n)){const P=Object.keys(n)[0],k=n[P];N=g[P].getPixelForValue(k)-w+e}else n==="center"?N=(m.left+m.right)/2-w+e:N=pp(t,n,e);j=dt(r,u,a),y=n==="left"?-it:it}return{titleX:N,titleY:j,maxWidth:b,rotation:y}}class xr extends kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:a}=this;return e=rn(e,Number.POSITIVE_INFINITY),n=rn(n,Number.NEGATIVE_INFINITY),r=rn(r,Number.POSITIVE_INFINITY),a=rn(a,Number.NEGATIVE_INFINITY),{min:rn(e,r),max:rn(n,a),minDefined:mt(e),maxDefined:mt(n)}}getMinMax(e){let{min:n,max:r,minDefined:a,maxDefined:o}=this.getUserBounds(),u;if(a&&o)return{min:n,max:r};const d=this.getMatchingVisibleMetas();for(let h=0,m=d.length;h<m;++h)u=d[h].controller.getMinMax(this,e),a||(n=Math.min(n,u.min)),o||(r=Math.max(r,u.max));return n=o&&n>r?r:n,r=a&&n>r?n:r,{min:rn(n,rn(r,n)),max:rn(r,rn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:a,grace:o,ticks:u}=this.options,d=u.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=l_(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?xp(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=Tj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Le(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,a,o;for(r=0,a=e.length;r<a;r++)o=e[r],o.label=Le(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=gp(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let u=a,d,h,m;if(!this._isVisible()||!n.display||a>=o||r<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),y=g.widest.width,b=g.highest.height,N=kt(this.chart.width-y,0,this.maxWidth);d=e.offset?this.maxWidth/r:N/(r-1),y+6>d&&(d=N/(r-(e.offset?.5:1)),h=this.maxHeight-li(e.grid)-n.padding-yp(e.title,this.chart.options.font),m=Math.sqrt(y*y+b*b),u=A1(Math.min(Math.asin(kt((g.highest.height+6)/d,-1,1)),Math.asin(kt(h/m,-1,1))-Math.asin(kt(b/m,-1,1)))),u=Math.max(a,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:a,grid:o}}=this,u=this._isVisible(),d=this.isHorizontal();if(u){const h=yp(a,n.options.font);if(d?(e.width=this.maxWidth,e.height=li(o)+h):(e.height=this.maxHeight,e.width=li(o)+h),r.display&&this.ticks.length){const{first:m,last:g,widest:y,highest:b}=this._getLabelSizes(),N=r.padding*2,j=ws(this.labelRotation),_=Math.cos(j),w=Math.sin(j);if(d){const P=r.mirror?0:w*y.width+_*b.height;e.height=Math.min(this.maxHeight,e.height+P+N)}else{const P=r.mirror?0:_*y.width+w*b.height;e.width=Math.min(this.maxWidth,e.width+P+N)}this._calculatePadding(m,g,w,_)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,a){const{ticks:{align:o,padding:u},position:d}=this.options,h=this.labelRotation!==0,m=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,N=0;h?m?(b=a*e.width,N=r*n.height):(b=r*e.height,N=a*n.width):o==="start"?N=n.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,N=n.width/2),this.paddingLeft=Math.max((b-g+u)*this.width/(this.width-g),0),this.paddingRight=Math.max((N-y+u)*this.width/(this.width-y),0)}else{let g=n.height/2,y=e.height/2;o==="start"?(g=0,y=e.height):o==="end"&&(g=n.height,y=0),this.paddingTop=g+u,this.paddingBottom=y+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)$e(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=xp(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:a,_longestTextCache:o}=this,u=[],d=[],h=Math.floor(n/gp(n,r));let m=0,g=0,y,b,N,j,_,w,P,k,R,M,F;for(y=0;y<n;y+=h){if(j=e[y].label,_=this._resolveTickFontOptions(y),a.font=w=_.string,P=o[w]=o[w]||{data:{},gc:[]},k=_.lineHeight,R=M=0,!$e(j)&&!Je(j))R=Km(a,P.data,P.gc,R,j),M=k;else if(Je(j))for(b=0,N=j.length;b<N;++b)F=j[b],!$e(F)&&!Je(F)&&(R=Km(a,P.data,P.gc,R,F),M+=k);u.push(R),d.push(M),m=Math.max(R,m),g=Math.max(M,g)}zj(o,n);const V=u.indexOf(m),z=d.indexOf(g),D=H=>({width:u[H]||0,height:d[H]||0});return{first:D(0),last:D(n-1),widest:D(V),highest:D(z),widths:u,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return F1(this._alignToPixels?ps(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Uj(this.getContext(),e,r))}return this.$context||(this.$context=Bj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ws(this.labelRotation),r=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),u=e.autoSkipPadding||0,d=o?o.widest.width+u:0,h=o?o.highest.height+u:0;return this.isHorizontal()?h*r>d*a?d/r:h/a:h*a<d*r?h/r:d/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,a=this.options,{grid:o,position:u,border:d}=a,h=o.offset,m=this.isHorizontal(),y=this.ticks.length+(h?1:0),b=li(o),N=[],j=d.setContext(this.getContext()),_=j.display?j.width:0,w=_/2,P=function(fe){return ps(r,fe,_)};let k,R,M,F,V,z,D,H,Q,ne,Y,se;if(u==="top")k=P(this.bottom),z=this.bottom-b,H=k-w,ne=P(e.top)+w,se=e.bottom;else if(u==="bottom")k=P(this.top),ne=e.top,se=P(e.bottom)-w,z=k+w,H=this.top+b;else if(u==="left")k=P(this.right),V=this.right-b,D=k-w,Q=P(e.left)+w,Y=e.right;else if(u==="right")k=P(this.left),Q=e.left,Y=P(e.right)-w,V=k+w,D=this.left+b;else if(n==="x"){if(u==="center")k=P((e.top+e.bottom)/2+.5);else if(Se(u)){const fe=Object.keys(u)[0],le=u[fe];k=P(this.chart.scales[fe].getPixelForValue(le))}ne=e.top,se=e.bottom,z=k+w,H=z+b}else if(n==="y"){if(u==="center")k=P((e.left+e.right)/2);else if(Se(u)){const fe=Object.keys(u)[0],le=u[fe];k=P(this.chart.scales[fe].getPixelForValue(le))}V=k-w,D=V-b,Q=e.left,Y=e.right}const ue=ke(a.ticks.maxTicksLimit,y),ae=Math.max(1,Math.ceil(y/ue));for(R=0;R<y;R+=ae){const fe=this.getContext(R),le=o.setContext(fe),O=d.setContext(fe),K=le.lineWidth,$=le.color,E=O.dash||[],q=O.dashOffset,L=le.tickWidth,G=le.tickColor,pe=le.tickBorderDash||[],xe=le.tickBorderDashOffset;M=Ij(this,R,h),M!==void 0&&(F=ps(r,M,K),m?V=D=Q=Y=F:z=H=ne=se=F,N.push({tx1:V,ty1:z,tx2:D,ty2:H,x1:Q,y1:ne,x2:Y,y2:se,width:K,color:$,borderDash:E,borderDashOffset:q,tickWidth:L,tickColor:G,tickBorderDash:pe,tickBorderDashOffset:xe}))}return this._ticksLength=y,this._borderValue=k,N}_computeLabelItems(e){const n=this.axis,r=this.options,{position:a,ticks:o}=r,u=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:m,padding:g,mirror:y}=o,b=li(r.grid),N=b+g,j=y?-g:N,_=-ws(this.labelRotation),w=[];let P,k,R,M,F,V,z,D,H,Q,ne,Y,se="middle";if(a==="top")V=this.bottom-j,z=this._getXAxisLabelAlignment();else if(a==="bottom")V=this.top+j,z=this._getXAxisLabelAlignment();else if(a==="left"){const ae=this._getYAxisLabelAlignment(b);z=ae.textAlign,F=ae.x}else if(a==="right"){const ae=this._getYAxisLabelAlignment(b);z=ae.textAlign,F=ae.x}else if(n==="x"){if(a==="center")V=(e.top+e.bottom)/2+N;else if(Se(a)){const ae=Object.keys(a)[0],fe=a[ae];V=this.chart.scales[ae].getPixelForValue(fe)+N}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")F=(e.left+e.right)/2-N;else if(Se(a)){const ae=Object.keys(a)[0],fe=a[ae];F=this.chart.scales[ae].getPixelForValue(fe)}z=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(h==="start"?se="top":h==="end"&&(se="bottom"));const ue=this._getLabelSizes();for(P=0,k=d.length;P<k;++P){R=d[P],M=R.label;const ae=o.setContext(this.getContext(P));D=this.getPixelForTick(P)+o.labelOffset,H=this._resolveTickFontOptions(P),Q=H.lineHeight,ne=Je(M)?M.length:1;const fe=ne/2,le=ae.color,O=ae.textStrokeColor,K=ae.textStrokeWidth;let $=z;u?(F=D,z==="inner"&&(P===k-1?$=this.options.reverse?"left":"right":P===0?$=this.options.reverse?"right":"left":$="center"),a==="top"?m==="near"||_!==0?Y=-ne*Q+Q/2:m==="center"?Y=-ue.highest.height/2-fe*Q+Q:Y=-ue.highest.height+Q/2:m==="near"||_!==0?Y=Q/2:m==="center"?Y=ue.highest.height/2-fe*Q:Y=ue.highest.height-ne*Q,y&&(Y*=-1),_!==0&&!ae.showLabelBackdrop&&(F+=Q/2*Math.sin(_))):(V=D,Y=(1-ne)*Q/2);let E;if(ae.showLabelBackdrop){const q=Ht(ae.backdropPadding),L=ue.heights[P],G=ue.widths[P];let pe=Y-q.top,xe=0-q.left;switch(se){case"middle":pe-=L/2;break;case"bottom":pe-=L;break}switch(z){case"center":xe-=G/2;break;case"right":xe-=G;break;case"inner":P===k-1?xe-=G:P>0&&(xe-=G/2);break}E={left:xe,top:pe,width:G+q.width,height:L+q.height,color:ae.backdropColor}}w.push({label:M,font:H,textOffset:Y,options:{rotation:_,color:le,strokeColor:O,strokeWidth:K,textAlign:$,textBaseline:se,translation:[F,V],backdrop:E}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ws(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:a,padding:o}}=this.options,u=this._getLabelSizes(),d=e+o,h=u.widest.width;let m,g;return n==="left"?a?(g=this.right+o,r==="near"?m="left":r==="center"?(m="center",g+=h/2):(m="right",g+=h)):(g=this.right-d,r==="near"?m="right":r==="center"?(m="center",g-=h/2):(m="left",g=this.left)):n==="right"?a?(g=this.left+o,r==="near"?m="right":r==="center"?(m="center",g-=h/2):(m="left",g-=h)):(g=this.left+d,r==="near"?m="left":r==="center"?(m="center",g+=h/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:a,width:o,height:u}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,a,o,u),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,u;const d=(h,m,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(m.x,m.y),r.stroke(),r.restore())};if(n.display)for(o=0,u=a.length;o<u;++o){const h=a[o];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:a}}=this,o=r.setContext(this.getContext()),u=r.display?o.width:0;if(!u)return;const d=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,g,y,b;this.isHorizontal()?(m=ps(e,this.left,u)-u/2,g=ps(e,this.right,d)+d/2,y=b=h):(y=ps(e,this.top,u)-u/2,b=ps(e,this.bottom,d)+d/2,m=g=h),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,y),n.lineTo(g,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,a=this._computeLabelArea();a&&Oo(r,a);const o=this.getLabelItems(e);for(const u of o){const d=u.options,h=u.font,m=u.label,g=u.textOffset;ki(r,m,0,g,h,d)}a&&Fo(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:a}}=this;if(!r.display)return;const o=ht(r.font),u=Ht(r.padding),d=r.align;let h=o.lineHeight/2;n==="bottom"||n==="center"||Se(n)?(h+=u.bottom,Je(r.text)&&(h+=o.lineHeight*(r.text.length-1))):h+=u.top;const{titleX:m,titleY:g,maxWidth:y,rotation:b}=Hj(this,h,n,d);ki(e,r.text,0,0,o,{color:r.color,maxWidth:y,rotation:b,textAlign:$j(d,n,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ke(e.grid&&e.grid.z,-1),a=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xr.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];let o,u;for(o=0,u=n.length;o<u;++o){const d=n[o];d[r]===this.id&&(!e||d.type===e)&&a.push(d)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ht(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class to{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;qj(n)&&(r=this.register(n));const a=this.items,o=e.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,Wj(e,u,r),this.override&&Ye.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,a=this.scope;r in n&&delete n[r],a&&r in Ye[a]&&(delete Ye[a][r],this.override&&delete Ss[r])}}function Wj(t,e,n){const r=ji(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,r),t.defaultRoutes&&Vj(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function Vj(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),a=r.pop(),o=[t].concat(r).join("."),u=e[n].split("."),d=u.pop(),h=u.join(".");Ye.route(o,a,h,d)})}function qj(t){return"id"in t&&"defaults"in t}class Yj{constructor(){this.controllers=new to(sj,"datasets",!0),this.elements=new to(kn,"elements"),this.plugins=new to(Object,"plugins"),this.scales=new to(xr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(a=>{const o=r||this._getRegistryForType(a);r||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Me(a,u=>{const d=r||this._getRegistryForType(u);this._exec(e,d,u)})})}_exec(e,n,r){const a=Wu(e);Le(r["before"+a],[],r),n[e](r),Le(r["after"+a],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return a}}var on=new Yj;class Kj{constructor(){this._init=[]}notify(e,n,r,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),u=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),u}_notify(e,n,r,a){a=a||{};for(const o of e){const u=o.plugin,d=u[r],h=[n,a,o.options];if(Le(d,h,u)===!1&&a.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,a=ke(r.options&&r.options.plugins,{}),o=Xj(r);return a===!1&&!n?[]:Gj(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,a=(o,u)=>o.filter(d=>!u.some(h=>d.plugin.id===h.plugin.id));this._notify(a(n,r),e,"stop"),this._notify(a(r,n),e,"start")}}function Xj(t){const e={},n=[],r=Object.keys(on.plugins.items);for(let o=0;o<r.length;o++)n.push(on.getPlugin(r[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const u=a[o];n.indexOf(u)===-1&&(n.push(u),e[u.id]=!0)}return{plugins:n,localIds:e}}function Qj(t,e){return!e&&t===!1?null:t===!0?{}:t}function Gj(t,{plugins:e,localIds:n},r,a){const o=[],u=t.getContext();for(const d of e){const h=d.id,m=Qj(r[h],a);m!==null&&o.push({plugin:d,options:Jj(t.config,{plugin:d,local:n[h]},m,u)})}return o}function Jj(t,{plugin:e,local:n},r,a){const o=t.pluginScopeKeys(e),u=t.getOptionScopes(r,o);return n&&e.defaults&&u.push(e.defaults),t.createResolver(u,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ku(t,e){const n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Zj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function e2(t,e){return t===e?"_index_":"_value_"}function bp(t){if(t==="x"||t==="y"||t==="r")return t}function t2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Su(t,...e){if(bp(t))return t;for(const n of e){const r=n.axis||t2(n.position)||t.length>1&&bp(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function vp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function n2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return vp(t,"x",n[0])||vp(t,"y",n[0])}return{}}function s2(t,e){const n=Ss[t.type]||{scales:{}},r=e.scales||{},a=ku(t.type,e),o=Object.create(null);return Object.keys(r).forEach(u=>{const d=r[u];if(!Se(d))return console.error(`Invalid scale configuration for scale: ${u}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const h=Su(u,d,n2(u,t),Ye.scales[d.type]),m=e2(h,a),g=n.scales||{};o[u]=hi(Object.create(null),[{axis:h},d,g[h],g[m]])}),t.data.datasets.forEach(u=>{const d=u.type||t.type,h=u.indexAxis||ku(d,e),g=(Ss[d]||{}).scales||{};Object.keys(g).forEach(y=>{const b=Zj(y,h),N=u[b+"AxisID"]||b;o[N]=o[N]||Object.create(null),hi(o[N],[{axis:b},r[N],g[y]])})}),Object.keys(o).forEach(u=>{const d=o[u];hi(d,[Ye.scales[d.type],Ye.scale])}),o}function dx(t){const e=t.options||(t.options={});e.plugins=ke(e.plugins,{}),e.scales=s2(t,e)}function fx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function r2(t){return t=t||{},t.data=fx(t.data),dx(t),t}const wp=new Map,hx=new Set;function no(t,e){let n=wp.get(t);return n||(n=e(),wp.set(t,n),hx.add(n)),n}const ci=(t,e,n)=>{const r=go(e,n);r!==void 0&&t.add(r)};class i2{constructor(e){this._config=r2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return no(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return no(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return no(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return no(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let a=r.get(e);return(!a||n)&&(a=new Map,r.set(e,a)),a}getOptionScopes(e,n,r){const{options:a,type:o}=this,u=this._cachedScopes(e,r),d=u.get(n);if(d)return d;const h=new Set;n.forEach(g=>{e&&(h.add(e),g.forEach(y=>ci(h,e,y))),g.forEach(y=>ci(h,a,y)),g.forEach(y=>ci(h,Ss[o]||{},y)),g.forEach(y=>ci(h,Ye,y)),g.forEach(y=>ci(h,ju,y))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),hx.has(n)&&u.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ss[n]||{},Ye.datasets[n]||{},{type:n},Ye,ju]}resolveNamedOptions(e,n,r,a=[""]){const o={$shared:!0},{resolver:u,subPrefixes:d}=_p(this._resolverCache,e,a);let h=u;if(o2(u,n)){o.$shared=!1,r=Jn(r)?r():r;const m=this.createResolver(e,r,d);h=cr(u,r,m)}for(const m of n)o[m]=h[m];return o}createResolver(e,n,r=[""],a){const{resolver:o}=_p(this._resolverCache,e,r);return Se(n)?cr(o,n,void 0,a):o}}function _p(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const a=n.join();let o=r.get(a);return o||(o={resolver:Qu(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},r.set(a,o)),o}const a2=t=>Se(t)&&Object.getOwnPropertyNames(t).some(e=>Jn(t[e]));function o2(t,e){const{isScriptable:n,isIndexable:r}=Yg(t);for(const a of e){const o=n(a),u=r(a),d=(u||o)&&t[a];if(o&&(Jn(d)||a2(d))||u&&Je(d))return!0}return!1}var l2="4.5.0";const c2=["top","bottom","left","right","chartArea"];function jp(t,e){return t==="top"||t==="bottom"||c2.indexOf(t)===-1&&e==="x"}function Np(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function kp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Le(n&&n.onComplete,[t],e)}function u2(t){const e=t.chart,n=e.options.animation;Le(n&&n.onProgress,[t],e)}function mx(t){return Zu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const co={},Sp=t=>{const e=mx(t);return Object.values(co).filter(n=>n.canvas===e).pop()};function d2(t,e,n){const r=Object.keys(t);for(const a of r){const o=+a;if(o>=e){const u=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=u)}}}function f2(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}class px{static defaults=Ye;static instances=co;static overrides=Ss;static registry=on;static version=l2;static getChart=Sp;static register(...e){on.add(...e),Cp()}static unregister(...e){on.remove(...e),Cp()}constructor(e,n){const r=this.config=new i2(n),a=mx(e),o=Sp(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Rj(a)),this.platform.updateConfig(r);const d=this.platform.acquireContext(a,u.aspectRatio),h=d&&d.canvas,m=h&&h.height,g=h&&h.width;if(this.id=w1(),this.ctx=d,this.canvas=h,this.width=g,this.height=m,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=U1(y=>this.update(y),u.resizeDelay||0),this._dataChanges=[],co[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",kp),yn.listen(this,"progress",u2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:a,_aspectRatio:o}=this;return $e(e)?n&&o?o:a?r/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return on}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Jm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xm(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(e,n){yn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,a=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(a,e,n,o),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Jm(this,d,!0)&&(this.notifyPlugins("resize",{size:u}),Le(r.onResize,[this,u],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Me(n,(r,a)=>{r.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,a=Object.keys(r).reduce((u,d)=>(u[d]=!1,u),{});let o=[];n&&(o=o.concat(Object.keys(n).map(u=>{const d=n[u],h=Su(u,d),m=h==="r",g=h==="x";return{options:d,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),Me(o,u=>{const d=u.options,h=d.id,m=Su(h,d),g=ke(d.type,u.dtype);(d.position===void 0||jp(d.position,m)!==jp(u.dposition))&&(d.position=u.dposition),a[h]=!0;let y=null;if(h in r&&r[h].type===g)y=r[h];else{const b=on.getScale(g);y=new b({id:h,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(d,e)}),Me(a,(u,d)=>{u||delete r[d]}),Me(r,u=>{Ut.configure(this,u,u.options),Ut.addBox(this,u)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((a,o)=>a.index-o.index),r>n){for(let a=n;a<r;++a)this._destroyDatasetMeta(a);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Np("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,a)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,a;for(this._removeUnreferencedMetasets(),r=0,a=n.length;r<a;r++){const o=n[r];let u=this.getDatasetMeta(r);const d=o.type||this.config.type;if(u.type&&u.type!==d&&(this._destroyDatasetMeta(r),u=this.getDatasetMeta(r)),u.type=d,u.indexAxis=o.indexAxis||ku(d,this.options),u.order=o.order||0,u.index=r,u.label=""+o.label,u.visible=this.isDatasetVisible(r),u.controller)u.controller.updateIndex(r),u.controller.linkScales();else{const h=on.getController(d),{datasetElementType:m,dataElementType:g}=Ye.datasets[d];Object.assign(h,{dataElementType:on.getElement(g),datasetElementType:m&&on.getElement(m)}),u.controller=new h(this,r),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){Me(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:y}=this.getDatasetMeta(m),b=!a&&o.indexOf(y)===-1;y.buildOrUpdateElements(b),u=Math.max(+y.getMaxOverflow(),u)}u=this._minPadding=r.layout.autoPadding?u:0,this._updateLayout(u),a||Me(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Np("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Me(this.scales,e=>{Ut.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!zm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:a,count:o}of n){const u=r==="_removeElements"?-o:o;d2(e,a,u)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(u=>u[0]===o).map((u,d)=>d+","+u.splice(1).join(","))),a=r(0);for(let o=1;o<n;o++)if(!zm(a,r(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ut.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Me(this.boxes,a=>{r&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Jn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),a={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(r.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),kp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let a,o;for(a=0,o=n.length;a<o;++a){const u=n[a];(!e||u.visible)&&r.push(u)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},a=sx(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(a&&Oo(n,a),e.controller.draw(),a&&Fo(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ni(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,a){const o=cj.modes[n];return typeof o=="function"?o(this,e,r,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let a=r.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(a)),a}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const a=r?"show":"hide",o=this.getDatasetMeta(e),u=o.controller._resolveAnimations(void 0,a);xo(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),u.update(o,{visible:r}),this.update(d=>d.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),yn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Xm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete co[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,u)=>{n.addEventListener(this,o,u),e[o]=u},a=(o,u,d)=>{o.offsetX=u,o.offsetY=d,this._eventHandler(o)};Me(this.options.events,o=>r(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},a=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},o=(h,m)=>{this.canvas&&this.resize(h,m)};let u;const d=()=>{a("attach",d),this.attached=!0,this.resize(),r("resize",o),r("detach",u)};u=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),r("attach",d)},n.isAttached(this.canvas)?d():u()}unbindEvents(){Me(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Me(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const a=r?"set":"remove";let o,u,d,h;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){u=e[d];const m=u&&this.getDatasetMeta(u.datasetIndex).controller;m&&m[a+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:u})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[u],index:u}});!mo(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const a=this.options.hover,o=(h,m)=>h.filter(g=>!m.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),u=o(n,e),d=r?e:o(e,n);u.length&&this.updateHoverStyle(u,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=u=>(u.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,a)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:a=[],options:o}=this,u=n,d=this._getActiveElements(e,a,r,u),h=C1(e),m=f2(e,this._lastEvent,r,h);r&&(this._lastEvent=null,Le(o.onHover,[e,d,this],this),h&&Le(o.onClick,[e,d,this],this));const g=!mo(d,a);return(g||n)&&(this._active=d,this._updateHoverStyles(d,a,n)),this._lastEvent=m,g}_getActiveElements(e,n,r,a){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}}function Cp(){return Me(px.instances,t=>t._plugins.invalidate())}function h2(t,e,n){const{startAngle:r,x:a,y:o,outerRadius:u,innerRadius:d,options:h}=e,{borderWidth:m,borderJoinStyle:g}=h,y=Math.min(m/u,Dt(r-n));if(t.beginPath(),t.arc(a,o,u-m/2,r+y/2,n-y/2),d>0){const b=Math.min(m/d,Dt(r-n));t.arc(a,o,d+m/2,n-b/2,r+b/2,!0)}else{const b=Math.min(m/2,u*Dt(r-n));if(g==="round")t.arc(a,o,b,n-De/2,r+De/2,!0);else if(g==="bevel"){const N=2*b*b,j=-N*Math.cos(n+De/2)+a,_=-N*Math.sin(n+De/2)+o,w=N*Math.cos(r+De/2)+a,P=N*Math.sin(r+De/2)+o;t.lineTo(j,_),t.lineTo(w,P)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function m2(t,e,n){const{startAngle:r,pixelMargin:a,x:o,y:u,outerRadius:d,innerRadius:h}=e;let m=a/d;t.beginPath(),t.arc(o,u,d,r-m,n+m),h>a?(m=a/h,t.arc(o,u,h,n+m,r-m,!0)):t.arc(o,u,a,n+it,r-it),t.closePath(),t.clip()}function p2(t){return Xu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function g2(t,e,n,r){const a=p2(t.options.borderRadius),o=(n-e)/2,u=Math.min(o,r*e/2),d=h=>{const m=(n-Math.min(o,h))*r/2;return kt(h,0,Math.min(o,m))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:kt(a.innerStart,0,u),innerEnd:kt(a.innerEnd,0,u)}}function sr(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function jo(t,e,n,r,a,o){const{x:u,y:d,startAngle:h,pixelMargin:m,innerRadius:g}=e,y=Math.max(e.outerRadius+r+n-m,0),b=g>0?g+r+n+m:0;let N=0;const j=a-h;if(r){const ae=g>0?g-r:0,fe=y>0?y-r:0,le=(ae+fe)/2,O=le!==0?j*le/(le+r):j;N=(j-O)/2}const _=Math.max(.001,j*y-n/De)/y,w=(j-_)/2,P=h+w+N,k=a-w-N,{outerStart:R,outerEnd:M,innerStart:F,innerEnd:V}=g2(e,b,y,k-P),z=y-R,D=y-M,H=P+R/z,Q=k-M/D,ne=b+F,Y=b+V,se=P+F/ne,ue=k-V/Y;if(t.beginPath(),o){const ae=(H+Q)/2;if(t.arc(u,d,y,H,ae),t.arc(u,d,y,ae,Q),M>0){const K=sr(D,Q,u,d);t.arc(K.x,K.y,M,Q,k+it)}const fe=sr(Y,k,u,d);if(t.lineTo(fe.x,fe.y),V>0){const K=sr(Y,ue,u,d);t.arc(K.x,K.y,V,k+it,ue+Math.PI)}const le=(k-V/b+(P+F/b))/2;if(t.arc(u,d,b,k-V/b,le,!0),t.arc(u,d,b,le,P+F/b,!0),F>0){const K=sr(ne,se,u,d);t.arc(K.x,K.y,F,se+Math.PI,P-it)}const O=sr(z,P,u,d);if(t.lineTo(O.x,O.y),R>0){const K=sr(z,H,u,d);t.arc(K.x,K.y,R,P-it,H)}}else{t.moveTo(u,d);const ae=Math.cos(H)*y+u,fe=Math.sin(H)*y+d;t.lineTo(ae,fe);const le=Math.cos(Q)*y+u,O=Math.sin(Q)*y+d;t.lineTo(le,O)}t.closePath()}function x2(t,e,n,r,a){const{fullCircles:o,startAngle:u,circumference:d}=e;let h=e.endAngle;if(o){jo(t,e,n,r,h,a);for(let m=0;m<o;++m)t.fill();isNaN(d)||(h=u+(d%nt||nt))}return jo(t,e,n,r,h,a),t.fill(),h}function y2(t,e,n,r,a){const{fullCircles:o,startAngle:u,circumference:d,options:h}=e,{borderWidth:m,borderJoinStyle:g,borderDash:y,borderDashOffset:b,borderRadius:N}=h,j=h.borderAlign==="inner";if(!m)return;t.setLineDash(y||[]),t.lineDashOffset=b,j?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let _=e.endAngle;if(o){jo(t,e,n,r,_,a);for(let w=0;w<o;++w)t.stroke();isNaN(d)||(_=u+(d%nt||nt))}j&&m2(t,e,_),h.selfJoin&&_-u>=De&&N===0&&g!=="miter"&&h2(t,e,_),o||(jo(t,e,n,r,_,a),t.stroke())}class b2 extends kn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const a=this.getProps(["x","y"],r),{angle:o,distance:u}=zg(a,{x:e,y:n}),{startAngle:d,endAngle:h,innerRadius:m,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,N=ke(y,h-d),j=Vu(o,d,h)&&d!==h,_=N>=nt||j,w=_n(u,m+b,g+b);return _&&w}getCenterPoint(e){const{x:n,y:r,startAngle:a,endAngle:o,innerRadius:u,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,g=(a+o)/2,y=(u+d+m+h)/2;return{x:n+Math.cos(g)*y,y:r+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,u=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>nt?Math.floor(r/nt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*a,Math.sin(d)*a);const h=1-Math.sin(Math.min(De,r||0)),m=a*h;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,x2(e,this,m,o,u),y2(e,this,m,o,u),e.restore()}}function gx(t,e,n=e){t.lineCap=ke(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ke(n.borderDash,e.borderDash)),t.lineDashOffset=ke(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ke(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ke(n.borderWidth,e.borderWidth),t.strokeStyle=ke(n.borderColor,e.borderColor)}function v2(t,e,n){t.lineTo(n.x,n.y)}function w2(t){return t.stepped?Z1:t.tension||t.cubicInterpolationMode==="monotone"?e_:v2}function xx(t,e,n={}){const r=t.length,{start:a=0,end:o=r-1}=n,{start:u,end:d}=e,h=Math.max(a,u),m=Math.min(o,d),g=a<u&&o<u||a>d&&o>d;return{count:r,start:h,loop:e.loop,ilen:m<h&&!g?r+m-h:m-h}}function _2(t,e,n,r){const{points:a,options:o}=e,{count:u,start:d,loop:h,ilen:m}=xx(a,n,r),g=w2(o);let{move:y=!0,reverse:b}=r||{},N,j,_;for(N=0;N<=m;++N)j=a[(d+(b?m-N:N))%u],!j.skip&&(y?(t.moveTo(j.x,j.y),y=!1):g(t,_,j,b,o.stepped),_=j);return h&&(j=a[(d+(b?m:0))%u],g(t,_,j,b,o.stepped)),!!h}function j2(t,e,n,r){const a=e.points,{count:o,start:u,ilen:d}=xx(a,n,r),{move:h=!0,reverse:m}=r||{};let g=0,y=0,b,N,j,_,w,P;const k=M=>(u+(m?d-M:M))%o,R=()=>{_!==w&&(t.lineTo(g,w),t.lineTo(g,_),t.lineTo(g,P))};for(h&&(N=a[k(0)],t.moveTo(N.x,N.y)),b=0;b<=d;++b){if(N=a[k(b)],N.skip)continue;const M=N.x,F=N.y,V=M|0;V===j?(F<_?_=F:F>w&&(w=F),g=(y*g+M)/++y):(R(),t.lineTo(M,F),j=V,y=0,_=w=F),P=F}R()}function Cu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?j2:_2}function N2(t){return t.stepped?M_:t.tension||t.cubicInterpolationMode==="monotone"?D_:ys}function k2(t,e,n,r){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,r)&&a.closePath()),gx(t,e.options),t.stroke(a)}function S2(t,e,n,r){const{segments:a,options:o}=e,u=Cu(e);for(const d of a)gx(t,o,d.style),t.beginPath(),u(t,e,d,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const C2=typeof Path2D=="function";function E2(t,e,n,r){C2&&!e.options.segment?k2(t,e,n,r):S2(t,e,n,r)}class zo extends kn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const a=r.spanGaps?this._loop:this._fullLoop;N_(this._points,r,e,a,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=z_(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,a=e[n],o=this.points,u=nx(this,{property:n,start:a,end:a});if(!u.length)return;const d=[],h=N2(r);let m,g;for(m=0,g=u.length;m<g;++m){const{start:y,end:b}=u[m],N=o[y],j=o[b];if(N===j){d.push(N);continue}const _=Math.abs((a-N[n])/(j[n]-N[n])),w=h(N,j,_,r.stepped);w[n]=e[n],d.push(w)}return d.length===1?d[0]:d}pathSegment(e,n,r){return Cu(this)(e,this,n,r)}path(e,n,r){const a=this.segments,o=Cu(this);let u=this._loop;n=n||0,r=r||this.points.length-n;for(const d of a)u&=o(e,this,d,{start:n,end:n+r-1});return!!u}draw(e,n,r,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),E2(e,this,r,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ep(t,e,n,r){const a=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<a.radius+a.hitRadius}class P2 extends kn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const a=this.options,{x:o,y:u}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-u,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return Ep(this,e,"x",n)}inYRange(e,n){return Ep(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Ni(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Nu(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function yx(t,e){const{x:n,y:r,base:a,width:o,height:u}=t.getProps(["x","y","base","width","height"],e);let d,h,m,g,y;return t.horizontal?(y=u/2,d=Math.min(n,a),h=Math.max(n,a),m=r-y,g=r+y):(y=o/2,d=n-y,h=n+y,m=Math.min(r,a),g=Math.max(r,a)),{left:d,top:m,right:h,bottom:g}}function Kn(t,e,n,r){return t?0:kt(e,n,r)}function R2(t,e,n){const r=t.options.borderWidth,a=t.borderSkipped,o=qg(r);return{t:Kn(a.top,o.top,0,n),r:Kn(a.right,o.right,0,e),b:Kn(a.bottom,o.bottom,0,n),l:Kn(a.left,o.left,0,e)}}function T2(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=ar(a),u=Math.min(e,n),d=t.borderSkipped,h=r||Se(a);return{topLeft:Kn(!h||d.top||d.left,o.topLeft,0,u),topRight:Kn(!h||d.top||d.right,o.topRight,0,u),bottomLeft:Kn(!h||d.bottom||d.left,o.bottomLeft,0,u),bottomRight:Kn(!h||d.bottom||d.right,o.bottomRight,0,u)}}function M2(t){const e=yx(t),n=e.right-e.left,r=e.bottom-e.top,a=R2(t,n/2,r/2),o=T2(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function nu(t,e,n,r){const a=e===null,o=n===null,d=t&&!(a&&o)&&yx(t,r);return d&&(a||_n(e,d.left,d.right))&&(o||_n(n,d.top,d.bottom))}function D2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function A2(t,e){t.rect(e.x,e.y,e.w,e.h)}function su(t,e,n={}){const r=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,u=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+r,y:t.y+a,w:t.w+o,h:t.h+u,radius:t.radius}}class O2 extends kn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:a}}=this,{inner:o,outer:u}=M2(this),d=D2(u.radius)?vo:A2;e.save(),(u.w!==o.w||u.h!==o.h)&&(e.beginPath(),d(e,su(u,n,o)),e.clip(),d(e,su(o,-n,u)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),d(e,su(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,r){return nu(this,e,n,r)}inXRange(e,n){return nu(this,e,null,n)}inYRange(e,n){return nu(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?r:(r+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function F2(t,e,n){const r=t.segments,a=t.points,o=e.points,u=[];for(const d of r){let{start:h,end:m}=d;m=Bo(h,m,a);const g=Eu(n,a[h],a[m],d.loop);if(!e.segments){u.push({source:d,target:g,start:a[h],end:a[m]});continue}const y=nx(e,g);for(const b of y){const N=Eu(n,o[b.start],o[b.end],b.loop),j=tx(d,a,N);for(const _ of j)u.push({source:_,target:b,start:{[n]:Pp(g,N,"start",Math.max)},end:{[n]:Pp(g,N,"end",Math.min)}})}}return u}function Eu(t,e,n,r){if(r)return;let a=e[t],o=n[t];return t==="angle"&&(a=Dt(a),o=Dt(o)),{property:t,start:a,end:o}}function L2(t,e){const{x:n=null,y:r=null}=t||{},a=e.points,o=[];return e.segments.forEach(({start:u,end:d})=>{d=Bo(u,d,a);const h=a[u],m=a[d];r!==null?(o.push({x:h.x,y:r}),o.push({x:m.x,y:r})):n!==null&&(o.push({x:n,y:h.y}),o.push({x:n,y:m.y}))}),o}function Bo(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Pp(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function bx(t,e){let n=[],r=!1;return Je(t)?(r=!0,n=t):n=L2(t,e),n.length?new zo({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Rp(t){return t&&t.fill!==!1}function I2(t,e,n){let a=t[e].fill;const o=[e];let u;if(!n)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!mt(a))return a;if(u=t[a],!u)return!1;if(u.visible)return a;o.push(a),a=u.fill}return!1}function z2(t,e,n){const r=H2(t);if(Se(r))return isNaN(r.value)?!1:r;let a=parseFloat(r);return mt(a)&&Math.floor(a)===a?B2(r[0],e,a,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function B2(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function U2(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Se(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function $2(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Se(t)?r=t.value:r=e.getBaseValue(),r}function H2(t){const e=t.options,n=e.fill;let r=ke(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function W2(t){const{scale:e,index:n,line:r}=t,a=[],o=r.segments,u=r.points,d=V2(e,n);d.push(bx({x:null,y:e.bottom},r));for(let h=0;h<o.length;h++){const m=o[h];for(let g=m.start;g<=m.end;g++)q2(a,u[g],d)}return new zo({points:a,options:{}})}function V2(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let a=0;a<r.length;a++){const o=r[a];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function q2(t,e,n){const r=[];for(let a=0;a<n.length;a++){const o=n[a],{first:u,last:d,point:h}=Y2(o,e,"x");if(!(!h||u&&d)){if(u)r.unshift(h);else if(t.push(h),!d)break}}t.push(...r)}function Y2(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const a=r[n],o=t.segments,u=t.points;let d=!1,h=!1;for(let m=0;m<o.length;m++){const g=o[m],y=u[g.start][n],b=u[g.end][n];if(_n(a,y,b)){d=a===y,h=a===b;break}}return{first:d,last:h,point:r}}class vx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:a,y:o,radius:u}=this;return n=n||{start:0,end:nt},e.arc(a,o,u,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:a}=this,o=e.angle;return{x:n+Math.cos(o)*a,y:r+Math.sin(o)*a,angle:o}}}function K2(t){const{chart:e,fill:n,line:r}=t;if(mt(n))return X2(e,n);if(n==="stack")return W2(t);if(n==="shape")return!0;const a=Q2(t);return a instanceof vx?a:bx(a,r)}function X2(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Q2(t){return(t.scale||{}).getPointPositionForValue?J2(t):G2(t)}function G2(t){const{scale:e={},fill:n}=t,r=U2(n,e);if(mt(r)){const a=e.isHorizontal();return{x:a?r:null,y:a?null:r}}return null}function J2(t){const{scale:e,fill:n}=t,r=e.options,a=e.getLabels().length,o=r.reverse?e.max:e.min,u=$2(n,e,o),d=[];if(r.grid.circular){const h=e.getPointPositionForValue(0,o);return new vx({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(u)})}for(let h=0;h<a;++h)d.push(e.getPointPositionForValue(h,u));return d}function ru(t,e,n){const r=K2(e),{chart:a,index:o,line:u,scale:d,axis:h}=e,m=u.options,g=m.fill,y=m.backgroundColor,{above:b=y,below:N=y}=g||{},j=a.getDatasetMeta(o),_=sx(a,j);r&&u.points.length&&(Oo(t,n),Z2(t,{line:u,target:r,above:b,below:N,area:n,scale:d,axis:h,clip:_}),Fo(t))}function Z2(t,e){const{line:n,target:r,above:a,below:o,area:u,scale:d,clip:h}=e,m=n._loop?"angle":e.axis;t.save();let g=o;o!==a&&(m==="x"?(Tp(t,r,u.top),iu(t,{line:n,target:r,color:a,scale:d,property:m,clip:h}),t.restore(),t.save(),Tp(t,r,u.bottom)):m==="y"&&(Mp(t,r,u.left),iu(t,{line:n,target:r,color:o,scale:d,property:m,clip:h}),t.restore(),t.save(),Mp(t,r,u.right),g=a)),iu(t,{line:n,target:r,color:g,scale:d,property:m,clip:h}),t.restore()}function Tp(t,e,n){const{segments:r,points:a}=e;let o=!0,u=!1;t.beginPath();for(const d of r){const{start:h,end:m}=d,g=a[h],y=a[Bo(h,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(g.x,n),t.lineTo(g.x,g.y)),u=!!e.pathSegment(t,d,{move:u}),u?t.closePath():t.lineTo(y.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Mp(t,e,n){const{segments:r,points:a}=e;let o=!0,u=!1;t.beginPath();for(const d of r){const{start:h,end:m}=d,g=a[h],y=a[Bo(h,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(n,g.y),t.lineTo(g.x,g.y)),u=!!e.pathSegment(t,d,{move:u}),u?t.closePath():t.lineTo(n,y.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function iu(t,e){const{line:n,target:r,property:a,color:o,scale:u,clip:d}=e,h=F2(n,r,a);for(const{source:m,target:g,start:y,end:b}of h){const{style:{backgroundColor:N=o}={}}=m,j=r!==!0;t.save(),t.fillStyle=N,eN(t,u,d,j&&Eu(a,y,b)),t.beginPath();const _=!!n.pathSegment(t,m);let w;if(j){_?t.closePath():Dp(t,r,b,a);const P=!!r.pathSegment(t,g,{move:_,reverse:!0});w=_&&P,w||Dp(t,r,y,a)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function eN(t,e,n,r){const a=e.chart.chartArea,{property:o,start:u,end:d}=r||{};if(o==="x"||o==="y"){let h,m,g,y;o==="x"?(h=u,m=a.top,g=d,y=a.bottom):(h=a.left,m=u,g=a.right,y=d),t.beginPath(),n&&(h=Math.max(h,n.left),g=Math.min(g,n.right),m=Math.max(m,n.top),y=Math.min(y,n.bottom)),t.rect(h,m,g-h,y-m),t.clip()}}function Dp(t,e,n,r){const a=e.interpolate(n,r);a&&t.lineTo(a.x,a.y)}var tN={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,a=[];let o,u,d,h;for(u=0;u<r;++u)o=t.getDatasetMeta(u),d=o.dataset,h=null,d&&d.options&&d instanceof zo&&(h={visible:t.isDatasetVisible(u),index:u,fill:z2(d,u,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:d}),o.$filler=h,a.push(h);for(u=0;u<r;++u)h=a[u],!(!h||h.fill===!1)&&(h.fill=I2(a,u,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let u=a.length-1;u>=0;--u){const d=a[u].$filler;d&&(d.line.updateControlPoints(o,d.axis),r&&d.fill&&ru(t.ctx,d,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let a=r.length-1;a>=0;--a){const o=r[a].$filler;Rp(o)&&ru(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!Rp(r)||n.drawTime!=="beforeDatasetDraw"||ru(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ap=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},nN=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Op extends kn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Le(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,a)=>e.sort(r,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,a=ht(r.font),o=a.size,u=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=Ap(r,o);let m,g;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(u,o,d,h)+10):(g=this.maxHeight,m=this._fitCols(u,a,d,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,a){const{ctx:o,maxWidth:u,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+d;let y=e;o.textAlign="left",o.textBaseline="middle";let b=-1,N=-g;return this.legendItems.forEach((j,_)=>{const w=r+n/2+o.measureText(j.text).width;(_===0||m[m.length-1]+w+2*d>u)&&(y+=g,m[m.length-(_>0?0:1)]=0,N+=g,b++),h[_]={left:0,top:N,row:b,width:w,height:a},m[m.length-1]+=w+d}),y}_fitCols(e,n,r,a){const{ctx:o,maxHeight:u,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],g=u-e;let y=d,b=0,N=0,j=0,_=0;return this.legendItems.forEach((w,P)=>{const{itemWidth:k,itemHeight:R}=sN(r,n,o,w,a);P>0&&N+R+2*d>g&&(y+=b+d,m.push({width:b,height:N}),j+=b+d,_++,b=N=0),h[P]={left:j,top:N,col:_,width:k,height:R},b=Math.max(b,k),N+=R+d}),y+=b,m.push({width:b,height:N}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:a},rtl:o}}=this,u=or(o,this.left,this.width);if(this.isHorizontal()){let d=0,h=dt(r,this.left+a,this.right-this.lineWidths[d]);for(const m of n)d!==m.row&&(d=m.row,h=dt(r,this.left+a,this.right-this.lineWidths[d])),m.top+=this.top+e+a,m.left=u.leftForLtr(u.x(h),m.width),h+=m.width+a}else{let d=0,h=dt(r,this.top+e+a,this.bottom-this.columnSizes[d].height);for(const m of n)m.col!==d&&(d=m.col,h=dt(r,this.top+e+a,this.bottom-this.columnSizes[d].height)),m.top=h,m.left+=this.left+a,m.left=u.leftForLtr(u.x(m.left),m.width),h+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Oo(e,this),this._draw(),Fo(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:a}=this,{align:o,labels:u}=e,d=Ye.color,h=or(e.rtl,this.left,this.width),m=ht(u.font),{padding:g}=u,y=m.size,b=y/2;let N;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:j,boxHeight:_,itemHeight:w}=Ap(u,y),P=function(V,z,D){if(isNaN(j)||j<=0||isNaN(_)||_<0)return;a.save();const H=ke(D.lineWidth,1);if(a.fillStyle=ke(D.fillStyle,d),a.lineCap=ke(D.lineCap,"butt"),a.lineDashOffset=ke(D.lineDashOffset,0),a.lineJoin=ke(D.lineJoin,"miter"),a.lineWidth=H,a.strokeStyle=ke(D.strokeStyle,d),a.setLineDash(ke(D.lineDash,[])),u.usePointStyle){const Q={radius:_*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:H},ne=h.xPlus(V,j/2),Y=z+b;Vg(a,Q,ne,Y,u.pointStyleWidth&&j)}else{const Q=z+Math.max((y-_)/2,0),ne=h.leftForLtr(V,j),Y=ar(D.borderRadius);a.beginPath(),Object.values(Y).some(se=>se!==0)?vo(a,{x:ne,y:Q,w:j,h:_,radius:Y}):a.rect(ne,Q,j,_),a.fill(),H!==0&&a.stroke()}a.restore()},k=function(V,z,D){ki(a,D.text,V,z+w/2,m,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},R=this.isHorizontal(),M=this._computeTitleHeight();R?N={x:dt(o,this.left+g,this.right-r[0]),y:this.top+g+M,line:0}:N={x:this.left+g,y:dt(o,this.top+M+g,this.bottom-n[0].height),line:0},Jg(this.ctx,e.textDirection);const F=w+g;this.legendItems.forEach((V,z)=>{a.strokeStyle=V.fontColor,a.fillStyle=V.fontColor;const D=a.measureText(V.text).width,H=h.textAlign(V.textAlign||(V.textAlign=u.textAlign)),Q=j+b+D;let ne=N.x,Y=N.y;h.setWidth(this.width),R?z>0&&ne+Q+g>this.right&&(Y=N.y+=F,N.line++,ne=N.x=dt(o,this.left+g,this.right-r[N.line])):z>0&&Y+F>this.bottom&&(ne=N.x=ne+n[N.line].width+g,N.line++,Y=N.y=dt(o,this.top+M+g,this.bottom-n[N.line].height));const se=h.x(ne);if(P(se,Y,V),ne=$1(H,ne+j+b,R?ne+Q:this.right,e.rtl),k(h.x(ne),Y,V),R)N.x+=Q+g;else if(typeof V.text!="string"){const ue=m.lineHeight;N.y+=wx(V,ue)+g}else N.y+=F}),Zg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ht(n.font),a=Ht(n.padding);if(!n.display)return;const o=or(e.rtl,this.left,this.width),u=this.ctx,d=n.position,h=r.size/2,m=a.top+h;let g,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+m,y=dt(e.align,y,this.right-b);else{const j=this.columnSizes.reduce((_,w)=>Math.max(_,w.height),0);g=m+dt(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const N=dt(d,y,y+b);u.textAlign=o.textAlign(Yu(d)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=r.string,ki(u,n.text,N,g,r)}_computeTitleHeight(){const e=this.options.title,n=ht(e.font),r=Ht(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,a,o;if(_n(e,this.left,this.right)&&_n(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(a=o[r],_n(e,a.left,a.left+a.width)&&_n(n,a.top,a.top+a.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!aN(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=nN(a,r);a&&!o&&Le(n.onLeave,[e,a,this],this),this._hoveredItem=r,r&&!o&&Le(n.onHover,[e,r,this],this)}else r&&Le(n.onClick,[e,r,this],this)}}function sN(t,e,n,r,a){const o=rN(r,t,e,n),u=iN(a,r,e.lineHeight);return{itemWidth:o,itemHeight:u}}function rN(t,e,n,r){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,u)=>o.length>u.length?o:u)),e+n.size/2+r.measureText(a).width}function iN(t,e,n){let r=t;return typeof e.text!="string"&&(r=wx(e,n)),r}function wx(t,e){const n=t.text?t.text.length:0;return e*n}function aN(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var oN={id:"legend",_element:Op,start(t,e,n){const r=t.legend=new Op({ctx:t.ctx,options:n,chart:t});Ut.configure(t,r,n),Ut.addBox(t,r)},stop(t){Ut.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ut.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,a=n.chart;a.isDatasetVisible(r)?(a.hide(r),e.hidden=!0):(a.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:a,color:o,useBorderRadius:u,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),g=Ht(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:r||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:u&&(d||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class _x extends kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=Je(r.text)?r.text.length:1;this._padding=Ht(r.padding);const o=a*ht(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:a,right:o,options:u}=this,d=u.align;let h=0,m,g,y;return this.isHorizontal()?(g=dt(d,r,o),y=n+e,m=o-r):(u.position==="left"?(g=r+e,y=dt(d,a,n),h=De*-.5):(g=o-e,y=dt(d,n,a),h=De*.5),m=a-n),{titleX:g,titleY:y,maxWidth:m,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=ht(n.font),o=r.lineHeight/2+this._padding.top,{titleX:u,titleY:d,maxWidth:h,rotation:m}=this._drawArgs(o);ki(e,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:m,textAlign:Yu(n.align),textBaseline:"middle",translation:[u,d]})}}function lN(t,e){const n=new _x({ctx:t.ctx,options:e,chart:t});Ut.configure(t,n,e),Ut.addBox(t,n),t.titleBlock=n}var cN={id:"title",_element:_x,start(t,e,n){lN(t,n)},stop(t){const e=t.titleBlock;Ut.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Ut.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fi={average(t){if(!t.length)return!1;let e,n,r=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();r.add(h.x),a+=h.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((d,h)=>d+h)/r.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,a=Number.POSITIVE_INFINITY,o,u,d;for(o=0,u=t.length;o<u;++o){const h=t[o].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),g=wu(e,m);g<a&&(a=g,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,r=h.y}return{x:n,y:r}}};function an(t,e){return e&&(Je(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function bn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function uN(t,e){const{element:n,datasetIndex:r,index:a}=e,o=t.getDatasetMeta(r).controller,{label:u,value:d}=o.getLabelAndValue(a);return{chart:t,label:u,parsed:o.getParsed(a),raw:t.data.datasets[r].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:r,element:n}}function Fp(t,e){const n=t.chart.ctx,{body:r,footer:a,title:o}=t,{boxWidth:u,boxHeight:d}=e,h=ht(e.bodyFont),m=ht(e.titleFont),g=ht(e.footerFont),y=o.length,b=a.length,N=r.length,j=Ht(e.padding);let _=j.height,w=0,P=r.reduce((M,F)=>M+F.before.length+F.lines.length+F.after.length,0);if(P+=t.beforeBody.length+t.afterBody.length,y&&(_+=y*m.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),P){const M=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;_+=N*M+(P-N)*h.lineHeight+(P-1)*e.bodySpacing}b&&(_+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let k=0;const R=function(M){w=Math.max(w,n.measureText(M).width+k)};return n.save(),n.font=m.string,Me(t.title,R),n.font=h.string,Me(t.beforeBody.concat(t.afterBody),R),k=e.displayColors?u+2+e.boxPadding:0,Me(r,M=>{Me(M.before,R),Me(M.lines,R),Me(M.after,R)}),k=0,n.font=g.string,Me(t.footer,R),n.restore(),w+=j.width,{width:w,height:_}}function dN(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function fN(t,e,n,r){const{x:a,width:o}=r,u=n.caretSize+n.caretPadding;if(t==="left"&&a+o+u>e.width||t==="right"&&a-o-u<0)return!0}function hN(t,e,n,r){const{x:a,width:o}=n,{width:u,chartArea:{left:d,right:h}}=t;let m="center";return r==="center"?m=a<=(d+h)/2?"left":"right":a<=o/2?m="left":a>=u-o/2&&(m="right"),fN(m,t,e,n)&&(m="center"),m}function Lp(t,e,n){const r=n.yAlign||e.yAlign||dN(t,n);return{xAlign:n.xAlign||e.xAlign||hN(t,e,n,r),yAlign:r}}function mN(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function pN(t,e,n){let{y:r,height:a}=t;return e==="top"?r+=n:e==="bottom"?r-=a+n:r-=a/2,r}function Ip(t,e,n,r){const{caretSize:a,caretPadding:o,cornerRadius:u}=t,{xAlign:d,yAlign:h}=n,m=a+o,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:N}=ar(u);let j=mN(e,d);const _=pN(e,h,m);return h==="center"?d==="left"?j+=m:d==="right"&&(j-=m):d==="left"?j-=Math.max(g,b)+a:d==="right"&&(j+=Math.max(y,N)+a),{x:kt(j,0,r.width-e.width),y:kt(_,0,r.height-e.height)}}function so(t,e,n){const r=Ht(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function zp(t){return an([],bn(t))}function gN(t,e,n){return Es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Bp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const jx={beforeTitle:xn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:xn,beforeBody:xn,beforeLabel:xn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $e(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:xn,afterBody:xn,beforeFooter:xn,footer:xn,afterFooter:xn};function jt(t,e,n,r){const a=t[e].call(n,r);return typeof a>"u"?jx[e].call(n,r):a}class Up extends kn{static positioners=fi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&n.options.animation&&r.animations,o=new rx(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=gN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,a=jt(r,"beforeTitle",this,e),o=jt(r,"title",this,e),u=jt(r,"afterTitle",this,e);let d=[];return d=an(d,bn(a)),d=an(d,bn(o)),d=an(d,bn(u)),d}getBeforeBody(e,n){return zp(jt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,a=[];return Me(e,o=>{const u={before:[],lines:[],after:[]},d=Bp(r,o);an(u.before,bn(jt(d,"beforeLabel",this,o))),an(u.lines,jt(d,"label",this,o)),an(u.after,bn(jt(d,"afterLabel",this,o))),a.push(u)}),a}getAfterBody(e,n){return zp(jt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,a=jt(r,"beforeFooter",this,e),o=jt(r,"footer",this,e),u=jt(r,"afterFooter",this,e);let d=[];return d=an(d,bn(a)),d=an(d,bn(o)),d=an(d,bn(u)),d}_createItems(e){const n=this._active,r=this.chart.data,a=[],o=[],u=[];let d=[],h,m;for(h=0,m=n.length;h<m;++h)d.push(uN(this.chart,n[h]));return e.filter&&(d=d.filter((g,y,b)=>e.filter(g,y,b,r))),e.itemSort&&(d=d.sort((g,y)=>e.itemSort(g,y,r))),Me(d,g=>{const y=Bp(e.callbacks,g);a.push(jt(y,"labelColor",this,g)),o.push(jt(y,"labelPointStyle",this,g)),u.push(jt(y,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=d,d}update(e,n){const r=this.options.setContext(this.getContext()),a=this._active;let o,u=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=fi[r.position].call(this,a,this._eventPosition);u=this._createItems(r),this.title=this.getTitle(u,r),this.beforeBody=this.getBeforeBody(u,r),this.body=this.getBody(u,r),this.afterBody=this.getAfterBody(u,r),this.footer=this.getFooter(u,r);const h=this._size=Fp(this,r),m=Object.assign({},d,h),g=Lp(this.chart,r,m),y=Ip(r,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,a){const o=this.getCaretPosition(e,r,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:a,yAlign:o}=this,{caretSize:u,cornerRadius:d}=r,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:y}=ar(d),{x:b,y:N}=e,{width:j,height:_}=n;let w,P,k,R,M,F;return o==="center"?(M=N+_/2,a==="left"?(w=b,P=w-u,R=M+u,F=M-u):(w=b+j,P=w+u,R=M-u,F=M+u),k=w):(a==="left"?P=b+Math.max(h,g)+u:a==="right"?P=b+j-Math.max(m,y)-u:P=this.caretX,o==="top"?(R=N,M=R-u,w=P-u,k=P+u):(R=N+_,M=R+u,w=P+u,k=P-u),F=R),{x1:w,x2:P,x3:k,y1:R,y2:M,y3:F}}drawTitle(e,n,r){const a=this.title,o=a.length;let u,d,h;if(o){const m=or(r.rtl,this.x,this.width);for(e.x=so(this,r.titleAlign,r),n.textAlign=m.textAlign(r.titleAlign),n.textBaseline="middle",u=ht(r.titleFont),d=r.titleSpacing,n.fillStyle=r.titleColor,n.font=u.string,h=0;h<o;++h)n.fillText(a[h],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+d,h+1===o&&(e.y+=r.titleMarginBottom-d)}}_drawColorBox(e,n,r,a,o){const u=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:h,boxWidth:m}=o,g=ht(o.bodyFont),y=so(this,"left",o),b=a.x(y),N=h<g.lineHeight?(g.lineHeight-h)/2:0,j=n.y+N;if(o.usePointStyle){const _={radius:Math.min(m,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},w=a.leftForLtr(b,m)+m/2,P=j+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Nu(e,_,w,P),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,Nu(e,_,w,P)}else{e.lineWidth=Se(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const _=a.leftForLtr(b,m),w=a.leftForLtr(a.xPlus(b,1),m-2),P=ar(u.borderRadius);Object.values(P).some(k=>k!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,vo(e,{x:_,y:j,w:m,h,radius:P}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),vo(e,{x:w,y:j+1,w:m-2,h:h-2,radius:P}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(_,j,m,h),e.strokeRect(_,j,m,h),e.fillStyle=u.backgroundColor,e.fillRect(w,j+1,m-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:a}=this,{bodySpacing:o,bodyAlign:u,displayColors:d,boxHeight:h,boxWidth:m,boxPadding:g}=r,y=ht(r.bodyFont);let b=y.lineHeight,N=0;const j=or(r.rtl,this.x,this.width),_=function(D){n.fillText(D,j.x(e.x+N),e.y+b/2),e.y+=b+o},w=j.textAlign(u);let P,k,R,M,F,V,z;for(n.textAlign=u,n.textBaseline="middle",n.font=y.string,e.x=so(this,w,r),n.fillStyle=r.bodyColor,Me(this.beforeBody,_),N=d&&w!=="right"?u==="center"?m/2+g:m+2+g:0,M=0,V=a.length;M<V;++M){for(P=a[M],k=this.labelTextColors[M],n.fillStyle=k,Me(P.before,_),R=P.lines,d&&R.length&&(this._drawColorBox(n,e,M,j,r),b=Math.max(y.lineHeight,h)),F=0,z=R.length;F<z;++F)_(R[F]),b=y.lineHeight;Me(P.after,_)}N=0,b=y.lineHeight,Me(this.afterBody,_),e.y-=o}drawFooter(e,n,r){const a=this.footer,o=a.length;let u,d;if(o){const h=or(r.rtl,this.x,this.width);for(e.x=so(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=h.textAlign(r.footerAlign),n.textBaseline="middle",u=ht(r.footerFont),n.fillStyle=r.footerColor,n.font=u.string,d=0;d<o;++d)n.fillText(a[d],h.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+r.footerSpacing}}drawBackground(e,n,r,a){const{xAlign:o,yAlign:u}=this,{x:d,y:h}=e,{width:m,height:g}=r,{topLeft:y,topRight:b,bottomLeft:N,bottomRight:j}=ar(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(d+y,h),u==="top"&&this.drawCaret(e,n,r,a),n.lineTo(d+m-b,h),n.quadraticCurveTo(d+m,h,d+m,h+b),u==="center"&&o==="right"&&this.drawCaret(e,n,r,a),n.lineTo(d+m,h+g-j),n.quadraticCurveTo(d+m,h+g,d+m-j,h+g),u==="bottom"&&this.drawCaret(e,n,r,a),n.lineTo(d+N,h+g),n.quadraticCurveTo(d,h+g,d,h+g-N),u==="center"&&o==="left"&&this.drawCaret(e,n,r,a),n.lineTo(d,h+y),n.quadraticCurveTo(d,h,d+y,h),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,a=r&&r.x,o=r&&r.y;if(a||o){const u=fi[e.position].call(this,this._active,this._eventPosition);if(!u)return;const d=this._size=Fp(this,e),h=Object.assign({},u,this._size),m=Lp(n,e,h),g=Ip(e,h,m,n);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=d.width,this.height=d.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const u=Ht(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,a,n),Jg(e,n.textDirection),o.y+=u.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Zg(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,a=e.map(({datasetIndex:d,index:h})=>{const m=this.chart.getDatasetMeta(d);if(!m)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:m.data[h],index:h}}),o=!mo(r,a),u=this._positionChanged(a,n);(o||u)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],u=this._getActiveElements(e,o,n,r),d=this._positionChanged(u,e),h=n||!mo(u,o)||d;return h&&(this._active=u,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,r,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const u=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&u.reverse(),u}_positionChanged(e,n){const{caretX:r,caretY:a,options:o}=this,u=fi[o.position].call(this,e,n);return u!==!1&&(r!==u.x||a!==u.y)}}var xN={id:"tooltip",_element:Up,positioners:fi,afterInit(t,e,n){n&&(t.tooltip=new Up({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const yN=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function bN(t,e,n,r){const a=t.indexOf(e);if(a===-1)return yN(t,e,n,r);const o=t.lastIndexOf(e);return a!==o?n:a}const vN=(t,e)=>t===null?null:kt(Math.round(t),0,e);function $p(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class wN extends xr{static id="category";static defaults={ticks:{callback:$p}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:a,label:o}of n)r[a]===o&&r.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($e(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:bN(r,e,ke(n,e),this._addedLabels),vN(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let u=e;u<=n;u++)a.push({value:u});return a}getLabelForValue(e){return $p.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function _N(t,e){const n=[],{bounds:a,step:o,min:u,max:d,precision:h,count:m,maxTicks:g,maxDigits:y,includeBounds:b}=t,N=o||1,j=g-1,{min:_,max:w}=e,P=!$e(u),k=!$e(d),R=!$e(m),M=(w-_)/(y+1);let F=Um((w-_)/j/N)*N,V,z,D,H;if(F<1e-14&&!P&&!k)return[{value:_},{value:w}];H=Math.ceil(w/F)-Math.floor(_/F),H>j&&(F=Um(H*F/j/N)*N),$e(h)||(V=Math.pow(10,h),F=Math.ceil(F*V)/V),a==="ticks"?(z=Math.floor(_/F)*F,D=Math.ceil(w/F)*F):(z=_,D=w),P&&k&&o&&M1((d-u)/o,F/1e3)?(H=Math.round(Math.min((d-u)/F,g)),F=(d-u)/H,z=u,D=d):R?(z=P?u:z,D=k?d:D,H=m-1,F=(D-z)/H):(H=(D-z)/F,mi(H,Math.round(H),F/1e3)?H=Math.round(H):H=Math.ceil(H));const Q=Math.max($m(F),$m(z));V=Math.pow(10,$e(h)?Q:h),z=Math.round(z*V)/V,D=Math.round(D*V)/V;let ne=0;for(P&&(b&&z!==u?(n.push({value:u}),z<u&&ne++,mi(Math.round((z+ne*F)*V)/V,u,Hp(u,M,t))&&ne++):z<u&&ne++);ne<H;++ne){const Y=Math.round((z+ne*F)*V)/V;if(k&&Y>d)break;n.push({value:Y})}return k&&b&&D!==d?n.length&&mi(n[n.length-1].value,d,Hp(d,M,t))?n[n.length-1].value=d:n.push({value:d}):(!k||D===d)&&n.push({value:D}),n}function Hp(t,e,{horizontal:n,minRotation:r}){const a=ws(r),o=(n?Math.sin(a):Math.cos(a))||.001,u=.75*e*(""+t).length;return Math.min(e/o,u)}class jN extends xr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:a,max:o}=this;const u=h=>a=n?a:h,d=h=>o=r?o:h;if(e){const h=lr(a),m=lr(o);h<0&&m<0?d(0):h>0&&m>0&&u(0)}if(a===o){let h=o===0?1:Math.abs(o*.05);d(o+h),e||u(a-h)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,a;return r?(a=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const a={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,u=_N(a,o);return e.bounds==="ticks"&&D1(u,this,"value"),e.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const a=(r-n)/Math.max(e.length-1,1)/2;n-=a,r+=a}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Hg(e,this.chart.options.locale,this.options.ticks.format)}}class NN extends jN{static id="linear";static defaults={ticks:{callback:Wg.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=mt(e)?e:0,this.max=mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ws(this.options.ticks.minRotation),a=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Uo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(Uo);function Wp(t,e){return t-e}function Vp(t,e){if($e(e))return null;const n=t._adapter,{parser:r,round:a,isoWeekday:o}=t._parseOpts;let u=e;return typeof r=="function"&&(u=r(u)),mt(u)||(u=typeof r=="string"?n.parse(u,r):n.parse(u)),u===null?null:(a&&(u=a==="week"&&(bo(o)||o===!0)?n.startOf(u,"isoWeek",o):n.startOf(u,a)),+u)}function qp(t,e,n,r){const a=Nt.length;for(let o=Nt.indexOf(t);o<a-1;++o){const u=Uo[Nt[o]],d=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-e)/(d*u.size))<=r)return Nt[o]}return Nt[a-1]}function kN(t,e,n,r,a){for(let o=Nt.length-1;o>=Nt.indexOf(n);o--){const u=Nt[o];if(Uo[u].common&&t._adapter.diff(a,r,u)>=e-1)return u}return Nt[n?Nt.indexOf(n):0]}function SN(t){for(let e=Nt.indexOf(t)+1,n=Nt.length;e<n;++e)if(Uo[Nt[e]].common)return Nt[e]}function Yp(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:a}=qu(n,e),o=n[r]>=e?n[r]:n[a];t[o]=!0}}function CN(t,e,n,r){const a=t._adapter,o=+a.startOf(e[0].value,r),u=e[e.length-1].value;let d,h;for(d=o;d<=u;d=+a.add(d,1,r))h=n[d],h>=0&&(e[h].major=!0);return e}function Kp(t,e,n){const r=[],a={},o=e.length;let u,d;for(u=0;u<o;++u)d=e[u],a[d]=u,r.push({value:d,major:!1});return o===0||!n?r:CN(t,r,a,n)}class Xp extends xr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),a=this._adapter=new rj._date(e.adapters.date);a.init(n),hi(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Vp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:a,max:o,minDefined:u,maxDefined:d}=this.getUserBounds();function h(m){!u&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!d&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!u||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=mt(a)&&!isNaN(a)?a:+n.startOf(Date.now(),r),o=mt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,a=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,u=this.max,d=I1(a,o,u);return this._unit=n.unit||(r.autoSkip?qp(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):kN(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:SN(this._unit),this.initOffsets(a),e.reverse&&d.reverse(),Kp(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;n=kt(n,0,u),r=kt(r,0,u),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,a=this.options,o=a.time,u=o.unit||qp(o.minUnit,n,r,this._getLabelCapacity(n)),d=ke(a.ticks.stepSize,1),h=u==="week"?o.isoWeekday:!1,m=bo(h)||h===!0,g={};let y=n,b,N;if(m&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,m?"day":u),e.diff(r,n,u)>1e5*d)throw new Error(n+" and "+r+" are too far apart with stepSize of "+d+" "+u);const j=a.ticks.source==="data"&&this.getDataTimestamps();for(b=y,N=0;b<r;b=+e.add(b,d,u),N++)Yp(g,b,j);return(b===r||a.bounds==="ticks"||N===1)&&Yp(g,b,j),Object.keys(g).sort(Wp).map(_=>+_)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,u=n||a[o];return this._adapter.format(e,u)}_tickFormatFunction(e,n,r,a){const o=this.options,u=o.ticks.callback;if(u)return Le(u,[e,n,r],this);const d=o.time.displayFormats,h=this._unit,m=this._majorUnit,g=h&&d[h],y=m&&d[m],b=r[n],N=m&&y&&b&&b.major;return this._adapter.format(e,a||(N?y:g))}generateTickLabels(e){let n,r,a;for(n=0,r=e.length;n<r;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,a=ws(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),u=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:r*o+d*u,h:r*u+d*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,a=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Kp(this,[e],this._majorUnit),a),u=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,r=a.length;n<r;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const a=this.getLabels();for(n=0,r=a.length;n<r;++n)e.push(Vp(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return B1(e.sort(Wp))}}function ro(t,e,n){let r=0,a=t.length-1,o,u,d,h;n?(e>=t[r].pos&&e<=t[a].pos&&({lo:r,hi:a}=_u(t,"pos",e)),{pos:o,time:d}=t[r],{pos:u,time:h}=t[a]):(e>=t[r].time&&e<=t[a].time&&({lo:r,hi:a}=_u(t,"time",e)),{time:o,pos:d}=t[r],{time:u,pos:h}=t[a]);const m=u-o;return m?d+(h-d)*(e-o)/m:d}class YN extends Xp{static id="timeseries";static defaults=Xp.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ro(n,this.min),this._tableRange=ro(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,a=[],o=[];let u,d,h,m,g;for(u=0,d=e.length;u<d;++u)m=e[u],m>=n&&m<=r&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(u=0,d=a.length;u<d;++u)g=a[u+1],h=a[u-1],m=a[u],Math.round((g+h)/2)!==m&&o.push({time:m,pos:u/(d-1)});return o}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ro(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return ro(this._table,r*this._tableRange+this._minPos,!0)}}px.register(wN,NN,P2,zo,O2,b2,cN,xN,oN,tN);function EN(){return l.jsx(Cb,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsxs(um,{children:[l.jsx(ut,{path:"/login",element:l.jsx(Pw,{})}),l.jsx(ut,{path:"/",element:localStorage.getItem("authToken")?l.jsx(ou,{to:"/dashboard",replace:!0}):l.jsx(ou,{to:"/login",replace:!0})}),l.jsx(ut,{path:"/*",element:l.jsx(Gb,{children:l.jsx(Qb,{children:l.jsxs(um,{children:[l.jsx(ut,{path:"/dashboard",element:l.jsx(Mw,{})}),l.jsx(ut,{path:"/user-management",element:l.jsx(Tw,{})}),l.jsx(ut,{path:"/role-management",element:l.jsx(Lw,{})}),l.jsx(ut,{path:"/campaign-types",element:l.jsx(zw,{})}),l.jsx(ut,{path:"/campaign-data",element:l.jsx(Bw,{})}),l.jsx(ut,{path:"/cards",element:l.jsx(Ww,{})}),l.jsx(ut,{path:"/card-users",element:l.jsx(qw,{})}),l.jsx(ut,{path:"/campaigns",element:l.jsx($w,{})}),l.jsx(ut,{path:"/analytics",element:l.jsx("div",{className:"p-6",children:"Analytics Module (Coming Soon)"})}),l.jsx(ut,{path:"/reports-table",element:l.jsx(Jw,{})}),l.jsx(ut,{path:"/reports",element:l.jsx(Xw,{})}),l.jsx(ut,{path:"/settings",element:l.jsx("div",{className:"p-6",children:"Settings Module (Coming Soon)"})})]})})})})]})})}Ry.createRoot(document.getElementById("root")).render(l.jsx(Ru.StrictMode,{children:l.jsx(EN,{})}));
